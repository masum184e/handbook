"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[68754],{18915(e,r,n){n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"system-design/API Gateway","title":"API Gateway","description":"An API Gateway is a critical component in system design, particularly in microservices architecture. It acts as a single entry point for all client requests and routes them to the appropriate backend services.","source":"@site/docs/system-design/6. API Gateway.md","sourceDirName":"system-design","slug":"/system-design/API Gateway","permalink":"/handbook/docs/system-design/API Gateway","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"systemDesignSidebar","previous":{"title":"Reverse Proxy","permalink":"/handbook/docs/system-design/Reverse Proxy"},"next":{"title":"Load Balancer","permalink":"/handbook/docs/system-design/Load Balancer"}}');var t=n(74848),i=n(28453);const a={sidebar_position:7},c=void 0,d={},l=[{value:"Features of API Gateway",id:"features-of-api-gateway",level:2},{value:"Why Use an API Gateway?",id:"why-use-an-api-gateway",level:2},{value:"API Gateway Worflow",id:"api-gateway-worflow",level:2},{value:"Example of API Gateway",id:"example-of-api-gateway",level:2},{value:"Benefits and Trade-offs of API Gateway",id:"benefits-and-trade-offs-of-api-gateway",level:2}];function o(e){const r={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"An API Gateway is a critical component in system design, particularly in microservices architecture. It acts as a single entry point for all client requests and routes them to the appropriate backend services."}),"\n",(0,t.jsx)(r.h2,{id:"features-of-api-gateway",children:"Features of API Gateway"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Feature"}),(0,t.jsx)(r.th,{children:"Purpose"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"Routing"})}),(0,t.jsx)(r.td,{children:"Request goes to the right microservice"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"Auth"})}),(0,t.jsx)(r.td,{children:"Verifies user credentials (e.g., JWT)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"Rate Limiting"})}),(0,t.jsx)(r.td,{children:"Protects backend from overload"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"Caching"})}),(0,t.jsx)(r.td,{children:"Reduces load, speeds up repeated queries"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"Load Balancing"})}),(0,t.jsx)(r.td,{children:"Distributes traffic across instances"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"Monitoring"})}),(0,t.jsx)(r.td,{children:"Logs metrics for observability"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"why-use-an-api-gateway",children:"Why Use an API Gateway?"}),"\n",(0,t.jsx)(r.p,{children:"In microservices, services are often broken into small units (e.g., auth, order, payment, etc.). If clients (like mobile apps or browsers) directly interact with all these, it:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Increases complexity"}),"\n",(0,t.jsx)(r.li,{children:"Exposes internal service structure"}),"\n",(0,t.jsx)(r.li,{children:"Requires handling cross-cutting concerns multiple times"}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"An API Gateway abstracts these concerns and centralizes them."}),"\n",(0,t.jsx)(r.h2,{id:"api-gateway-worflow",children:"API Gateway Worflow"}),"\n",(0,t.jsx)(r.p,{children:"Let\u2019s say you\u2019re designing an e-commerce system:"}),"\n",(0,t.jsx)(r.p,{children:"Services:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"User Service"})," (",(0,t.jsx)(r.code,{children:"/users"}),")"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"Product Service"})," (",(0,t.jsx)(r.code,{children:"/products"}),")"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"Order Service"})," (",(0,t.jsx)(r.code,{children:"/orders"}),")"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"Client Flow:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["The client sends a request to ",(0,t.jsx)(r.code,{children:"/api/products"}),"."]}),"\n",(0,t.jsx)(r.li,{children:"The API Gateway receives the request."}),"\n",(0,t.jsx)(r.li,{children:"It authenticates the user (via token)."}),"\n",(0,t.jsxs)(r.li,{children:["It routes the request to the ",(0,t.jsx)(r.code,{children:"Product Service"}),"."]}),"\n",(0,t.jsx)(r.li,{children:"The response comes back to the gateway."}),"\n",(0,t.jsx)(r.li,{children:"The gateway may transform the response."}),"\n",(0,t.jsx)(r.li,{children:"The client gets the response."}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"example-of-api-gateway",children:"Example of API Gateway"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:'// api-gateway.js\r\nconst express = require("express");\r\nconst { createProxyMiddleware } = require("http-proxy-middleware");\r\n\r\nconst app = express();\r\n\r\n// Middleware: Log all requests\r\napp.use((req, res, next) => {\r\n  console.log(`[Gateway] ${req.method} ${req.originalUrl}`);\r\n  next();\r\n});\r\n\r\n// Forward /users requests\r\napp.use(\r\n  "/users",\r\n  createProxyMiddleware({\r\n    target: "http://localhost:5001", // User Service\r\n    changeOrigin: true,\r\n  })\r\n);\r\n\r\n// Forward /products requests\r\napp.use(\r\n  "/products",\r\n  createProxyMiddleware({\r\n    target: "http://localhost:5002", // Product Service\r\n    changeOrigin: true,\r\n  })\r\n);\r\n\r\n// Forward /orders requests\r\napp.use(\r\n  "/orders",\r\n  createProxyMiddleware({\r\n    target: "http://localhost:5003", // Order Service\r\n    changeOrigin: true,\r\n  })\r\n);\r\n\r\napp.listen(3000, () => {\r\n  console.log("API Gateway running on port 3000");\r\n});\n'})}),"\n",(0,t.jsx)(r.h2,{id:"benefits-and-trade-offs-of-api-gateway",children:"Benefits and Trade-offs of API Gateway"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:(0,t.jsx)(r.strong,{children:"Benefits"})}),(0,t.jsx)(r.th,{children:(0,t.jsx)(r.strong,{children:"Trade-offs"})})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Simplifies client interaction"}),(0,t.jsx)(r.td,{children:"Single point of failure (if not replicated)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Centralizes security and logging"}),(0,t.jsx)(r.td,{children:"Adds latency (extra network hop)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Enables decoupled service development"}),(0,t.jsx)(r.td,{children:"Can become complex (requires scaling & config management)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Supports versioning, throttling, caching"}),(0,t.jsx)(r.td,{})]})]})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453(e,r,n){n.d(r,{R:()=>a,x:()=>c});var s=n(96540);const t={},i=s.createContext(t);function a(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);