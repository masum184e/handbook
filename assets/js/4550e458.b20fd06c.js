"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[33822],{28453(e,n,r){r.d(n,{R:()=>i,x:()=>l});var s=r(96540);const c={},t=s.createContext(c);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(t.Provider,{value:n},e.children)}},86249(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>o,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"rust/Data Structure/Vectors","title":"Vectors","description":"A vector is a growable, heap-allocated array that stores values of the same type in contiguous memory.","source":"@site/docs/rust/11. Data Structure/3. Vectors.md","sourceDirName":"rust/11. Data Structure","slug":"/rust/Data Structure/Vectors","permalink":"/handbook/docs/rust/Data Structure/Vectors","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"rustApiSidebar","previous":{"title":"Arrays","permalink":"/handbook/docs/rust/Data Structure/Arrays"},"next":{"title":"Tuples","permalink":"/handbook/docs/rust/Data Structure/Tuples"}}');var c=r(74848),t=r(28453);const i={},l=void 0,d={},a=[{value:"Key Characteristics of <code>Vec&lt;T&gt;</code>",id:"key-characteristics-of-vect",level:2},{value:"Creating Vectors",id:"creating-vectors",level:2},{value:"Adding Elements",id:"adding-elements",level:2},{value:"Accessing Elements",id:"accessing-elements",level:2},{value:"Iterating Over Vectors",id:"iterating-over-vectors",level:2},{value:"Removing Elements",id:"removing-elements",level:2},{value:"Slicing Vectors (&amp;[T])",id:"slicing-vectors-t",level:2},{value:"Vectors and Ownership",id:"vectors-and-ownership",level:2},{value:"Storing Different Types (Using Enums)",id:"storing-different-types-using-enums",level:2},{value:"Common Vector Methods",id:"common-vector-methods",level:2},{value:"Arrays vs Vectors (Quick Recap)",id:"arrays-vs-vectors-quick-recap",level:2}];function h(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"A vector is a growable, heap-allocated array that stores values of the same type in contiguous memory."}),"\n",(0,c.jsxs)(n.p,{children:["Think of ",(0,c.jsx)(n.code,{children:"Vec<T>"})," as: \u201cAn array that can grow and shrink safely.\u201d"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let v = vec![1, 2, 3];\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Stores elements of type i32"}),"\n",(0,c.jsx)(n.li,{children:"Allocated on the heap"}),"\n",(0,c.jsx)(n.li,{children:"Size can change at runtime"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Explicit Type"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let v: Vec<i32> = Vec::new();\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"Vec<T>"})," is generic \u2014 it works with any type."]}),"\n",(0,c.jsxs)(n.h2,{id:"key-characteristics-of-vect",children:["Key Characteristics of ",(0,c.jsx)(n.code,{children:"Vec<T>"})]}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Feature"}),(0,c.jsx)(n.th,{children:"Vector"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Size"}),(0,c.jsx)(n.td,{children:"Dynamic"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Memory"}),(0,c.jsx)(n.td,{children:"Heap"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Grow/Shrink"}),(0,c.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Indexing"}),(0,c.jsx)(n.td,{children:"O(1)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Ownership"}),(0,c.jsx)(n.td,{children:"Owns elements"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Safety"}),(0,c.jsx)(n.td,{children:"Bounds-checked"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"creating-vectors",children:"Creating Vectors"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Empty Vector: ",(0,c.jsx)(n.code,{children:"let mut v: Vec<i32> = Vec::new();"})]}),"\n",(0,c.jsxs)(n.li,{children:["Using vec! Macro: ",(0,c.jsx)(n.code,{children:"let v = vec![10, 20, 30];"})]}),"\n",(0,c.jsxs)(n.li,{children:["Initialize with Repeated Values: ",(0,c.jsx)(n.code,{children:"let v = vec![0; 5];"})," Creates: ",(0,c.jsx)(n.code,{children:"[0, 0, 0, 0, 0]"})]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"adding-elements",children:"Adding Elements"}),"\n",(0,c.jsxs)(n.p,{children:["Using ",(0,c.jsx)(n.code,{children:"push()"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let mut v = Vec::new();\r\n\r\nv.push(1);\r\nv.push(2);\r\nv.push(3);\n"})}),"\n",(0,c.jsx)(n.p,{children:"Vector grows automatically."}),"\n",(0,c.jsx)(n.p,{children:"Capacity vs Length"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'let mut v = Vec::with_capacity(5);\r\n\r\nv.push(1);\r\nv.push(2);\r\n\r\nprintln!("Length: {}", v.len());\r\nprintln!("Capacity: {}", v.capacity());\n'})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"len()"})," \u2192 number of elements"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"capacity()"})," \u2192 allocated space"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"accessing-elements",children:"Accessing Elements"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Using Index (Risky)"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'let v = vec![10, 20, 30];\r\nprintln!("{}", v[1]); // 20\n'})}),"\n",(0,c.jsx)(n.p,{children:"Panic if index is out of bounds."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.strong,{children:["Safe Access Using ",(0,c.jsx)(n.code,{children:".get()"})]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'let v = vec![10, 20, 30];\r\n\r\nmatch v.get(5) {\r\n    Some(value) => println!("{}", value),\r\n    None => println!("Index out of bounds"),\r\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"iterating-over-vectors",children:"Iterating Over Vectors"}),"\n",(0,c.jsx)(n.p,{children:"Immutable Iteration"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'let v = vec![1, 2, 3];\r\n\r\nfor x in &v {\r\n    println!("{}", x);\r\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Mutable Iteration"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let mut v = vec![1, 2, 3];\r\n\r\nfor x in &mut v {\r\n    *x *= 2;\r\n}\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Vector becomes: ",(0,c.jsx)(n.code,{children:"[2, 4, 6]"})]}),"\n",(0,c.jsx)(n.p,{children:"Consuming Iteration"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'let v = vec![1, 2, 3];\r\n\r\nfor x in v {\r\n    println!("{}", x);\r\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"v"})," is moved and can\u2019t be used after."]}),"\n",(0,c.jsx)(n.h2,{id:"removing-elements",children:"Removing Elements"}),"\n",(0,c.jsx)(n.p,{children:"Remove Last Element"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let mut v = vec![1, 2, 3];\r\nlet last = v.pop();\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"last"})," is ",(0,c.jsx)(n.code,{children:"Option<i32>"})]}),"\n",(0,c.jsx)(n.p,{children:"Remove by Index"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let mut v = vec![10, 20, 30];\r\nv.remove(1);\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Vector becomes: ",(0,c.jsx)(n.code,{children:"[10, 30]"})]}),"\n",(0,c.jsx)(n.h2,{id:"slicing-vectors-t",children:"Slicing Vectors (&[T])"}),"\n",(0,c.jsx)(n.p,{children:"Create a Slice"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let v = vec![1, 2, 3, 4, 5];\r\nlet slice = &v[1..4];\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Type: ",(0,c.jsx)(n.code,{children:"&[i32]"})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Why Slices Matter"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"No ownership transfer"}),"\n",(0,c.jsx)(n.li,{children:"Works for arrays and vectors"}),"\n",(0,c.jsx)(n.li,{children:"Ideal for function parameters"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'fn print_slice(slice: &[i32]) {\r\n    for x in slice {\r\n        println!("{}", x);\r\n    }\r\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"vectors-and-ownership",children:"Vectors and Ownership"}),"\n",(0,c.jsx)(n.p,{children:"Moving a Vector"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let v1 = vec![1, 2, 3];\r\nlet v2 = v1; // ownership moved\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"v1"})," is no longer valid."]}),"\n",(0,c.jsx)(n.p,{children:"Borrowing a Vector"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'let v = vec![1, 2, 3];\r\nprint_vec(&v);\r\n\r\nfn print_vec(v: &Vec<i32>) {\r\n    println!("{:?}", v);\r\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Better:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'fn print_vec(v: &[i32]) {\r\n    println!("{:?}", v);\r\n}\n'})}),"\n",(0,c.jsx)(n.h2,{id:"storing-different-types-using-enums",children:"Storing Different Types (Using Enums)"}),"\n",(0,c.jsx)(n.p,{children:"Vectors can store only one type, but enums help."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'enum Value {\r\n    Int(i32),\r\n    Float(f64),\r\n    Text(String),\r\n}\r\n\r\nlet v = vec![\r\n    Value::Int(10),\r\n    Value::Float(3.14),\r\n    Value::Text(String::from("Rust")),\r\n];\n'})}),"\n",(0,c.jsx)(n.h2,{id:"common-vector-methods",children:"Common Vector Methods"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Method"}),(0,c.jsx)(n.th,{children:"Purpose"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"push()"})}),(0,c.jsx)(n.td,{children:"Add element"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"pop()"})}),(0,c.jsx)(n.td,{children:"Remove last"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"len()"})}),(0,c.jsx)(n.td,{children:"Number of elements"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"capacity()"})}),(0,c.jsx)(n.td,{children:"Allocated space"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"clear()"})}),(0,c.jsx)(n.td,{children:"Remove all"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"contains()"})}),(0,c.jsx)(n.td,{children:"Check value"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"sort()"})}),(0,c.jsx)(n.td,{children:"Sort elements"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"arrays-vs-vectors-quick-recap",children:"Arrays vs Vectors (Quick Recap)"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Feature"}),(0,c.jsx)(n.th,{children:"Array"}),(0,c.jsx)(n.th,{children:"Vector"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Size"}),(0,c.jsx)(n.td,{children:"Fixed"}),(0,c.jsx)(n.td,{children:"Dynamic"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Memory"}),(0,c.jsx)(n.td,{children:"Stack"}),(0,c.jsx)(n.td,{children:"Heap"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Resize"}),(0,c.jsx)(n.td,{children:"\u274c"}),(0,c.jsx)(n.td,{children:"\u2705"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Use case"}),(0,c.jsx)(n.td,{children:"Known size"}),(0,c.jsx)(n.td,{children:"Runtime data"})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}}}]);