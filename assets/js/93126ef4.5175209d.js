"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[38195],{28453(e,r,s){s.d(r,{R:()=>d,x:()=>o});var n=s(96540);const i={},t=n.createContext(i);function d(e){const r=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(t.Provider,{value:r},e.children)}},89077(e,r,s){s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"system-design/Reverse Proxy","title":"Reverse Proxy","description":"A reverse proxy is a server that sits in front of backend servers and routes client requests to the appropriate server, then returns the response to the client as if it came from the proxy itself.","source":"@site/docs/system-design/5. Reverse Proxy.md","sourceDirName":"system-design","slug":"/system-design/Reverse Proxy","permalink":"/handbook/docs/system-design/Reverse Proxy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"systemDesignSidebar","previous":{"title":"Caching","permalink":"/handbook/docs/system-design/Caching"},"next":{"title":"API Gateway","permalink":"/handbook/docs/system-design/API Gateway"}}');var i=s(74848),t=s(28453);const d={sidebar_position:6},o=void 0,l={},c=[{value:"Why Use a Reverse Proxy?",id:"why-use-a-reverse-proxy",level:2},{value:"How It Works (Request Flow)",id:"how-it-works-request-flow",level:2},{value:"Example of reverse proxy",id:"example-of-reverse-proxy",level:2},{value:"Example of reverse proxy with NGINX",id:"example-of-reverse-proxy-with-nginx",level:2},{value:"Security Benefits",id:"security-benefits",level:2},{value:"Tools Commonly Used as Reverse Proxies",id:"tools-commonly-used-as-reverse-proxies",level:2},{value:"Reverse Proxy vs Load Balancer",id:"reverse-proxy-vs-load-balancer",level:2}];function h(e){const r={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.p,{children:"A reverse proxy is a server that sits in front of backend servers and routes client requests to the appropriate server, then returns the response to the client as if it came from the proxy itself."}),"\n",(0,i.jsx)(r.p,{children:"It is called \u201creverse\u201d because it works in the opposite direction of a forward proxy (which forwards internal requests to external servers)."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Where Does It Sit?"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"Client --\x3e Reverse Proxy --\x3e Backend Servers\n"})}),"\n",(0,i.jsx)(r.h2,{id:"why-use-a-reverse-proxy",children:"Why Use a Reverse Proxy?"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Feature"}),(0,i.jsx)(r.th,{children:"Benefit"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Load Balancing"})}),(0,i.jsx)(r.td,{children:"Distributes traffic across multiple servers to prevent overload."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"SSL Termination"})}),(0,i.jsx)(r.td,{children:"Handles HTTPS encryption/decryption so backend servers don\u2019t have to."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Caching"})}),(0,i.jsx)(r.td,{children:"Stores responses to reduce load on backend servers."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Compression"})}),(0,i.jsx)(r.td,{children:"Optimizes data sent to clients, improving performance."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Security (WAF)"})}),(0,i.jsx)(r.td,{children:"Hides backend servers, filters malicious traffic (e.g., DDoS protection)."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Routing & Path-based Proxying"})}),(0,i.jsx)(r.td,{children:"Directs requests to the right service or endpoint based on rules."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Authentication"})}),(0,i.jsx)(r.td,{children:"Can require and validate tokens or credentials before passing to backend."})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"how-it-works-request-flow",children:"How It Works (Request Flow)"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["User sends a request to a public IP/domain (e.g., ",(0,i.jsx)(r.code,{children:"https://example.com"}),")."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"The DNS points to the reverse proxy server (e.g., NGINX, HAProxy)."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"The reverse proxy:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Checks rules (e.g., load balance, path match)."}),"\n",(0,i.jsx)(r.li,{children:"Forwards the request to the correct backend server."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"The backend processes the request and returns a response."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"The reverse proxy sends the response back to the user."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"example-of-reverse-proxy",children:"Example of reverse proxy"}),"\n",(0,i.jsx)(r.p,{children:"System Design"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-shell",children:"Client (Browser)\r\n      \u2193\r\nNGINX Reverse Proxy (HTTPS)\r\n \u251c\u2500\u2500> Web Server 1 (Node.js)\r\n \u251c\u2500\u2500> Web Server 2 (Node.js)\r\n \u2514\u2500\u2500> API Server (Python Flask)\n"})}),"\n",(0,i.jsx)(r.p,{children:"NGINX Reverse Proxy Configuration Example:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-shell",children:"server {\r\n    listen 80;\r\n    server_name example.com;\r\n\r\n    location / {\r\n        proxy_pass http://web_servers;\r\n    }\r\n\r\n    location /api/ {\r\n        proxy_pass http://api_server;\r\n    }\r\n}\r\n\r\nupstream web_servers {\r\n    server 10.0.0.1;\r\n    server 10.0.0.2;\r\n}\r\n\r\nupstream api_server {\r\n    server 10.0.0.3;\r\n}\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"What This Does:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"/"})," path goes to one of the two web servers (load-balanced)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"/api/"})," path goes to the backend API server."]}),"\n",(0,i.jsxs)(r.li,{children:["Client only knows about ",(0,i.jsx)(r.code,{children:"example.com"}),", not the internal IPs."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"example-of-reverse-proxy-with-nginx",children:"Example of reverse proxy with NGINX"}),"\n",(0,i.jsx)(r.p,{children:"A reverse proxy like NGINX or Traefik is often used in microservices-based architectures to:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Expose a single entry point (API Gateway style)"}),"\n",(0,i.jsxs)(r.li,{children:["Route ",(0,i.jsx)(r.code,{children:"/users"}),", ",(0,i.jsx)(r.code,{children:"/orders"}),", ",(0,i.jsx)(r.code,{children:"/products"})," to the correct microservices"]}),"\n",(0,i.jsx)(r.li,{children:"Handle authentication, rate limiting, logging, etc."}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\nClient --\x3e \u2502   Reverse Proxy (Traefik)  \u2502\r\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n              \u251c\u2500\u2500 /users  \u2500\u2500> User Service\r\n              \u251c\u2500\u2500 /orders \u2500\u2500> Order Service\r\n              \u2514\u2500\u2500 /cart   \u2500\u2500> Cart Service\n"})}),"\n",(0,i.jsx)(r.h2,{id:"security-benefits",children:"Security Benefits"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Backend IPs and ports are never exposed to the public."}),"\n",(0,i.jsx)(r.li,{children:"Reverse proxy can act as a Web Application Firewall (WAF)."}),"\n",(0,i.jsx)(r.li,{children:"Supports rate limiting, IP whitelisting, and DDOS mitigation."}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"tools-commonly-used-as-reverse-proxies",children:"Tools Commonly Used as Reverse Proxies"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Tool"}),(0,i.jsx)(r.th,{children:"Notes"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"NGINX"})}),(0,i.jsx)(r.td,{children:"Lightweight, widely used, supports caching and load balancing."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"HAProxy"})}),(0,i.jsx)(r.td,{children:"High performance, advanced load balancing, used in enterprise."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Apache HTTPD"})}),(0,i.jsx)(r.td,{children:"Can be configured as a reverse proxy."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Traefik"})}),(0,i.jsx)(r.td,{children:"Cloud-native reverse proxy with automatic service discovery."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Envoy"})}),(0,i.jsx)(r.td,{children:"Modern proxy used in service meshes (e.g., Istio)."})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"reverse-proxy-vs-load-balancer",children:"Reverse Proxy vs Load Balancer"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Feature"}),(0,i.jsx)(r.th,{children:"Reverse Proxy"}),(0,i.jsx)(r.th,{children:"Load Balancer"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Main Function"})}),(0,i.jsx)(r.td,{children:"Routes requests to internal services"}),(0,i.jsx)(r.td,{children:"Balances traffic load"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Visibility"})}),(0,i.jsx)(r.td,{children:"Hides backend logic"}),(0,i.jsx)(r.td,{children:"Hides server identity"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Traffic"})}),(0,i.jsx)(r.td,{children:"Can go to different apps"}),(0,i.jsx)(r.td,{children:"Goes to same app on multiple instances"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Caching"})}),(0,i.jsx)(r.td,{children:"Often used for caching"}),(0,i.jsx)(r.td,{children:"Rarely used for caching"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Security Role"})}),(0,i.jsx)(r.td,{children:"Protects backend, enforces policies"}),(0,i.jsx)(r.td,{children:"Less focused on security"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Common Tools"})}),(0,i.jsx)(r.td,{children:"Nginx, Apache, Traefik"}),(0,i.jsx)(r.td,{children:"HAProxy, AWS ELB, Nginx, Envoy"})]})]})]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"Client \u2192 Reverse Proxy \u2192 Load Balancer \u2192 App Servers\n"})})]})}function a(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);