"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[316],{28453(e,n,s){s.d(n,{R:()=>t,x:()=>r});var l=s(96540);const i={},d=l.createContext(i);function t(e){const n=l.useContext(d);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),l.createElement(d.Provider,{value:n},e.children)}},58858(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"mysql/Tables","title":"Tables","description":"Creating tables","source":"@site/docs/mysql/8. Tables.md","sourceDirName":"mysql","slug":"/mysql/Tables","permalink":"/handbook/docs/mysql/Tables","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"mysqlSidebar","previous":{"title":"Constraints","permalink":"/handbook/docs/mysql/Constraints"},"next":{"title":"SQL Statements","permalink":"/handbook/docs/mysql/SQL Statements"}}');var i=s(74848),d=s(28453);const t={sidebar_position:9},r=void 0,a={},c=[{value:"Creating tables",id:"creating-tables",level:2},{value:"Viewing the table structure",id:"viewing-the-table-structure",level:2},{value:"Modifying tables",id:"modifying-tables",level:2},{value:"General Syntax",id:"general-syntax",level:3},{value:"Dropping tables",id:"dropping-tables",level:2},{value:"General Syntax",id:"general-syntax-1",level:3},{value:"Key Differences from <code>TRUNCATE TABLE</code>",id:"key-differences-from-truncate-table",level:3},{value:"Adding and Removing Constraints",id:"adding-and-removing-constraints",level:2},{value:"Adding Constraints with <code>ALTER TABLE</code>",id:"adding-constraints-with-alter-table",level:3},{value:"Adding a PRIMARY KEY",id:"adding-a-primary-key",level:4},{value:"Adding a FOREIGN KEY",id:"adding-a-foreign-key",level:4},{value:"Adding a UNIQUE Constraint",id:"adding-a-unique-constraint",level:4},{value:"Adding a CHECK Constraint",id:"adding-a-check-constraint",level:4},{value:"DEFAULT Constraint",id:"default-constraint",level:4},{value:"Removing Constraints",id:"removing-constraints",level:3},{value:"How to Find Constraint Names",id:"how-to-find-constraint-names",level:3}];function o(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"creating-tables",children:"Creating tables"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"CREATE TABLE"})," is an SQL statement used to create a new table in a database.\r\nWhen you create a table, you define:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Table name"}),"\n",(0,i.jsx)(n.li,{children:"Column names"}),"\n",(0,i.jsx)(n.li,{children:"Data types for each column"}),"\n",(0,i.jsxs)(n.li,{children:["Constraints (rules like ",(0,i.jsx)(n.code,{children:"PRIMARY KEY"}),", ",(0,i.jsx)(n.code,{children:"NOT NULL"}),", ",(0,i.jsx)(n.code,{children:"UNIQUE"}),", ",(0,i.jsx)(n.code,{children:"FOREIGN KEY"}),", etc.)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Once created, the table becomes a permanent structure in your database (until dropped)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"General Syntax"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE table_name (\r\n    column_name1 data_type constraint,\r\n    column_name2 data_type constraint,\r\n    ...\r\n    table_constraints\r\n);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"table_name"})," \u2192 The name of your new table."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"column_name"})," \u2192 Each column\u2019s name."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"data_type"})," \u2192 The kind of data the column will store (e.g., ",(0,i.jsx)(n.code,{children:"INT"}),", ",(0,i.jsx)(n.code,{children:"VARCHAR"}),", ",(0,i.jsx)(n.code,{children:"DATE"}),", ",(0,i.jsx)(n.code,{children:"DECIMAL"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"constraint"})," \u2192 Rules for the column (e.g., ",(0,i.jsx)(n.code,{children:"NOT NULL"}),", ",(0,i.jsx)(n.code,{children:"UNIQUE"}),", ",(0,i.jsx)(n.code,{children:"PRIMARY KEY"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"table_constraints"})," \u2192 Constraints applied to the table as a whole (e.g., a ",(0,i.jsx)(n.code,{children:"PRIMARY KEY"})," defined at the end)."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE students (\r\n    student_id CHAR(10) PRIMARY KEY,         -- Unique ID like 'STU2025001'\r\n    name VARCHAR(100) NOT NULL,              -- Student name\r\n    email VARCHAR(255) UNIQUE NOT NULL,      -- Unique email address\r\n    date_of_birth DATE,                      -- Date of birth\r\n    enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- Auto-filled when record created\r\n    gpa DECIMAL(3,2) CHECK (gpa >= 0.00 AND gpa <= 4.00) -- Must be between 0 and 4\r\n);\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"student_id CHAR(10) PRIMARY KEY"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CHAR(10)"})," \u2192 Fixed length string of exactly 10 characters."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PRIMARY KEY"})," \u2192 Ensures each ",(0,i.jsx)(n.code,{children:"student_id"})," is unique and not null."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name VARCHAR(100) NOT NULL"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"VARCHAR(100)"})," \u2192 Variable-length text up to 100 characters."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NOT NULL"})," \u2192 Cannot be left empty."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"email VARCHAR(255) UNIQUE NOT NULL"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UNIQUE"})," \u2192 No two students can have the same email."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NOT NULL"})," \u2192 Must always have an email."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"date_of_birth DATE"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stores date values (no time)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"enrollment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TIMESTAMP"})," \u2192 Date and time."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DEFAULT CURRENT_TIMESTAMP"})," \u2192 Automatically stores the current date & time when inserted."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"gpa DECIMAL(3,2) CHECK (gpa >= 0.00 AND gpa <= 4.00)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DECIMAL(3,2)"})," \u2192 Number with up to 3 digits, 2 of them after the decimal (e.g., ",(0,i.jsx)(n.code,{children:"3.75"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CHECK"})," \u2192 Ensures GPA is within 0.00 to 4.00."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"viewing-the-table-structure",children:"Viewing the table structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DESCRIBE students;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"modifying-tables",children:"Modifying tables"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ALTER TABLE"})," is an SQL command used to modify an existing table\u2019s structure without dropping and recreating it.\r\nIt allows you to:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add new columns"}),"\n",(0,i.jsx)(n.li,{children:"Modify existing columns"}),"\n",(0,i.jsx)(n.li,{children:"Rename columns"}),"\n",(0,i.jsx)(n.li,{children:"Drop columns"}),"\n",(0,i.jsx)(n.li,{children:"Add or remove constraints"}),"\n",(0,i.jsx)(n.li,{children:"Rename the table itself"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"general-syntax",children:"General Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\naction;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Where ",(0,i.jsx)(n.code,{children:"action"})," could be:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ADD column_name data_type constraints"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"DROP COLUMN column_name"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ALTER COLUMN column_name TYPE new_data_type"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"RENAME COLUMN old_name TO new_name"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ADD CONSTRAINT constraint_name constraint_definition"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"DROP CONSTRAINT constraint_name"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"RENAME TO new_table_name"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"dropping-tables",children:"Dropping tables"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DROP TABLE"})," is an SQL command used to completely delete a table from a database.\r\nWhen executed:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The table\u2019s structure is removed."}),"\n",(0,i.jsx)(n.li,{children:"All data in the table is permanently deleted."}),"\n",(0,i.jsx)(n.li,{children:"Any indexes, constraints, and triggers related to the table are also deleted."}),"\n",(0,i.jsx)(n.li,{children:"Important: This action cannot be undone (unless you have a backup)."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"general-syntax-1",children:"General Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP TABLE table_name; -- single\r\nDROP TABLE table1, table2, ...; -- multiple\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you try to drop a table that doesn\u2019t exist, some databases throw an error.\r\nTo avoid that:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP TABLE IF EXISTS students;\n"})}),"\n",(0,i.jsx)(n.p,{children:"If another table has a foreign key referencing the table you\u2019re trying to drop, most databases will block the operation.\r\nIn PostgreSQL, you can force it with CASCADE:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"DROP TABLE students CASCADE;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Drops ",(0,i.jsx)(n.code,{children:"students"})," and all dependent objects (foreign keys, views, etc.)."]}),"\n",(0,i.jsxs)(n.li,{children:["Be very careful \u2014 ",(0,i.jsx)(n.code,{children:"CASCADE"})," can remove more than you expect."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"key-differences-from-truncate-table",children:["Key Differences from ",(0,i.jsx)(n.code,{children:"TRUNCATE TABLE"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"DROP TABLE"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"TRUNCATE TABLE"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Deletes table structure & data"}),(0,i.jsx)(n.td,{children:"Deletes only data, keeps table structure"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Removes indexes, constraints"}),(0,i.jsx)(n.td,{children:"Keeps indexes, constraints"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cannot be rolled back (unless in a transaction)"}),(0,i.jsx)(n.td,{children:"Often can be rolled back in transactions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Requires re-creating table to use again"}),(0,i.jsx)(n.td,{children:"Table is ready to use after truncating"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"adding-and-removing-constraints",children:"Adding and Removing Constraints"}),"\n",(0,i.jsx)(n.p,{children:"Constraints are rules applied to columns or tables to ensure data integrity and accuracy."}),"\n",(0,i.jsx)(n.p,{children:"Common constraints include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PRIMARY KEY"})," \u2192 Uniquely identifies each row."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FOREIGN KEY"})," \u2192 Links rows to another table."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UNIQUE"})," \u2192 Ensures all values in a column are different."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NOT NULL"})," \u2192 Prevents null values."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CHECK"})," \u2192 Ensures values meet a condition."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DEFAULT"})," \u2192 Sets a default value for a column."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"adding-constraints-with-alter-table",children:["Adding Constraints with ",(0,i.jsx)(n.code,{children:"ALTER TABLE"})]}),"\n",(0,i.jsx)(n.h4,{id:"adding-a-primary-key",children:"Adding a PRIMARY KEY"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\nADD CONSTRAINT pk_constraint_name PRIMARY KEY (column_name);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pk_constraint_name"})," \u2192 Name of the primary key constraint."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"(column_name)"})," \u2192 Column(s) used for the primary key."]}),"\n",(0,i.jsx)(n.li,{children:"Column must be NOT NULL and unique."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"adding-a-foreign-key",children:"Adding a FOREIGN KEY"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\nADD CONSTRAINT fk_constraint_name FOREIGN KEY (column_name)\r\nREFERENCES parent_table(parent_column)\r\n[ON DELETE CASCADE]\r\n[ON UPDATE CASCADE];\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fk_constraint_name"})," \u2192 Name of the foreign key."]}),"\n",(0,i.jsx)(n.li,{children:"Ensures values in the column exist in the parent table."}),"\n",(0,i.jsxs)(n.li,{children:["Optional ",(0,i.jsx)(n.code,{children:"ON DELETE"})," / ",(0,i.jsx)(n.code,{children:"ON UPDATE"})," actions enforce cascading behavior."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"adding-a-unique-constraint",children:"Adding a UNIQUE Constraint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\nADD CONSTRAINT uq_constraint_name UNIQUE (column_name);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Guarantees all values in the column are distinct."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"adding-a-check-constraint",children:"Adding a CHECK Constraint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\nADD CONSTRAINT chk_constraint_name CHECK (condition);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensures column values meet a defined condition."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"default-constraint",children:"DEFAULT Constraint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\nALTER COLUMN column_name SET DEFAULT default_value;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Assigns a default value when none is provided."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"removing-constraints",children:"Removing Constraints"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name\r\nDROP CONSTRAINT constraint_name;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"how-to-find-constraint-names",children:"How to Find Constraint Names"}),"\n",(0,i.jsx)(n.p,{children:"Before removing a constraint, you must know its exact name."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"\\d Students; -- PostgreSQL\r\nSHOW CREATE TABLE students; -- MySQL\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Displays the full ",(0,i.jsx)(n.code,{children:"CREATE TABLE"})," statement for the ",(0,i.jsx)(n.code,{children:"students"})," table."]}),"\n",(0,i.jsx)(n.li,{children:"Includes all defined constraints (with their names)."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);