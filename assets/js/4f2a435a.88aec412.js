"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[5995],{8059:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"Denormalization","title":"Denormalization","description":"- Denormalization is the process of intentionally introducing redundancy into a database by combining tables or adding derived data.","source":"@site/docs/database-design/5. Denormalization.md","sourceDirName":".","slug":"/Denormalization","permalink":"/handbook/docs/database-design/Denormalization","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Normalization","permalink":"/handbook/docs/database-design/Normalization"},"next":{"title":"Relational Model","permalink":"/handbook/docs/database-design/Relational Model"}}');var s=i(4848),t=i(8453);const d={sidebar_position:6},l=void 0,o={},a=[{value:"Why Do We Denormalize?",id:"why-do-we-denormalize",level:2},{value:"When to Use Denormalization",id:"when-to-use-denormalization",level:2},{value:"Example of Denormalization",id:"example-of-denormalization",level:2},{value:"Denormalized Design",id:"denormalized-design",level:3},{value:"Types of Denormalization",id:"types-of-denormalization",level:2},{value:"Normalization vs Denormalization",id:"normalization-vs-denormalization",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Denormalization is the process of intentionally introducing redundancy into a database by combining tables or adding derived data."}),"\n",(0,s.jsx)(n.li,{children:"It\u2019s the opposite of normalization."}),"\n",(0,s.jsx)(n.li,{children:"The goal is not to \u201cbreak the rules\u201d but to improve performance in real-world applications."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In short:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Normalization = Optimize for consistency & integrity."}),"\n",(0,s.jsx)(n.li,{children:"Denormalization = Optimize for query performance (sometimes at the cost of redundancy)."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"why-do-we-denormalize",children:"Why Do We Denormalize?"}),"\n",(0,s.jsx)(n.p,{children:"Fully normalized databases are great for data integrity, but they have some problems in practice:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Performance Issues","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In normalized design, retrieving data often requires many joins."}),"\n",(0,s.jsx)(n.li,{children:"Joins are expensive for large datasets."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Reporting and Analytics","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Applications like dashboards, reports, or data warehouses need fast aggregation, not complex joins."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Read-Heavy Workloads","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If the database is mostly used for reads (not writes), denormalization makes sense."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Caching Frequently Used Data","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Instead of computing results repeatedly (like totals or counts), we may store them directly."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-denormalization",children:"When to Use Denormalization"}),"\n",(0,s.jsx)(n.p,{children:"You should consider denormalization when:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You need faster queries (fewer joins)."}),"\n",(0,s.jsx)(n.li,{children:"You have a read-heavy system (e.g., reporting, dashboards)."}),"\n",(0,s.jsx)(n.li,{children:"The system can tolerate some redundancy."}),"\n",(0,s.jsx)(n.li,{children:"You want to precompute aggregates (e.g., order totals)."}),"\n",(0,s.jsx)(n.li,{children:"You are designing a data warehouse (star schema, OLAP)."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Avoid denormalization if:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Your system is write-heavy (because updates become harder)."}),"\n",(0,s.jsx)(n.li,{children:"Data consistency is critical and anomalies cannot be tolerated."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-of-denormalization",children:"Example of Denormalization"}),"\n",(0,s.jsx)(n.p,{children:"Normalized Design (3NF)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"Customer"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"CustomerID"}),(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"City"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Alice"}),(0,s.jsx)(n.td,{children:"Dhaka"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"Bob"}),(0,s.jsx)(n.td,{children:"Chittagong"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Order"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OrderID"}),(0,s.jsx)(n.td,{children:"CustomerID"}),(0,s.jsx)(n.td,{children:"OrderDate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"-------"}),(0,s.jsx)(n.td,{children:"----------"}),(0,s.jsx)(n.td,{children:"----------"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"101"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"2023-01-01"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"102"}),(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"2023-01-05"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"To get Order with Customer Name & City, we must join:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT o.OrderID, o.OrderDate, c.Name, c.City\r\nFROM Order o\r\nJOIN Customer c ON o.CustomerID = c.CustomerID;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"denormalized-design",children:"Denormalized Design"}),"\n",(0,s.jsx)(n.p,{children:"We combine Order and Customer into one table:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"OrderID"}),(0,s.jsx)(n.th,{children:"CustomerID"}),(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"City"}),(0,s.jsx)(n.th,{children:"OrderDate"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"101"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Alice"}),(0,s.jsx)(n.td,{children:"Dhaka"}),(0,s.jsx)(n.td,{children:"2023-01-01"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"102"}),(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"Bob"}),(0,s.jsx)(n.td,{children:"Chittagong"}),(0,s.jsx)(n.td,{children:"2023-01-05"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"types-of-denormalization",children:"Types of Denormalization"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Combining Tables","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Merging related tables into one (as in Customer + Order)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Adding Redundant Columns","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["E.g., Store ",(0,s.jsx)(n.code,{children:"CustomerName"})," directly in Order table."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Precomputing Derived Data","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["E.g., Store ",(0,s.jsx)(n.code,{children:"OrderTotal"})," in the ",(0,s.jsx)(n.code,{children:"Order"})," table instead of calculating it from ",(0,s.jsx)(n.code,{children:"OrderDetails"})," every time."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Duplicating Tables\r\nCreate summary tables for reporting (like monthly sales)."}),"\n",(0,s.jsxs)(n.li,{children:["Star Schema / Snowflake Schema (in Data Warehouses)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Fact table (sales) + dimension tables (customer, product, time)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"normalization-vs-denormalization",children:"Normalization vs Denormalization"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Aspect"}),(0,s.jsx)(n.th,{children:"Normalization"}),(0,s.jsx)(n.th,{children:"Denormalization"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Goal"}),(0,s.jsx)(n.td,{children:"Reduce redundancy, improve integrity"}),(0,s.jsx)(n.td,{children:"Improve performance, reduce joins"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pros"}),(0,s.jsx)(n.td,{children:"Consistent data, avoids anomalies"}),(0,s.jsx)(n.td,{children:"Faster queries, better for reporting"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cons"}),(0,s.jsx)(n.td,{children:"Slow queries (many joins), not optimized for reads"}),(0,s.jsx)(n.td,{children:"Redundancy, anomalies possible"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Best Use"}),(0,s.jsx)(n.td,{children:"OLTP (transactional systems)"}),(0,s.jsx)(n.td,{children:"OLAP (reporting, analytics, warehouses)"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function d(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);