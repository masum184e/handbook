"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[64041],{13114(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"database-design/Recursive Relationships","title":"Recursive Relationships","description":"A recursive relationship (also called self-referencing relationship) occurs when an entity is related to itself.","source":"@site/docs/database-design/8. Recursive Relationships.md","sourceDirName":"database-design","slug":"/database-design/Recursive Relationships","permalink":"/handbook/docs/database-design/Recursive Relationships","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9}}');var r=s(74848),l=s(28453);const a={sidebar_position:9},t=void 0,o={},c=[{value:"Key Points of Recursive Relationships",id:"key-points-of-recursive-relationships",level:2},{value:"Types of Recursive Relationships",id:"types-of-recursive-relationships",level:2},{value:"Example of Recursive Relationships",id:"example-of-recursive-relationships",level:2},{value:"How Recursive Relationships are Implemented in Databases",id:"how-recursive-relationships-are-implemented-in-databases",level:2}];function h(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"A recursive relationship (also called self-referencing relationship) occurs when an entity is related to itself."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In other words, an entity has a relationship with another instance of the same entity type."}),"\n",(0,r.jsx)(n.li,{children:"Useful when modeling hierarchies or networks within the same entity set."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"key-points-of-recursive-relationships",children:"Key Points of Recursive Relationships"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Entity participates more than once in the relationship."}),"\n",(0,r.jsx)(n.li,{children:"Each participation plays a different role in the relationship."}),"\n",(0,r.jsx)(n.li,{children:"Requires the use of role names to distinguish how the same entity is involved."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"types-of-recursive-relationships",children:"Types of Recursive Relationships"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"One-to-One (1:1)"})," \u2192 One instance relates to only one other instance of the same entity.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Example: In a company, each employee has one mentor (and that mentor is also an employee)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["One-to-Many (1",":N",")"]})," \u2192 One instance relates to many others of the same entity.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Example: A manager manages many employees, but each employee has only one manager."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Many-to-Many (M",":N",")"]})," \u2192 Many instances relate to many others of the same entity.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Example: In a social media app, a user can follow many users, and can also be followed by many users."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-of-recursive-relationships",children:"Example of Recursive Relationships"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Entity: ",(0,r.jsx)(n.code,{children:"Employee"})]}),"\n",(0,r.jsxs)(n.li,{children:["Attributes: ",(0,r.jsx)(n.code,{children:"Emp_ID"}),", ",(0,r.jsx)(n.code,{children:"Name"}),", ",(0,r.jsx)(n.code,{children:"Position"})]}),"\n",(0,r.jsxs)(n.li,{children:["Relationship: ",(0,r.jsx)(n.code,{children:"Manages"})]}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"One employee can manage many employees."}),"\n",(0,r.jsx)(n.li,{children:"Each employee is managed by exactly one manager."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Textual ER Representation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scss",children:"[EMPLOYEE] \u2500\u2500(Manages)\u2500\u2500 [EMPLOYEE]\r\n\r\nAttributes:\r\nEmp_ID (PK)\r\nName\r\nPosition\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The same entity (",(0,r.jsx)(n.code,{children:"Employee"}),") appears twice in the relationship."]}),"\n",(0,r.jsx)(n.li,{children:"We use roles \u2192 \u201cManager\u201d and \u201cSubordinate\u201d."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"how-recursive-relationships-are-implemented-in-databases",children:"How Recursive Relationships are Implemented in Databases"}),"\n",(0,r.jsx)(n.p,{children:"Recursive relationships are usually implemented by:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Foreign Key referencing the same table."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Example: In ",(0,r.jsx)(n.code,{children:"Employee"}),", a column ",(0,r.jsx)(n.code,{children:"Manager_ID"})," references ",(0,r.jsx)(n.code,{children:"Employee(Emp_ID)"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scss",children:"EMPLOYEE\r\n-------------------\r\nEmp_ID (PK)\r\nName\r\nPosition\r\nManager_ID (FK \u2192 Emp_ID)\n"})}),"\n",(0,r.jsx)(n.p,{children:"This way, each employee record points to their manager within the same table."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Junction Table (for M",":N"," recursive relationships)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Example: For ",(0,r.jsx)(n.code,{children:"User"})," follows ",(0,r.jsx)(n.code,{children:"User"}),", create a ",(0,r.jsx)(n.code,{children:"Follows"})," table:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scss",children:"FOLLOWS\r\n-------------------\r\nFollower_ID (FK \u2192 User_ID)\r\nFollowed_ID (FK \u2192 User_ID)\n"})}),"\n",(0,r.jsx)(n.p,{children:"This allows many-to-many self-referencing"}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453(e,n,s){s.d(n,{R:()=>a,x:()=>t});var i=s(96540);const r={},l=i.createContext(r);function a(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);