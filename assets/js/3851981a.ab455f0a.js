"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[9457],{4476:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"golang/Error Handling","title":"Error Handling","description":"In Go, error handling is explicit \u2014 meaning you have to manually check and handle errors instead of relying on exceptions (like in Java, Python, or C#).","source":"@site/docs/golang/12. Error Handling.md","sourceDirName":"golang","slug":"/golang/Error Handling","permalink":"/handbook/docs/golang/Error Handling","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"golangSidebar","previous":{"title":"Internal Memory","permalink":"/handbook/docs/golang/Internal Memory"}}');var i=n(4848),s=n(8453);const t={sidebar_position:13},l=void 0,a={},c=[{value:"Creating and Returning Errors",id:"creating-and-returning-errors",level:2},{value:"Using <code>fmt.Errorf</code> for Formatted Errors",id:"using-fmterrorf-for-formatted-errors",level:2},{value:"Custom Error Types",id:"custom-error-types",level:2},{value:"Error Wrapping (<code>%w</code>)",id:"error-wrapping-w",level:2},{value:"Checking Specific Errors (<code>errors.Is</code> and <code>errors.As</code>)",id:"checking-specific-errors-errorsis-and-errorsas",level:2},{value:"Panic vs Error",id:"panic-vs-error",level:2}];function d(r){const e={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...r.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:'In Go, error handling is explicit \u2014 meaning you have to manually check and handle errors instead of relying on exceptions (like in Java, Python, or C#).\r\nErrors in Go are values, and they follow the "error is just another return value" philosophy.'}),"\n",(0,i.jsxs)(e.p,{children:["Go uses the built-in ",(0,i.jsx)(e.code,{children:"error"})," interface for errors."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",children:"type error interface {\r\n    Error() string\r\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"If a function can fail, it usually returns two values:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"The result (if successful, otherwise zero value)"}),"\n",(0,i.jsxs)(e.li,{children:["An error (if something went wrong, otherwise ",(0,i.jsx)(e.code,{children:"nil"}),")"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"creating-and-returning-errors",children:"Creating and Returning Errors"}),"\n",(0,i.jsxs)(e.p,{children:["We can create an error using the ",(0,i.jsx)(e.code,{children:"errors.New()"})," function from the ",(0,i.jsx)(e.code,{children:"errors"})," package or ",(0,i.jsx)(e.code,{children:"fmt.Errorf()"}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",children:'import (\r\n    "errors"\r\n    "fmt"\r\n)\r\n\r\nfunc divide(a, b float64) (float64, error) {\r\n    if b == 0 {\r\n        return 0, errors.New("division by zero is not allowed")\r\n    }\r\n    return a / b, nil\r\n}\r\n\r\nfunc main() {\r\n    result, err := divide(10, 0)\r\n\r\n    if err != nil {\r\n        fmt.Println("Error:", err)\r\n    } else {\r\n        fmt.Println("Result:", result)\r\n    }\r\n}\n'})}),"\n",(0,i.jsxs)(e.h2,{id:"using-fmterrorf-for-formatted-errors",children:["Using ",(0,i.jsx)(e.code,{children:"fmt.Errorf"})," for Formatted Errors"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"fmt.Errorf()"})," is like ",(0,i.jsx)(e.code,{children:"errors.New()"})," but allows formatting:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",children:'err := fmt.Errorf("failed to open file %s: %v", filename, originalErr)\n'})}),"\n",(0,i.jsx)(e.h2,{id:"custom-error-types",children:"Custom Error Types"}),"\n",(0,i.jsxs)(e.p,{children:["You can create your own error type by implementing the ",(0,i.jsx)(e.code,{children:"Error()"})," method."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",children:'type MyError struct {\r\n    Code    int\r\n    Message string\r\n}\r\n\r\nfunc (e *MyError) Error() string {\r\n    return fmt.Sprintf("Error %d: %s", e.Code, e.Message)\r\n}\r\n\r\nfunc doSomething() error {\r\n    return &MyError{Code: 404, Message: "Not Found"}\r\n}\r\n\r\nfunc main() {\r\n    err := doSomething()\r\n    if err != nil {\r\n        fmt.Println(err)\r\n    }\r\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Allows attaching extra information (like codes, timestamps, etc.)"}),"\n",(0,i.jsx)(e.li,{children:"Makes error checking more specific."}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"error-wrapping-w",children:["Error Wrapping (",(0,i.jsx)(e.code,{children:"%w"}),")"]}),"\n",(0,i.jsx)(e.p,{children:"Go 1.13+ supports error wrapping, letting you chain error contexts."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",children:'import (\r\n    "errors"\r\n    "fmt"\r\n)\r\n\r\nfunc readConfig() error {\r\n    return errors.New("file missing")\r\n}\r\n\r\nfunc loadApp() error {\r\n    return fmt.Errorf("loadApp failed: %w", readConfig())\r\n}\r\n\r\nfunc main() {\r\n    err := loadApp()\r\n    fmt.Println(err) // Prints: loadApp failed: file missing\r\n}\n'})}),"\n",(0,i.jsxs)(e.h2,{id:"checking-specific-errors-errorsis-and-errorsas",children:["Checking Specific Errors (",(0,i.jsx)(e.code,{children:"errors.Is"})," and ",(0,i.jsx)(e.code,{children:"errors.As"}),")"]}),"\n",(0,i.jsx)(e.p,{children:"Sometimes you want to check what kind of error happened."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",children:'import (\r\n    "errors"\r\n    "fmt"\r\n)\r\n\r\nvar ErrNotFound = errors.New("not found")\r\n\r\nfunc search() error {\r\n    return ErrNotFound\r\n}\r\n\r\nfunc main() {\r\n    err := search()\r\n\r\n    if errors.Is(err, ErrNotFound) {\r\n        fmt.Println("Item not found.")\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"panic-vs-error",children:"Panic vs Error"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Error \u2192 Recoverable problems; expected to happen sometimes."}),"\n",(0,i.jsx)(e.li,{children:"Panic \u2192 Unrecoverable problems; program should stop immediately."}),"\n",(0,i.jsxs)(e.li,{children:["Use ",(0,i.jsx)(e.code,{children:"panic()"})," rarely (e.g., initialization failures, corrupted state)."]}),"\n",(0,i.jsxs)(e.li,{children:["You can recover from panics using ",(0,i.jsx)(e.code,{children:"recover()"}),", but that\u2019s mainly for critical failure safety nets."]}),"\n"]})]})}function u(r={}){const{wrapper:e}={...(0,s.R)(),...r.components};return e?(0,i.jsx)(e,{...r,children:(0,i.jsx)(d,{...r})}):d(r)}},8453:(r,e,n)=>{n.d(e,{R:()=>t,x:()=>l});var o=n(6540);const i={},s=o.createContext(i);function t(r){const e=o.useContext(s);return o.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function l(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(i):r.components||i:t(r.components),o.createElement(s.Provider,{value:e},r.children)}}}]);