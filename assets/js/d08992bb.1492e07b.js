"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[57791],{3263(e,n,r){r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"rest-api-design/Error Response","title":"Error Response","description":"What Are Meaningful Error Responses","source":"@site/docs/rest-api-design/6. Error Response.md","sourceDirName":"rest-api-design","slug":"/rest-api-design/Error Response","permalink":"/handbook/docs/rest-api-design/Error Response","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Error Response","sidebar_position":8},"sidebar":"restApiSidebar","previous":{"title":"Partial Response","permalink":"/handbook/docs/rest-api-design/Partial Response"},"next":{"title":"Cache Control","permalink":"/handbook/docs/rest-api-design/Cache Control"}}');var i=r(74848),l=r(28453);const d={title:"Error Response",sidebar_position:8},o=void 0,t={},a=[{value:"What Are Meaningful Error Responses",id:"what-are-meaningful-error-responses",level:2},{value:"Why Meaningful Error Responses Matter",id:"why-meaningful-error-responses-matter",level:2},{value:"Components of a Meaningful Error Response",id:"components-of-a-meaningful-error-response",level:2},{value:"HTTP Status Codes",id:"http-status-codes",level:2},{value:"Error Codes (Machine-Readable)",id:"error-codes-machine-readable",level:2},{value:"Error Messages (Human-Readable)",id:"error-messages-human-readable",level:2},{value:"Field-Level Validation Errors",id:"field-level-validation-errors",level:2},{value:"Authentication Error Example",id:"authentication-error-example",level:2},{value:"Authorization Error Example",id:"authorization-error-example",level:2},{value:"Resource Not Found Example",id:"resource-not-found-example",level:2},{value:"Conflict Error Example",id:"conflict-error-example",level:2},{value:"Internal Server Error Example",id:"internal-server-error-example",level:2},{value:"Consistent Error Response Format",id:"consistent-error-response-format",level:2}];function c(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"what-are-meaningful-error-responses",children:"What Are Meaningful Error Responses"}),"\n",(0,i.jsx)(n.p,{children:"A meaningful error response is a structured, consistent, and client-friendly way for a REST API to tell consumers:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"What went wrong"}),"\n",(0,i.jsx)(n.li,{children:"Why it went wrong"}),"\n",(0,i.jsx)(n.li,{children:"How to fix it (when appropriate)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Good error responses combine:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Correct HTTP status codes"}),"\n",(0,i.jsx)(n.li,{children:"Clear error identifiers (error codes)"}),"\n",(0,i.jsx)(n.li,{children:"Human-readable messages"}),"\n",(0,i.jsx)(n.li,{children:"Optional error details"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"why-meaningful-error-responses-matter",children:"Why Meaningful Error Responses Matter"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Better Developer Experience (DX): Clients can quickly debug and fix issues"}),"\n",(0,i.jsx)(n.li,{children:"Fewer Support Requests: Clear errors reduce confusion"}),"\n",(0,i.jsx)(n.li,{children:"Consistent Client Behavior: Applications can programmatically handle errors"}),"\n",(0,i.jsx)(n.li,{children:"Security: Avoids leaking internal system details"}),"\n",(0,i.jsx)(n.li,{children:"Scalability: Enables error tracking, logging, and monitoring"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"components-of-a-meaningful-error-response",children:"Components of a Meaningful Error Response"}),"\n",(0,i.jsx)(n.p,{children:"A well-designed error response typically includes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "INVALID_INPUT",\r\n  "message": "Request validation failed",\r\n  "details": []\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Component Breakdown"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"HTTP Status Code"}),(0,i.jsx)(n.td,{children:"High-level error category"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"errorCode"}),(0,i.jsx)(n.td,{children:"Machine-readable identifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"message"}),(0,i.jsx)(n.td,{children:"Human-readable explanation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"details"}),(0,i.jsx)(n.td,{children:"Field-level or contextual info"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"http-status-codes",children:"HTTP Status Codes"}),"\n",(0,i.jsx)(n.p,{children:"HTTP status codes communicate the category of the error."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Commonly Used Status Codes"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Status"}),(0,i.jsx)(n.th,{children:"Meaning"}),(0,i.jsx)(n.th,{children:"When to Use"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Bad Request"}),(0,i.jsx)(n.td,{children:"Invalid syntax or malformed input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"401"}),(0,i.jsx)(n.td,{children:"Unauthorized"}),(0,i.jsx)(n.td,{children:"Missing or invalid authentication"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"403"}),(0,i.jsx)(n.td,{children:"Forbidden"}),(0,i.jsx)(n.td,{children:"Authenticated but not allowed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"404"}),(0,i.jsx)(n.td,{children:"Not Found"}),(0,i.jsx)(n.td,{children:"Resource does not exist"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"409"}),(0,i.jsx)(n.td,{children:"Conflict"}),(0,i.jsx)(n.td,{children:"Resource state conflict"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"415"}),(0,i.jsx)(n.td,{children:"Unsupported Media Type"}),(0,i.jsx)(n.td,{children:"Wrong Content-Type"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"422"}),(0,i.jsx)(n.td,{children:"Unprocessable Entity"}),(0,i.jsx)(n.td,{children:"Semantic validation failure"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"Internal Server Error"}),(0,i.jsx)(n.td,{children:"Unexpected server failure"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"error-codes-machine-readable",children:"Error Codes (Machine-Readable)"}),"\n",(0,i.jsx)(n.p,{children:"Error codes are stable, application-specific identifiers that allow clients to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Handle errors programmatically"}),"\n",(0,i.jsx)(n.li,{children:"Avoid parsing human-readable text"}),"\n",(0,i.jsx)(n.li,{children:"Support localization (i18n)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Error Codes"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"INVALID_INPUT\r\nMISSING_REQUIRED_FIELD\r\nAUTH_TOKEN_EXPIRED\r\nRESOURCE_NOT_FOUND\r\nPERMISSION_DENIED\r\nRATE_LIMIT_EXCEEDED\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Best Practices for Error Codes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use UPPER_SNAKE_CASE"}),"\n",(0,i.jsx)(n.li,{children:"Keep them stable over time"}),"\n",(0,i.jsx)(n.li,{children:"Avoid exposing internal exceptions"}),"\n",(0,i.jsx)(n.li,{children:"Document them clearly"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"error-messages-human-readable",children:"Error Messages (Human-Readable)"}),"\n",(0,i.jsx)(n.p,{children:"Characteristics of Good Error Messages"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Clear and concise"}),"\n",(0,i.jsx)(n.li,{children:"Actionable when possible"}),"\n",(0,i.jsx)(n.li,{children:"Non-technical"}),"\n",(0,i.jsx)(n.li,{children:"Secure (no stack traces or SQL errors)"}),"\n",(0,i.jsxs)(n.li,{children:["Bad message: ",(0,i.jsx)(n.code,{children:'"message": "NullPointerException at UserService.java:42"'})]}),"\n",(0,i.jsxs)(n.li,{children:["Good message: ",(0,i.jsx)(n.code,{children:'"message": "Username is required"'})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"field-level-validation-errors",children:"Field-Level Validation Errors"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example: Invalid Request Body"})}),"\n",(0,i.jsx)(n.p,{children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST /users\r\nContent-Type: application/json\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "username": "",\r\n  "email": "invalid-email",\r\n  "age": 15\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HTTP/1.1 422 Unprocessable Entity\r\nContent-Type: application/json\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "VALIDATION_ERROR",\r\n  "message": "One or more fields are invalid",\r\n  "details": [\r\n    {\r\n      "field": "username",\r\n      "issue": "Must not be empty"\r\n    },\r\n    {\r\n      "field": "email",\r\n      "issue": "Invalid email format"\r\n    },\r\n    {\r\n      "field": "age",\r\n      "issue": "Must be at least 18"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"422 \u2192 request syntax is valid, but semantic rules failed"}),"\n",(0,i.jsx)(n.li,{children:"VALIDATION_ERROR \u2192 consistent error handling"}),"\n",(0,i.jsx)(n.li,{children:"details helps client highlight specific fields"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"authentication-error-example",children:"Authentication Error Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Missing Authorization Header"})}),"\n",(0,i.jsx)(n.p,{children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /orders\n"})}),"\n",(0,i.jsx)(n.p,{children:"Response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HTTP/1.1 401 Unauthorized\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "AUTH_REQUIRED",\r\n  "message": "Authentication token is missing or invalid"\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"401 \u2192 client must authenticate"}),"\n",(0,i.jsx)(n.li,{children:"Message clearly indicates what\u2019s missing"}),"\n",(0,i.jsx)(n.li,{children:"No internal auth logic exposed"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"authorization-error-example",children:"Authorization Error Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Insufficient Permissions"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HTTP/1.1 403 Forbidden\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "ACCESS_DENIED",\r\n  "message": "You do not have permission to access this resource"\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"403 \u2192 identity is known, but access is denied"}),"\n",(0,i.jsx)(n.li,{children:"Client should not retry with same credentials"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"resource-not-found-example",children:"Resource Not Found Example"}),"\n",(0,i.jsx)(n.p,{children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /users/9999\n"})}),"\n",(0,i.jsx)(n.p,{children:"Response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HTTP/1.1 404 Not Found\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "RESOURCE_NOT_FOUND",\r\n  "message": "User with ID 9999 was not found"\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Avoids leaking whether IDs are sequential or valid"}),"\n",(0,i.jsx)(n.li,{children:"Clear, domain-specific messaging"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"conflict-error-example",children:"Conflict Error Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Duplicate Resource Creation"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST /users\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "email": "existing@example.com"\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HTTP/1.1 409 Conflict\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "DUPLICATE_RESOURCE",\r\n  "message": "A user with this email already exists"\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"409 \u2192 state conflict"}),"\n",(0,i.jsx)(n.li,{children:"Message explains how to resolve (use another email)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"internal-server-error-example",children:"Internal Server Error Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Unexpected Failure"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HTTP/1.1 500 Internal Server Error\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "INTERNAL_ERROR",\r\n  "message": "An unexpected error occurred. Please try again later."\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Never expose stack traces"}),"\n",(0,i.jsx)(n.li,{children:"Detailed error logged server-side"}),"\n",(0,i.jsx)(n.li,{children:"Generic message protects security"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"consistent-error-response-format",children:"Consistent Error Response Format"}),"\n",(0,i.jsx)(n.p,{children:"Standard Template"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "errorCode": "STRING",\r\n  "message": "STRING",\r\n  "details": []\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Optional Fields"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "timestamp": "2026-01-09T10:15:30Z",\r\n  "path": "/users",\r\n  "requestId": "abc-123"\r\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,n,r){r.d(n,{R:()=>d,x:()=>o});var s=r(96540);const i={},l=s.createContext(i);function d(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);