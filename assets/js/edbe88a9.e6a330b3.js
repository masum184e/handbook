"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[1709],{28453(e,n,s){s.d(n,{R:()=>i,x:()=>c});var o=s(96540);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}},84951(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>i,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"reactjs/Hooks/Custom Hooks","title":"Custom Hooks","description":"Custom Hooks are a powerful React pattern that lets you extract, reuse, and share logic between components using React Hooks.","source":"@site/docs/reactjs/11. Hooks/5. Custom Hooks.md","sourceDirName":"reactjs/11. Hooks","slug":"/reactjs/Hooks/Custom Hooks","permalink":"/handbook/docs/reactjs/Hooks/Custom Hooks","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"reactjsApiSidebar","previous":{"title":"useCallback","permalink":"/handbook/docs/reactjs/Hooks/useCallback"},"next":{"title":"useContext","permalink":"/handbook/docs/reactjs/Hooks/useContext"}}');var t=s(74848),r=s(28453);const i={},c=void 0,l={},u=[{value:"What is Custom Hook",id:"what-is-custom-hook",level:2},{value:"Why Do We Need Custom Hooks?",id:"why-do-we-need-custom-hooks",level:2},{value:"Rules of Custom Hooks",id:"rules-of-custom-hooks",level:2},{value:"Basic Structure of a Custom Hook",id:"basic-structure-of-a-custom-hook",level:2},{value:"Simple Example \u2013 useCounter",id:"simple-example--usecounter",level:2},{value:"Custom Hook with <code>useEffect</code> \u2013 <code>useFetch</code>",id:"custom-hook-with-useeffect--usefetch",level:2},{value:"Custom Hook Using <code>useRef</code> \u2013 <code>usePrevious</code>",id:"custom-hook-using-useref--useprevious",level:2},{value:"Custom Hook with Event Listener \u2013 <code>useWindowSize</code>",id:"custom-hook-with-event-listener--usewindowsize",level:2},{value:"Custom Hook vs Component vs Utility Function",id:"custom-hook-vs-component-vs-utility-function",level:2},{value:"Interview Questions",id:"interview-questions",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Custom Hooks are a powerful React pattern that lets you extract, reuse, and share logic between components using React Hooks."}),"\n",(0,t.jsxs)(n.p,{children:["If you see a function that starts with ",(0,t.jsx)(n.code,{children:"use"}),", uses other hooks, and returns reusable logic \u2014 that\u2019s a custom hook."]}),"\n",(0,t.jsx)(n.h2,{id:"what-is-custom-hook",children:"What is Custom Hook"}),"\n",(0,t.jsxs)(n.p,{children:["A custom hook is a JavaScript function that starts with ",(0,t.jsx)(n.code,{children:"use"})," and reuses stateful logic using built-in React hooks."]}),"\n",(0,t.jsx)(n.h2,{id:"why-do-we-need-custom-hooks",children:"Why Do We Need Custom Hooks?"}),"\n",(0,t.jsx)(n.p,{children:"Before custom hooks:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Logic duplication across components"}),"\n",(0,t.jsx)(n.li,{children:"Hard-to-maintain code"}),"\n",(0,t.jsx)(n.li,{children:"Large components"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Custom hooks solve this by:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Reusing logic (DRY principle)"}),"\n",(0,t.jsx)(n.li,{children:"Improving readability"}),"\n",(0,t.jsx)(n.li,{children:"Separating concerns"}),"\n",(0,t.jsx)(n.li,{children:"Making code testable"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"rules-of-custom-hooks",children:"Rules of Custom Hooks"}),"\n",(0,t.jsx)(n.p,{children:"Custom hooks follow React Hook rules:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Name must start with ",(0,t.jsx)(n.code,{children:"use"})]}),"\n",(0,t.jsxs)(n.li,{children:["Can call other hooks (",(0,t.jsx)(n.code,{children:"useState"}),", ",(0,t.jsx)(n.code,{children:"useEffect"}),", etc.)"]}),"\n",(0,t.jsx)(n.li,{children:"Must not be called conditionally"}),"\n",(0,t.jsx)(n.li,{children:"Must be called at top level"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-structure-of-a-custom-hook",children:"Basic Structure of a Custom Hook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { useState, useEffect } from "react";\r\n\r\nfunction useExample() {\r\n  const [value, setValue] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // logic\r\n  }, []);\r\n\r\n  return value;\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"simple-example--usecounter",children:"Simple Example \u2013 useCounter"}),"\n",(0,t.jsx)(n.p,{children:"Custom Hook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { useState } from "react";\r\n\r\nfunction useCounter(initialValue = 0) {\r\n  const [count, setCount] = useState(initialValue);\r\n\r\n  const increment = () => setCount((c) => c + 1);\r\n  const decrement = () => setCount((c) => c - 1);\r\n  const reset = () => setCount(initialValue);\r\n\r\n  return { count, increment, decrement, reset };\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Using the Custom Hook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"function CounterComponent() {\r\n  const { count, increment, decrement, reset } = useCounter(10);\r\n\r\n  return (\r\n    <div>\r\n      <h2>{count}</h2>\r\n      <button onClick={increment}>+</button>\r\n      <button onClick={decrement}>-</button>\r\n      <button onClick={reset}>Reset</button>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"custom-hook-with-useeffect--usefetch",children:["Custom Hook with ",(0,t.jsx)(n.code,{children:"useEffect"})," \u2013 ",(0,t.jsx)(n.code,{children:"useFetch"})]}),"\n",(0,t.jsx)(n.p,{children:"Custom Hook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { useState, useEffect } from "react";\r\n\r\nfunction useFetch(url) {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    setLoading(true);\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (isMounted) {\r\n          setData(data);\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (isMounted) {\r\n          setError(err);\r\n          setLoading(false);\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [url]);\r\n\r\n  return { data, loading, error };\r\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Using ",(0,t.jsx)(n.code,{children:"useFetch"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'function Users() {\r\n  const { data, loading, error } = useFetch(\r\n    "https://jsonplaceholder.typicode.com/users",\r\n  );\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error occurred</p>;\r\n\r\n  return (\r\n    <ul>\r\n      {data.map((user) => (\r\n        <li key={user.id}>{user.name}</li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"custom-hook-using-useref--useprevious",children:["Custom Hook Using ",(0,t.jsx)(n.code,{children:"useRef"})," \u2013 ",(0,t.jsx)(n.code,{children:"usePrevious"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { useRef, useEffect } from "react";\r\n\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n\r\n  return ref.current;\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const prevCount = usePrevious(count);\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"custom-hook-with-event-listener--usewindowsize",children:["Custom Hook with Event Listener \u2013 ",(0,t.jsx)(n.code,{children:"useWindowSize"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { useState, useEffect } from "react";\r\n\r\nfunction useWindowSize() {\r\n  const [size, setSize] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    };\r\n\r\n    window.addEventListener("resize", handleResize);\r\n\r\n    return () => window.removeEventListener("resize", handleResize);\r\n  }, []);\r\n\r\n  return size;\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { width, height } = useWindowSize();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"custom-hook-vs-component-vs-utility-function",children:"Custom Hook vs Component vs Utility Function"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Custom Hook"}),(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Utility Function"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Reuses state logic"}),(0,t.jsx)(n.td,{children:"Reuses UI"}),(0,t.jsx)(n.td,{children:"Pure logic"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Uses hooks"}),(0,t.jsx)(n.td,{children:"Returns JSX"}),(0,t.jsx)(n.td,{children:"No hooks"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Returns data/functions"}),(0,t.jsx)(n.td,{children:"Renders UI"}),(0,t.jsx)(n.td,{children:"Returns values"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"interview-questions",children:"Interview Questions"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"What is a custom hook"}),(0,t.jsx)("p",{children:(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)("strong",{children:"custom hook"})," is a JavaScript function in React that:"]})}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Starts with the keyword ",(0,t.jsx)("code",{children:"use"})]}),(0,t.jsx)("li",{children:"Uses one or more built-in React hooks"}),(0,t.jsx)("li",{children:"Encapsulates reusable stateful logic"})]}),(0,t.jsx)("p",{children:(0,t.jsxs)(n.p,{children:["Custom hooks allow developers to ",(0,t.jsx)("strong",{children:"share logic"})," between components\r\nwithout duplicating code or using higher-order components."]})})]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:" Why must hooks start with use?"}),(0,t.jsx)("p",{children:(0,t.jsxs)(n.p,{children:["Hooks must start with ",(0,t.jsx)("code",{children:"use"})," because:"]})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"React uses the name to identify hook functions"}),(0,t.jsx)("li",{children:"The Rules of Hooks rely on this naming convention"}),(0,t.jsxs)("li",{children:["Lint tools (",(0,t.jsx)("code",{children:"eslint-plugin-react-hooks"}),") detect incorrect usage"]})]}),(0,t.jsx)("p",{children:(0,t.jsxs)(n.p,{children:["If a function does not start with ",(0,t.jsx)("code",{children:"use"}),", React will treat it as a normal\r\nfunction and will not enforce hook rules."]})})]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Can custom hooks return JSX?"}),(0,t.jsx)("p",{children:(0,t.jsx)(n.p,{children:"Custom hooks are designed to:"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Share logic"}),(0,t.jsx)("li",{children:"Manage state and side effects"})]}),(0,t.jsx)("p",{children:(0,t.jsxs)(n.p,{children:["They ",(0,t.jsx)("strong",{children:"must not return JSX"}),". Rendering UI is the responsibility of\r\ncomponents, not hooks."]})})]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Can hooks call other hooks?"}),(0,t.jsx)("p",{children:(0,t.jsx)(n.p,{children:"Custom hooks can call:"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("code",{children:"useState"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{children:"useEffect"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{children:"useRef"})}),(0,t.jsx)("li",{children:"Other custom hooks"})]}),(0,t.jsx)("p",{children:(0,t.jsxs)(n.p,{children:["This works because custom hooks follow the same ",(0,t.jsx)("strong",{children:"Rules of Hooks"}),"."]})})]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);