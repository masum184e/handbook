"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[5356],{25184(n,e,s){s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"javascript/this Keyword","title":"this Keyword","description":"this is a special keyword that refers to the object that is currently executing the code.","source":"@site/docs/javascript/19. this Keyword.md","sourceDirName":"javascript","slug":"/javascript/this Keyword","permalink":"/handbook/docs/javascript/this Keyword","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20},"sidebar":"javascriptSidebar","previous":{"title":"IIFE","permalink":"/handbook/docs/javascript/IIFE"},"next":{"title":"HTML Parsing","permalink":"/handbook/docs/javascript/Browser Execution/HTML Parsing"}}');var i=s(74848),o=s(28453);const t={sidebar_position:20},c=void 0,a={},l=[{value:"Global Context",id:"global-context",level:2},{value:"Inside a Function",id:"inside-a-function",level:2},{value:"Object Rules",id:"object-rules",level:2},{value:"Arrow Functions",id:"arrow-functions",level:2},{value:"Explicit Binding",id:"explicit-binding",level:2}];function d(n){const e={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"this"})," is a special keyword that refers to the object that is currently executing the code."]}),"\n",(0,i.jsx)(e.p,{children:"Its value depends on how and where the function is called (not where it is defined)."}),"\n",(0,i.jsxs)(e.p,{children:["The value of ",(0,i.jsx)(e.code,{children:"this"})," determined during execution."]}),"\n",(0,i.jsx)(e.h2,{id:"global-context",children:"Global Context"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"this"})," always (both strict and non-strict mode) refer to global execution context(",(0,i.jsx)(e.code,{children:"window"})," for browser and ",(0,i.jsx)(e.code,{children:"global"})," for nodejs) without depending on strct or non-strict mode.","\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"console.log(this); // Output: Window [postMessage:...]\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"inside-a-function",children:"Inside a Function"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"In non-strict mode, this refers to the global object."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"In strict mode, this is undefined."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'function fun1() {\r\n  console.log(this); // Output: Window [postMessage:...]\r\n}\r\nfunction fun2() {\r\n  "use strict";\r\n  console.log(this); // Output: undefined\r\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["This happen because strict mode is used to ignore bad practices. There are things which can stay out of javascript rules, we can create accidental global variable, which is not possible in strict mode. Which is why non-strict mode refer global object and strict mode refer ",(0,i.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'function unnamed() {\r\n  this.name = "Masum Billah";\r\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"it will assign a new variable to gloabl object, which you can access any where. But it will not work in strict mode."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"object-rules",children:"Object Rules"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["If we define custom object, then ",(0,i.jsx)(e.code,{children:"this"})," will refer leading parent(close parent) instead of refering global object."]}),"\n",(0,i.jsxs)(e.li,{children:["In a class, ",(0,i.jsx)(e.code,{children:"this"})," refers to the instance of the class."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"arrow-functions",children:"Arrow Functions"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Arrow functions do not have their own ",(0,i.jsx)(e.code,{children:"this"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["They inherit ",(0,i.jsx)(e.code,{children:"this"})," from their surrounding lexical scope."]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'const person = {\r\n  name: "Rajib",\r\n  normalFunc: function () {\r\n    console.log(this.name);\r\n  },\r\n  arrowFunc: () => {\r\n    console.log(this.name);\r\n  },\r\n};\r\n\r\nperson.normalFunc(); // "Rajib" \u2192 `this` = person object\r\nperson.arrowFunc(); // undefined \u2192 `this` from global scope\n'})}),"\n",(0,i.jsxs)(e.p,{children:["Use arrow functions when you want to keep ",(0,i.jsx)(e.code,{children:"this"})," the same as the outer scope."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'const student = {\r\n  name: "Rajib",\r\n  normalFunc: function () {\r\n    console.log(this.name);\r\n  },\r\n  arrowFunc: () => {\r\n    console.log(this.name);\r\n  },\r\n};\r\n\r\nperson.normalFunc(); // "Rajib" \u2192 `this` = person object\r\nperson.arrowFunc(); // undefined \u2192 `this` from global scope\n'})}),"\n",(0,i.jsxs)(e.p,{children:["Use arrow functions when you want to keep ",(0,i.jsx)(e.code,{children:"this"})," the same as the outer scope."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'const student = {\r\n  name: "Masum",\r\n  marks: [85, 90, 95],\r\n  showMarks() {\r\n    this.marks.forEach(function (mark) {\r\n      console.log(this.name + " scored " + mark);\r\n    });\r\n  },\r\n};\r\n\r\nstudent.showMarks();\r\n// \u274c Error: `this.name` is undefined inside normal function\r\n\r\n// \u2705 Fix with arrow function\r\nstudent.showMarks = function () {\r\n  this.marks.forEach((mark) => {\r\n    console.log(this.name + " scored " + mark);\r\n  });\r\n};\r\n\r\nstudent.showMarks();\r\n// Output:\r\n// Masum scored 85\r\n// Masum scored 90\r\n// Masum scored 95\n'})}),"\n",(0,i.jsxs)(e.p,{children:["Here, the arrow function inherits ",(0,i.jsx)(e.code,{children:"this"})," from ",(0,i.jsx)(e.code,{children:"showMarks()"})," method, which points to ",(0,i.jsx)(e.code,{children:"student"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"explicit-binding",children:"Explicit Binding"}),"\n",(0,i.jsxs)(e.p,{children:["We can manually set ",(0,i.jsx)(e.code,{children:"this"})," using:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"call()"})," \u2192 immediately invokes function with given ",(0,i.jsx)(e.code,{children:"this"})," and arguments"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"apply()"})," \u2192 same as call, but arguments as an array"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"bind()"})," \u2192 returns a new function with fixed ",(0,i.jsx)(e.code,{children:"this"})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'function introduce(city, country) {\r\n  console.log(`${this.name} from ${city}, ${country}`);\r\n}\r\n\r\nconst user = { name: "Masum" };\r\n\r\nintroduce.call(user, "Dhaka", "Bangladesh"); // Masum from Dhaka, Bangladesh\r\nintroduce.apply(user, ["Chittagong", "Bangladesh"]); // Masum from Chittagong, Bangladesh\r\n\r\nconst boundFunc = introduce.bind(user, "Jessore", "Bangladesh");\r\nboundFunc(); // Masum from Jessore, Bangladesh\n'})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453(n,e,s){s.d(e,{R:()=>t,x:()=>c});var r=s(96540);const i={},o=r.createContext(i);function t(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);