"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[71039],{28453(e,n,s){s.d(n,{R:()=>c,x:()=>r});var d=s(96540);const i={},l=d.createContext(i);function c(e){const n=d.useContext(l);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),d.createElement(l.Provider,{value:n},e.children)}},98502(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>t});const d=JSON.parse('{"id":"nodejs/Package Management","title":"Package Management","description":"npm (Node Package Manager) is the default package manager for Node.js. It lets you:","source":"@site/docs/nodejs/7. Package Management.md","sourceDirName":"nodejs","slug":"/nodejs/Package Management","permalink":"/handbook/docs/nodejs/Package Management","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"nodejsApiSidebar","previous":{"title":"NPM","permalink":"/handbook/docs/nodejs/Package Management/NPM"},"next":{"title":"Asynchronouse Operation","permalink":"/handbook/docs/nodejs/Asynchronouse Operation"}}');var i=s(74848),l=s(28453);const c={},r=void 0,a={},t=[{value:"Install a Development Dependency",id:"install-a-development-dependency",level:2},{value:"Global Package Installation",id:"global-package-installation",level:2},{value:"Managing Packages with npm",id:"managing-packages-with-npm",level:2},{value:"<code>package.json</code>",id:"packagejson",level:2},{value:"<code>package-lock.json</code>",id:"package-lockjson",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"<code>dependencies</code>",id:"dependencies-1",level:3},{value:"<code>devDependencies</code>",id:"devdependencies",level:3},{value:"Key Differences Between <code>dependencies</code> and <code>devDependencies</code>",id:"key-differences-between-dependencies-and-devdependencies",level:3},{value:"Semantic Versioning",id:"semantic-versioning",level:2},{value:"Meaning of Each Version Part",id:"meaning-of-each-version-part",level:3},{value:"Semantic Versioning Symbols",id:"semantic-versioning-symbols",level:3},{value:"Check for Outdated Packages",id:"check-for-outdated-packages",level:3},{value:"Publish Custom Package",id:"publish-custom-package",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"npm (Node Package Manager) is the default package manager for Node.js. It lets you:"}),"\n",(0,i.jsx)(n.p,{children:"Install third-party libraries (packages)"}),"\n",(0,i.jsx)(n.p,{children:"Manage project dependencies"}),"\n",(0,i.jsx)(n.p,{children:"Share and reuse code"}),"\n",(0,i.jsxs)(n.p,{children:["Packages are installed from the npm registry and tracked in a project using ",(0,i.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"install-a-development-dependency",children:"Install a Development Dependency"}),"\n",(0,i.jsxs)(n.p,{children:["Used only during development (testing, linting, build tools): ",(0,i.jsx)(n.code,{children:"npm install nodemon --save-dev"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "devDependencies": {\r\n    "nodemon": "^3.0.0"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"global-package-installation",children:"Global Package Installation"}),"\n",(0,i.jsxs)(n.p,{children:["Installs tools accessible system-wide: ",(0,i.jsx)(n.code,{children:"npm install -g typescript"})]}),"\n",(0,i.jsx)(n.p,{children:"Used for CLIs, not project libraries."}),"\n",(0,i.jsx)(n.h2,{id:"managing-packages-with-npm",children:"Managing Packages with npm"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["List Installed Packages: ",(0,i.jsx)(n.code,{children:"npm list"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["For top-level only: ",(0,i.jsx)(n.code,{children:"npm list --depth=0"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Update Packages: ",(0,i.jsx)(n.code,{children:"npm update"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Updates packages within allowed version ranges."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Uninstall a Package: ",(0,i.jsx)(n.code,{children:"npm uninstall express"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Removes:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Package from ",(0,i.jsx)(n.code,{children:"node_modules"})]}),"\n",(0,i.jsxs)(n.li,{children:["Entry from ",(0,i.jsx)(n.code,{children:"package.json"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"packagejson",children:(0,i.jsx)(n.code,{children:"package.json"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"package.json"})," is the main configuration file for a Node.js project. It:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stores project information"}),"\n",(0,i.jsx)(n.li,{children:"Lists required dependencies"}),"\n",(0,i.jsx)(n.li,{children:"Defines scripts to run the project"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"It acts as a blueprint for the project."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation of Key Fields"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name"})}),(0,i.jsx)(n.td,{children:"Project name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"version"})}),(0,i.jsx)(n.td,{children:"Project version"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"main"})}),(0,i.jsx)(n.td,{children:"Entry file"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scripts"})}),(0,i.jsxs)(n.td,{children:["Commands run using ",(0,i.jsx)(n.code,{children:"npm run"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"dependencies"})}),(0,i.jsx)(n.td,{children:"Packages required at runtime"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"devDependencies"})}),(0,i.jsx)(n.td,{children:"Packages used only in development"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"package-lockjson",children:(0,i.jsx)(n.code,{children:"package-lock.json"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"package-lock.json"})," is an auto-generated file that records:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The exact versions of installed packages"}),"\n",(0,i.jsx)(n.li,{children:"The full dependency tree"}),"\n",(0,i.jsx)(n.li,{children:"Package source locations and integrity hashes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"It ensures consistent installs across machines."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"You should never edit this file manually."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Why ",(0,i.jsx)(n.code,{children:"package-lock.json"})," is Important"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Prevents \u201cworks on my machine\u201d problems"}),"\n",(0,i.jsx)(n.li,{children:"Guarantees same dependency versions"}),"\n",(0,i.jsx)(n.li,{children:"Speeds up installations"}),"\n",(0,i.jsx)(n.li,{children:"Improves security auditing"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsx)(n.h3,{id:"dependencies-1",children:(0,i.jsx)(n.code,{children:"dependencies"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dependencies"})," are packages required for the application to run in production.\r\nIf these packages are missing, the application will not function correctly."]}),"\n",(0,i.jsx)(n.p,{children:"They are installed automatically when the project is deployed."}),"\n",(0,i.jsx)(n.h3,{id:"devdependencies",children:(0,i.jsx)(n.code,{children:"devDependencies"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"devDependencies"})," are packages only needed during development, not in production."]}),"\n",(0,i.jsx)(n.p,{children:"They help with: Testing, Debugging, Code formatting, Build processes"}),"\n",(0,i.jsxs)(n.h3,{id:"key-differences-between-dependencies-and-devdependencies",children:["Key Differences Between ",(0,i.jsx)(n.code,{children:"dependencies"})," and ",(0,i.jsx)(n.code,{children:"devDependencies"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"dependencies"}),(0,i.jsx)(n.th,{children:"devDependencies"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Required in production"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Installed in deployment"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsxs)(n.td,{children:["No (with ",(0,i.jsx)(n.code,{children:"--production"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Example packages"}),(0,i.jsx)(n.td,{children:"express, mongoose"}),(0,i.jsx)(n.td,{children:"nodemon, jest, eslint"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Purpose"}),(0,i.jsx)(n.td,{children:"App functionality"}),(0,i.jsx)(n.td,{children:"Development support"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"semantic-versioning",children:"Semantic Versioning"}),"\n",(0,i.jsxs)(n.p,{children:["Semantic Versioning is a versioning system used by npm packages in the format: ",(0,i.jsx)(n.code,{children:"MAJOR.MINOR.PATCH"})]}),"\n",(0,i.jsx)(n.h3,{id:"meaning-of-each-version-part",children:"Meaning of Each Version Part"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Part"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"MAJOR"})}),(0,i.jsx)(n.td,{children:"Breaking changes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"5.0.0"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"MINOR"})}),(0,i.jsx)(n.td,{children:"New features (backward compatible)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"4.19.0"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"PATCH"})}),(0,i.jsx)(n.td,{children:"Bug fixes only"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"4.18.3"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"semantic-versioning-symbols",children:"Semantic Versioning Symbols"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Caret (",(0,i.jsx)(n.code,{children:"^"}),") \u2013 Most Common: ",(0,i.jsx)(n.code,{children:'"express" : "^4.18.2"'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Allows updates: ",(0,i.jsx)(n.code,{children:"4.18.3"}),", ",(0,i.jsx)(n.code,{children:"4.19.0"})]}),"\n",(0,i.jsxs)(n.li,{children:["Does NOT allow: ",(0,i.jsx)(n.code,{children:"5.0.0"})]}),"\n",(0,i.jsxs)(n.li,{children:["Explanation","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Safe updates (no breaking changes)"}),"\n",(0,i.jsx)(n.li,{children:"Default behavior for npm installs"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Tilde (",(0,i.jsx)(n.code,{children:"~"}),"): ",(0,i.jsx)(n.code,{children:'"express": "~4.18.2"'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Allows updates: ",(0,i.jsx)(n.code,{children:"4.18.3"})]}),"\n",(0,i.jsxs)(n.li,{children:["Does NOT allow: ",(0,i.jsx)(n.code,{children:"4.19.0"})]}),"\n",(0,i.jsxs)(n.li,{children:["Explanation","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Only patch updates"}),"\n",(0,i.jsx)(n.li,{children:"More conservative"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Exact Version: ",(0,i.jsx)(n.code,{children:'"express": "4.18.2"'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Allows updates: None (locked)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Greater Than / Less Than: ",(0,i.jsx)(n.code,{children:'"express": ">=4.18.2 <5.0.0"'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Used for precise control."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"check-for-outdated-packages",children:"Check for Outdated Packages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm outdated\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Package   Current  Wanted  Latest\r\nexpress   4.18.2   4.19.0  5.0.0\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Current \u2192 Installed version"}),"\n",(0,i.jsxs)(n.li,{children:["Wanted \u2192 Latest allowed by ",(0,i.jsx)(n.code,{children:"package.json"})]}),"\n",(0,i.jsx)(n.li,{children:"Latest \u2192 Most recent version"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"publish-custom-package",children:"Publish Custom Package"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Initialize ",(0,i.jsx)(n.code,{children:"npm"})]}),"\n",(0,i.jsxs)(n.li,{children:["Create ",(0,i.jsx)(n.code,{children:"index.js"})," and write the package code"]}),"\n",(0,i.jsxs)(n.li,{children:["Link the package with ",(0,i.jsx)(n.code,{children:"npm link"}),", use it in another project with ",(0,i.jsx)(n.code,{children:"npm link my-math-utils"})]}),"\n",(0,i.jsxs)(n.li,{children:["Create an ",(0,i.jsx)(n.code,{children:"npm"})," account with ",(0,i.jsx)(n.code,{children:"npm adduser"})," and login with ",(0,i.jsx)(n.code,{children:"npm login"})]}),"\n",(0,i.jsxs)(n.li,{children:["publish it with ",(0,i.jsx)(n.code,{children:"npm publish"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);