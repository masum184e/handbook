"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[10625],{28453(e,n,i){i.d(n,{R:()=>a,x:()=>t});var r=i(96540);const s={},l=r.createContext(s);function a(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(l.Provider,{value:n},e.children)}},85832(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"oop/Inheritance","title":"Inheritance","description":"Inheritance allows one class (child/subclass) to reuse and extend another class (parent/superclass).","source":"@site/docs/oop/10. Inheritance.md","sourceDirName":"oop","slug":"/oop/Inheritance","permalink":"/handbook/docs/oop/Inheritance","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{},"sidebar":"oopSidebar","previous":{"title":"Abstraction","permalink":"/handbook/docs/oop/Abstraction"},"next":{"title":"Polymorphism","permalink":"/handbook/docs/oop/Polymorphism"}}');var s=i(74848),l=i(28453);const a={},t=void 0,c={},h=[{value:"The Real Question: When Should You Use Inheritance?",id:"the-real-question-when-should-you-use-inheritance",level:2},{value:"Inheritance and Invariants",id:"inheritance-and-invariants",level:2},{value:"Classic Wrong Example: Rectangle\u2013Square Problem",id:"classic-wrong-example-rectanglesquare-problem",level:2},{value:"When Inheritance Is Correct",id:"when-inheritance-is-correct",level:2},{value:"Good Example: Shape Hierarchy",id:"good-example-shape-hierarchy",level:3},{value:"Now: Composition",id:"now-composition",level:2},{value:"Example: Car and Engine",id:"example-car-and-engine",level:3},{value:"Why Composition Is Often Better",id:"why-composition-is-often-better",level:2},{value:"Dangerous Inheritance Example (Fragile Base Class)",id:"dangerous-inheritance-example-fragile-base-class",level:2},{value:"Safer Alternative Using Composition",id:"safer-alternative-using-composition",level:2},{value:"Clear Decision Rule",id:"clear-decision-rule",level:2},{value:"Deep Insight",id:"deep-insight",level:2},{value:"Golden Rule",id:"golden-rule",level:2},{value:"Final Comparison",id:"final-comparison",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Inheritance allows one class (child/subclass) to reuse and extend another class (parent/superclass)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class Animal {\r\n    public void eat() {\r\n        System.out.println("Eating...");\r\n    }\r\n}\r\n\r\nclass Dog extends Animal {\r\n    public void bark() {\r\n        System.out.println("Bark!");\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Dog"})," inherits behavior from ",(0,s.jsx)(n.code,{children:"Animal"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"But inheritance is more than code reuse."}),"\n",(0,s.jsx)(n.li,{children:'It creates an "is-a" relationship: Dog is an Animal.'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-real-question-when-should-you-use-inheritance",children:"The Real Question: When Should You Use Inheritance?"}),"\n",(0,s.jsx)(n.p,{children:"Use inheritance only when:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"The subclass truly satisfies the behavioral contract and invariants of the superclass."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This is called the Liskov Substitution Principle (LSP):"}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"B"})," extends ",(0,s.jsx)(n.code,{children:"A"}),", then ",(0,s.jsx)(n.code,{children:"B"})," must be usable anywhere ",(0,s.jsx)(n.code,{children:"A"})," is expected without breaking correctness."]}),"\n",(0,s.jsx)(n.p,{children:"That means:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All invariants of ",(0,s.jsx)(n.code,{children:"A"})," must still hold in ",(0,s.jsx)(n.code,{children:"B"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"B"})," must not weaken guarantees."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"B"})," must not violate assumptions of ",(0,s.jsx)(n.code,{children:"A"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"inheritance-and-invariants",children:"Inheritance and Invariants"}),"\n",(0,s.jsx)(n.p,{children:"This is where encapsulation becomes critical."}),"\n",(0,s.jsx)(n.p,{children:"A superclass defines:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Internal state"}),"\n",(0,s.jsx)(n.li,{children:"Invariants"}),"\n",(0,s.jsx)(n.li,{children:"Behavioral contract"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If a subclass breaks those invariants, inheritance is wrong."}),"\n",(0,s.jsx)(n.h2,{id:"classic-wrong-example-rectanglesquare-problem",children:"Classic Wrong Example: Rectangle\u2013Square Problem"}),"\n",(0,s.jsx)(n.p,{children:"We define:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Rectangle {\r\n    protected int width;\r\n    protected int height;\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public int getArea() {\r\n        return width * height;\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now someone writes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Square extends Rectangle {\r\n\r\n    @Override\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n        this.height = width;\r\n    }\r\n\r\n    @Override\r\n    public void setHeight(int height) {\r\n        this.width = height;\r\n        this.height = height;\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Seems logical, right?"}),"\n",(0,s.jsx)(n.p,{children:"But Rectangle\u2019s implicit invariant is:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Width and height are independent."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Square\u2019s invariant is:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Width == height."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Now this breaks substitutability:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"Rectangle r = new Square();\r\nr.setWidth(5);\r\nr.setHeight(10);\r\n\r\nSystem.out.println(r.getArea());  // Expected 50, gets 100\n"})}),"\n",(0,s.jsx)(n.p,{children:"Boom."}),"\n",(0,s.jsx)(n.p,{children:"Square cannot safely substitute Rectangle."}),"\n",(0,s.jsx)(n.p,{children:"Inheritance violated invariants."}),"\n",(0,s.jsx)(n.h2,{id:"when-inheritance-is-correct",children:"When Inheritance Is Correct"}),"\n",(0,s.jsx)(n.p,{children:"Use inheritance when:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"There is a true is-a relationship."}),"\n",(0,s.jsx)(n.li,{children:"The subclass does not change invariants."}),"\n",(0,s.jsx)(n.li,{children:"The subclass only extends behavior, not contradict it."}),"\n",(0,s.jsx)(n.li,{children:"You want polymorphic substitution."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"good-example-shape-hierarchy",children:"Good Example: Shape Hierarchy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"abstract class Shape {\r\n    public abstract double getArea();\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Subclasses:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Circle extends Shape {\r\n    private double radius;\r\n\r\n    public Circle(double radius) {\r\n        if (radius <= 0)\r\n            throw new IllegalArgumentException();\r\n        this.radius = radius;\r\n    }\r\n\r\n    public double getArea() {\r\n        return Math.PI * radius * radius;\r\n    }\r\n}\r\n\r\nclass Rectangle extends Shape {\r\n    private double width;\r\n    private double height;\r\n\r\n    public Rectangle(double width, double height) {\r\n        if (width <= 0 || height <= 0)\r\n            throw new IllegalArgumentException();\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public double getArea() {\r\n        return width * height;\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No shared mutable invariant is broken."}),"\n",(0,s.jsx)(n.li,{children:"Both satisfy the contract: \u201ca shape can compute area.\u201d"}),"\n",(0,s.jsx)(n.li,{children:"No subclass weakens guarantees."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This is safe inheritance."}),"\n",(0,s.jsx)(n.h2,{id:"now-composition",children:"Now: Composition"}),"\n",(0,s.jsx)(n.p,{children:"Composition means:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Instead of inheriting behavior, you include another object as a field."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'"Has-a" relationship instead of "is-a".'}),"\n",(0,s.jsx)(n.h3,{id:"example-car-and-engine",children:"Example: Car and Engine"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class Engine {\r\n    public void start() {\r\n        System.out.println("Engine started");\r\n    }\r\n}\r\n\r\nclass Car {\r\n    private Engine engine;\r\n\r\n    public Car() {\r\n        this.engine = new Engine();\r\n    }\r\n\r\n    public void startCar() {\r\n        engine.start();\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Car has an Engine."}),"\n",(0,s.jsx)(n.p,{children:"Car is not an Engine."}),"\n",(0,s.jsx)(n.p,{children:"This preserves encapsulation better."}),"\n",(0,s.jsx)(n.h2,{id:"why-composition-is-often-better",children:"Why Composition Is Often Better"}),"\n",(0,s.jsx)(n.p,{children:"Inheritance:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Exposes parent internals to child."}),"\n",(0,s.jsx)(n.li,{children:"Couples child tightly to parent."}),"\n",(0,s.jsx)(n.li,{children:"Can break invariants."}),"\n",(0,s.jsx)(n.li,{children:"Hard to modify superclass later."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Composition:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Preserves encapsulation."}),"\n",(0,s.jsx)(n.li,{children:"Looser coupling."}),"\n",(0,s.jsx)(n.li,{children:"More flexible."}),"\n",(0,s.jsx)(n.li,{children:"Easier to change behavior dynamically."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"dangerous-inheritance-example-fragile-base-class",children:"Dangerous Inheritance Example (Fragile Base Class)"}),"\n",(0,s.jsx)(n.p,{children:"Imagine:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Logger {\r\n    protected List<String> logs = new ArrayList<>();\r\n\r\n    public void log(String message) {\r\n        logs.add(message);\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Child class:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class TimestampLogger extends Logger {\r\n    @Override\r\n    public void log(String message) {\r\n        logs.add(System.currentTimeMillis() + ": " + message);\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"If Logger later changes internal storage:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Subclass may break."}),"\n",(0,s.jsxs)(n.li,{children:["Encapsulation was weak because ",(0,s.jsx)(n.code,{children:"logs"})," was protected."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Inheritance leaks implementation details."}),"\n",(0,s.jsx)(n.h2,{id:"safer-alternative-using-composition",children:"Safer Alternative Using Composition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class TimestampLogger {\r\n    private Logger logger;\r\n\r\n    public TimestampLogger(Logger logger) {\r\n        this.logger = logger;\r\n    }\r\n\r\n    public void log(String message) {\r\n        logger.log(System.currentTimeMillis() + ": " + message);\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Logger internals remain hidden."}),"\n",(0,s.jsx)(n.li,{children:"TimestampLogger depends only on public API."}),"\n",(0,s.jsx)(n.li,{children:"Encapsulation preserved."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"clear-decision-rule",children:"Clear Decision Rule"}),"\n",(0,s.jsx)(n.p,{children:"Use inheritance when:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You want polymorphism"}),"\n",(0,s.jsx)(n.li,{children:'There is a true "is-a" relationship'}),"\n",(0,s.jsx)(n.li,{children:"Subclass does not change invariants"}),"\n",(0,s.jsx)(n.li,{children:"You are extending behavior, not restricting it"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Use composition when:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Relationship is "has-a"'}),"\n",(0,s.jsx)(n.li,{children:"You want flexibility"}),"\n",(0,s.jsx)(n.li,{children:"You want to preserve encapsulation"}),"\n",(0,s.jsx)(n.li,{children:"Behavior may change at runtime"}),"\n",(0,s.jsx)(n.li,{children:"You are reusing functionality without true subtype meaning"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deep-insight",children:"Deep Insight"}),"\n",(0,s.jsx)(n.p,{children:"Inheritance is about type hierarchy."}),"\n",(0,s.jsx)(n.p,{children:"Composition is about behavior reuse."}),"\n",(0,s.jsx)(n.p,{children:"If your goal is:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Code reuse \u2192 prefer composition."}),"\n",(0,s.jsx)(n.li,{children:"Substitutability \u2192 inheritance may be appropriate."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"golden-rule",children:"Golden Rule"}),"\n",(0,s.jsx)(n.p,{children:"Favor composition over inheritance."}),"\n",(0,s.jsx)(n.p,{children:"Because:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Composition preserves encapsulation."}),"\n",(0,s.jsx)(n.li,{children:"Inheritance exposes it."}),"\n",(0,s.jsx)(n.li,{children:"Encapsulation protects invariants."}),"\n",(0,s.jsx)(n.li,{children:"Broken invariants break systems."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"final-comparison",children:"Final Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Inheritance"}),(0,s.jsx)(n.th,{children:"Composition"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"is-a"'}),(0,s.jsx)(n.td,{children:'"has-a"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tight coupling"}),(0,s.jsx)(n.td,{children:"Loose coupling"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Can break invariants"}),(0,s.jsx)(n.td,{children:"Preserves invariants"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Compile-time relationship"}),(0,s.jsx)(n.td,{children:"Can be dynamic"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Harder to change"}),(0,s.jsx)(n.td,{children:"More flexible"})]})]})]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);