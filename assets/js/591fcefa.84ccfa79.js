"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[18279],{6864(n,e,i){i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"oop/Encapsulation","title":"Encapsulation","description":"Encapsulation is one of the core principles of object-oriented programming (OOP). It means:","source":"@site/docs/oop/8. Encapsulation.md","sourceDirName":"oop","slug":"/oop/Encapsulation","permalink":"/handbook/docs/oop/Encapsulation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{},"sidebar":"oopSidebar","previous":{"title":"Access Modifier","permalink":"/handbook/docs/oop/Access Modifier"},"next":{"title":"Abstraction","permalink":"/handbook/docs/oop/Abstraction"}}');var r=i(74848),s=i(28453);const a={},l=void 0,o={},c=[{value:"Information Hiding",id:"information-hiding",level:2},{value:"Without Encapsulation",id:"without-encapsulation",level:3},{value:"With Encapsulation (Information Hiding)",id:"with-encapsulation-information-hiding",level:3},{value:"Invariants",id:"invariants",level:2},{value:"Example with Invariant Enforcement",id:"example-with-invariant-enforcement",level:3},{value:"Bad Design (Invariant Not Protected)",id:"bad-design-invariant-not-protected",level:3},{value:"Proper Encapsulation with Invariant Protection",id:"proper-encapsulation-with-invariant-protection",level:3},{value:"Key Concept: Encapsulation = Protection of Invariants",id:"key-concept-encapsulation--protection-of-invariants",level:2},{value:"Stronger Example: Class with Multiple Invariants",id:"stronger-example-class-with-multiple-invariants",level:2},{value:"Deep Insight",id:"deep-insight",level:2},{value:"Advanced View (Language Independent)",id:"advanced-view-language-independent",level:2},{value:"Example:",id:"example",level:3},{value:"Dangerous:",id:"dangerous",level:4},{value:"Summary",id:"summary",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"Encapsulation is one of the core principles of object-oriented programming (OOP). It means:"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Bundling data and behavior together, and controlling access to internal state so the object protects its own consistency."}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Encapsulation has two key aspects:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Information Hiding"}),"\n",(0,r.jsx)(e.li,{children:"Maintaining Invariants"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"information-hiding",children:"Information Hiding"}),"\n",(0,r.jsx)(e.p,{children:"Information hiding means:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"The internal representation (data structures, variables) of a class is not directly accessible from outside."}),"\n",(0,r.jsx)(e.li,{children:"External code interacts only through a well-defined public interface (methods)."}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"The goal:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Prevent misuse"}),"\n",(0,r.jsx)(e.li,{children:"Reduce coupling"}),"\n",(0,r.jsx)(e.li,{children:"Allow internal changes without breaking other code"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Why it matters"})}),"\n",(0,r.jsx)(e.p,{children:"If internal details are exposed:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Other parts of the program may depend on them."}),"\n",(0,r.jsx)(e.li,{children:"Changing the implementation becomes risky."}),"\n",(0,r.jsx)(e.li,{children:"Bugs can be introduced by uncontrolled modification."}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"without-encapsulation",children:"Without Encapsulation"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"class BankAccount {\r\n    public double balance;\r\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Usage:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"BankAccount acc = new BankAccount();\r\nacc.balance = -1000000;   // Nothing prevents this\n"})}),"\n",(0,r.jsx)(e.p,{children:"Problem:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Anyone can assign invalid values."}),"\n",(0,r.jsx)(e.li,{children:"No control over how balance changes."}),"\n",(0,r.jsx)(e.li,{children:"Invariant (balance should not be negative) can be violated."}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"with-encapsulation-information-hiding",children:"With Encapsulation (Information Hiding)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"class BankAccount {\r\n    private double balance;\r\n\r\n    public void deposit(double amount) {\r\n        if (amount > 0) {\r\n            balance += amount;\r\n        }\r\n    }\r\n\r\n    public void withdraw(double amount) {\r\n        if (amount > 0 && amount <= balance) {\r\n            balance -= amount;\r\n        }\r\n    }\r\n\r\n    public double getBalance() {\r\n        return balance;\r\n    }\r\n}\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"balance"})," is private."]}),"\n",(0,r.jsx)(e.li,{children:"Only methods can modify it."}),"\n",(0,r.jsx)(e.li,{children:"Rules are enforced inside the class."}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"invariants",children:"Invariants"}),"\n",(0,r.jsx)(e.p,{children:"An invariant is a condition that must always be true for an object after construction and between method calls."}),"\n",(0,r.jsx)(e.p,{children:"Examples:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"A bank account balance \u2265 0"}),"\n",(0,r.jsx)(e.li,{children:"A rectangle width > 0 and height > 0"}),"\n",(0,r.jsx)(e.li,{children:"A list size \u2265 0"}),"\n",(0,r.jsx)(e.li,{children:"A person\u2019s age \u2265 0"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Encapsulation ensures invariants are protected."}),"\n",(0,r.jsx)(e.h3,{id:"example-with-invariant-enforcement",children:"Example with Invariant Enforcement"}),"\n",(0,r.jsxs)(e.p,{children:["Let\u2019s define a ",(0,r.jsx)(e.code,{children:"Rectangle"}),"."]}),"\n",(0,r.jsx)(e.p,{children:"Invariant:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"width > 0"}),"\n",(0,r.jsx)(e.li,{children:"height > 0"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"bad-design-invariant-not-protected",children:"Bad Design (Invariant Not Protected)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"class Rectangle {\r\n    public int width;\r\n    public int height;\r\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Usage:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"Rectangle r = new Rectangle();\r\nr.width = -5;     // Violates invariant\r\nr.height = 0;     // Also invalid\n"})}),"\n",(0,r.jsx)(e.p,{children:"The object is now in an invalid state."}),"\n",(0,r.jsx)(e.h3,{id:"proper-encapsulation-with-invariant-protection",children:"Proper Encapsulation with Invariant Protection"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:'class Rectangle {\r\n    private int width;\r\n    private int height;\r\n\r\n    public Rectangle(int width, int height) {\r\n        if (width <= 0 || height <= 0) {\r\n            throw new IllegalArgumentException("Width and height must be positive.");\r\n        }\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        if (width <= 0) {\r\n            throw new IllegalArgumentException("Width must be positive.");\r\n        }\r\n        this.width = width;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        if (height <= 0) {\r\n            throw new IllegalArgumentException("Height must be positive.");\r\n        }\r\n        this.height = height;\r\n    }\r\n\r\n    public int getArea() {\r\n        return width * height;\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Now:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Object can never exist with invalid dimensions."}),"\n",(0,r.jsx)(e.li,{children:"Invariant is guaranteed after constructor and after each method call."}),"\n",(0,r.jsx)(e.li,{children:"Internal state is protected."}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"key-concept-encapsulation--protection-of-invariants",children:"Key Concept: Encapsulation = Protection of Invariants"}),"\n",(0,r.jsx)(e.p,{children:"You can think of it like this:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Concept"}),(0,r.jsx)(e.th,{children:"Meaning"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Information hiding"}),(0,r.jsx)(e.td,{children:"Hide internal state and implementation"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Public interface"}),(0,r.jsx)(e.td,{children:"Controlled access through methods"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Invariant"}),(0,r.jsx)(e.td,{children:"Condition that must always hold true"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Encapsulation"}),(0,r.jsx)(e.td,{children:"Mechanism that ensures invariants cannot be violated"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"stronger-example-class-with-multiple-invariants",children:"Stronger Example: Class with Multiple Invariants"}),"\n",(0,r.jsxs)(e.p,{children:["Let\u2019s model a ",(0,r.jsx)(e.code,{children:"User"}),"."]}),"\n",(0,r.jsx)(e.p,{children:"Invariants:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Username is not empty"}),"\n",(0,r.jsx)(e.li,{children:"Password length \u2265 8"}),"\n",(0,r.jsx)(e.li,{children:"Age \u2265 18"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:'class User {\r\n    private String username;\r\n    private String password;\r\n    private int age;\r\n\r\n    public User(String username, String password, int age) {\r\n        if (username == null || username.isEmpty())\r\n            throw new IllegalArgumentException("Invalid username");\r\n\r\n        if (password == null || password.length() < 8)\r\n            throw new IllegalArgumentException("Password too short");\r\n\r\n        if (age < 18)\r\n            throw new IllegalArgumentException("User must be 18+");\r\n\r\n        this.username = username;\r\n        this.password = password;\r\n        this.age = age;\r\n    }\r\n\r\n    public void changePassword(String newPassword) {\r\n        if (newPassword == null || newPassword.length() < 8)\r\n            throw new IllegalArgumentException("Password too short");\r\n\r\n        this.password = newPassword;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Notice:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"No setter for age."}),"\n",(0,r.jsx)(e.li,{children:"No getter for password."}),"\n",(0,r.jsx)(e.li,{children:"The invariant is always protected."}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"deep-insight",children:"Deep Insight"}),"\n",(0,r.jsxs)(e.p,{children:["Encapsulation is not just about ",(0,r.jsx)(e.code,{children:"private"})," variables."]}),"\n",(0,r.jsx)(e.p,{children:"It is about:"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Designing a class so that it controls its own correctness."}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Good encapsulation:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Minimizes exposed surface"}),"\n",(0,r.jsx)(e.li,{children:"Protects invariants"}),"\n",(0,r.jsx)(e.li,{children:"Makes illegal states unrepresentable"}),"\n",(0,r.jsx)(e.li,{children:"Allows internal refactoring without breaking users"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"advanced-view-language-independent",children:"Advanced View (Language Independent)"}),"\n",(0,r.jsx)(e.p,{children:"Encapsulation can also mean:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Returning copies instead of references (defensive copying)"}),"\n",(0,r.jsx)(e.li,{children:"Using immutable objects"}),"\n",(0,r.jsx)(e.li,{children:"Restricting mutation"}),"\n",(0,r.jsx)(e.li,{children:"Avoiding exposing internal collections"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"example",children:"Example:"}),"\n",(0,r.jsx)(e.h4,{id:"dangerous",children:"Dangerous:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"public List<String> getItems() {\r\n    return items;   // exposes internal list\r\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Better:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"public List<String> getItems() {\r\n    return new ArrayList<>(items);  // defensive copy\r\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"This prevents external code from modifying internal state."}),"\n",(0,r.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(e.p,{children:"Encapsulation consists of:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["Information Hiding","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Hide internal data"}),"\n",(0,r.jsx)(e.li,{children:"Expose only necessary operations"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Invariant Protection","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Define rules that must always hold"}),"\n",(0,r.jsx)(e.li,{children:"Enforce them in constructors and methods"}),"\n",(0,r.jsx)(e.li,{children:"Never allow object to enter invalid state"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"And the golden rule:"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"If outside code can break your object\u2019s correctness, encapsulation is incomplete."}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},28453(n,e,i){i.d(e,{R:()=>a,x:()=>l});var t=i(96540);const r={},s=t.createContext(r);function a(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);