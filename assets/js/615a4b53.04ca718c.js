"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[97500],{28453(e,n,s){s.d(n,{R:()=>c,x:()=>i});var l=s(96540);const r={},a=l.createContext(r);function c(e){const n=l.useContext(a);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(a.Provider,{value:n},e.children)}},42348(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"mysql/Database Security/Best Practices","title":"Best Practices","description":"Use Strong Authentication & Passwords","source":"@site/docs/mysql/19. Database Security/3. Best Practices.md","sourceDirName":"mysql/19. Database Security","slug":"/mysql/Database Security/Best Practices","permalink":"/handbook/docs/mysql/Database Security/Best Practices","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"mysqlSidebar","previous":{"title":"Securing Connections","permalink":"/handbook/docs/mysql/Database Security/Securing Connections"},"next":{"title":"Data Backup","permalink":"/handbook/docs/mysql/Data Backup"}}');var r=s(74848),a=s(28453);const c={},i=void 0,o={},t=[{value:"Use Strong Authentication &amp; Passwords",id:"use-strong-authentication--passwords",level:3},{value:"Follow the Principle of Least Privilege (PoLP)",id:"follow-the-principle-of-least-privilege-polp",level:3},{value:"Remove Anonymous &amp; Unused Accounts",id:"remove-anonymous--unused-accounts",level:3},{value:"Use Encrypted Connections (SSL/TLS)",id:"use-encrypted-connections-ssltls",level:3},{value:"Secure the Root Account",id:"secure-the-root-account",level:3},{value:"Regularly Apply Updates &amp; Patches",id:"regularly-apply-updates--patches",level:3},{value:"Enable Logging &amp; Auditing",id:"enable-logging--auditing",level:3},{value:"Backup Data Securely",id:"backup-data-securely",level:3},{value:"Restrict Network Access",id:"restrict-network-access",level:3},{value:"Use Data-at-Rest Encryption",id:"use-data-at-rest-encryption",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"use-strong-authentication--passwords",children:"Use Strong Authentication & Passwords"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Always use strong, complex passwords."}),"\n",(0,r.jsx)(n.li,{children:"Enforce password policies (length, complexity, expiration)."}),"\n",(0,r.jsx)(n.li,{children:"Never leave the root account with no password."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"ALTER USER 'john'@'localhost' IDENTIFIED BY 'Secur3#Pass!';\n"})}),"\n",(0,r.jsx)(n.p,{children:"This ensures the user has a strong password."}),"\n",(0,r.jsx)(n.p,{children:"You can also enforce password expiration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"ALTER USER 'john'@'localhost' PASSWORD EXPIRE INTERVAL 90 DAY;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"follow-the-principle-of-least-privilege-polp",children:"Follow the Principle of Least Privilege (PoLP)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Users should only get the minimum privileges required for their job."}),"\n",(0,r.jsxs)(n.li,{children:["Avoid granting ",(0,r.jsx)(n.code,{children:"ALL PRIVILEGES"})," unless absolutely necessary."]}),"\n",(0,r.jsxs)(n.li,{children:["Never give ",(0,r.jsx)(n.code,{children:"SUPER"})," or ",(0,r.jsx)(n.code,{children:"GRANT OPTION"})," to normal users."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"GRANT SELECT, INSERT ON company.employees TO 'hr_user'@'localhost';\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"hr_user"})," can read and add employee data, but cannot delete or drop tables."]}),"\n",(0,r.jsx)(n.h3,{id:"remove-anonymous--unused-accounts",children:"Remove Anonymous & Unused Accounts"}),"\n",(0,r.jsxs)(n.p,{children:["MySQL by default may create anonymous accounts ('",(0,r.jsx)(n.code,{children:"'@'localhost'"}),"). These are dangerous."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"DROP USER ''@'localhost';\r\nDROP USER ''@'%';\n"})}),"\n",(0,r.jsx)(n.p,{children:"Removes potential backdoors."}),"\n",(0,r.jsx)(n.p,{children:"Also, remove test databases if not needed:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"DROP DATABASE test;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"use-encrypted-connections-ssltls",children:"Use Encrypted Connections (SSL/TLS)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Protect sensitive data by encrypting client-server communication."}),"\n",(0,r.jsx)(n.li,{children:"Require SSL for critical users."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE USER 'secure_user'@'%' IDENTIFIED BY 'StrongPass123' REQUIRE SSL;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Ensures that ",(0,r.jsx)(n.code,{children:"secure_user"})," can only connect via SSL/TLS."]}),"\n",(0,r.jsx)(n.h3,{id:"secure-the-root-account",children:"Secure the Root Account"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Don\u2019t use ",(0,r.jsx)(n.code,{children:"root"})," for application connections."]}),"\n",(0,r.jsxs)(n.li,{children:["Restrict ",(0,r.jsx)(n.code,{children:"root"})," login to localhost."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE USER 'dbadmin'@'localhost' IDENTIFIED BY 'Adm1n#Pass!';\r\nGRANT ALL PRIVILEGES ON *.* TO 'dbadmin'@'localhost' WITH GRANT OPTION;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Use dbadmin for administration and disable root remote login:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"ALTER USER 'root'@'%' ACCOUNT LOCK;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"regularly-apply-updates--patches",children:"Regularly Apply Updates & Patches"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Always run the latest MySQL version to patch vulnerabilities."}),"\n",(0,r.jsx)(n.li,{children:"Keep OS and MySQL-related libraries updated."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example command (Linux):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"sudo apt update && sudo apt upgrade mysql-server\n"})}),"\n",(0,r.jsx)(n.h3,{id:"enable-logging--auditing",children:"Enable Logging & Auditing"}),"\n",(0,r.jsx)(n.p,{children:"Enable the general log or audit log plugin to monitor suspicious activity."}),"\n",(0,r.jsx)(n.p,{children:"Monitor failed login attempts."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[mysqld]\r\nlog_error = /var/log/mysql/error.log\r\ngeneral_log = 1\r\ngeneral_log_file = /var/log/mysql/general.log\n"})}),"\n",(0,r.jsx)(n.p,{children:"This helps trace what queries were executed and by whom."}),"\n",(0,r.jsx)(n.h3,{id:"backup-data-securely",children:"Backup Data Securely"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Regular backups protect against accidental loss and ransomware."}),"\n",(0,r.jsx)(n.li,{children:"Store backups encrypted."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example backup with encryption:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mysqldump -u backup_user -p company | openssl enc -aes-256-cbc -out backup.sql.enc\n"})}),"\n",(0,r.jsx)(n.h3,{id:"restrict-network-access",children:"Restrict Network Access"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Bind MySQL to localhost if not needed remotely."}),"\n",(0,r.jsx)(n.li,{children:"Use firewalls to restrict which IPs can connect."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Example (",(0,r.jsx)(n.code,{children:"my.cnf"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[mysqld]\r\nbind-address = 127.0.0.1\n"})}),"\n",(0,r.jsx)(n.p,{children:"This ensures MySQL is only accessible locally."}),"\n",(0,r.jsx)(n.p,{children:"For remote access, allow specific IPs only:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE USER 'app_user'@'192.168.1.100' IDENTIFIED BY 'AppPass#1';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"use-data-at-rest-encryption",children:"Use Data-at-Rest Encryption"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Encrypt sensitive tables or entire storage using MySQL Transparent Data Encryption (TDE) or OS-level disk encryption."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example (per-table encryption):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE employees (\r\n  id INT PRIMARY KEY,\r\n  name VARCHAR(100),\r\n  salary DECIMAL(10,2)\r\n) ENCRYPTION='Y';\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);