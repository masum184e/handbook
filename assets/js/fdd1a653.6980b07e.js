"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[6957],{7879(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"javascript/Browser Execution/Script Handling","title":"Script Handling","description":"Normal ``","source":"@site/docs/javascript/Browser Execution/2. Script Handling.md","sourceDirName":"javascript/Browser Execution","slug":"/javascript/Browser Execution/Script Handling","permalink":"/handbook/docs/javascript/Browser Execution/Script Handling","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"javascriptSidebar","previous":{"title":"HTML Parsing","permalink":"/handbook/docs/javascript/Browser Execution/HTML Parsing"},"next":{"title":"Babel","permalink":"/handbook/docs/javascript/Browser Execution/Babel"}}');var i=s(4848),c=s(8453);const t={},l=void 0,o={},d=[{value:"Normal <code>&lt;script&gt;</code>",id:"normal-script",level:2},{value:"<code>&lt;script defer&gt;</code>",id:"script-defer",level:2},{value:"<code>&lt;script async&gt;</code>",id:"script-async",level:2},{value:"Multiple Script Handling",id:"multiple-script-handling",level:2}];function a(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"normal-script",children:["Normal ",(0,i.jsx)(n.code,{children:"<script>"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="normal.js"><\/script>\n'})}),"\n",(0,i.jsx)(n.p,{children:"The parser pauses:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fetches and executes ",(0,i.jsx)(n.code,{children:"normal.js"})]}),"\n",(0,i.jsx)(n.li,{children:"Only then continues parsing HTML below"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This is why ",(0,i.jsx)(n.code,{children:"<script>"})," tags often go at the end of ",(0,i.jsx)(n.code,{children:"<body>"})," \u2014 to avoid blocking HTML parsing."]}),"\n",(0,i.jsx)(n.h2,{id:"script-defer",children:(0,i.jsx)(n.code,{children:"<script defer>"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="defer.js" defer><\/script>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Parser continues parsing HTML (non-blocking)"}),"\n",(0,i.jsx)(n.li,{children:"Script is executed after HTML parsing is complete"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"script-async",children:(0,i.jsx)(n.code,{children:"<script async>"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="main.js" async><\/script>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Script is downloaded in parallel"}),"\n",(0,i.jsx)(n.li,{children:"Executes as soon as it\u2019s ready"}),"\n",(0,i.jsx)(n.li,{children:"Might execute before or after parsing finishes"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"multiple-script-handling",children:"Multiple Script Handling"}),"\n",(0,i.jsxs)(n.p,{children:["When you include multiple scripts using ",(0,i.jsx)(n.code,{children:"<script>"})," tags without ",(0,i.jsx)(n.code,{children:'type="module"'}),",\r\nall of them run in the same global scope (the ",(0,i.jsx)(n.code,{children:"window"})," object in browsers)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="./js/src/declare.js"><\/script>\r\n<script src="./js/src/index.js"><\/script>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Scripts are executed in the order they appear in the HTML (unless using ",(0,i.jsx)(n.code,{children:"async"})," or ",(0,i.jsx)(n.code,{children:"defer"}),")."]}),"\n",(0,i.jsx)(n.p,{children:"Multiple file share data which are in the same global scope, but the run independently."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"When Scripts Do NOT Share Data"})}),"\n",(0,i.jsxs)(n.p,{children:["If you use the module system (i.e., ",(0,i.jsx)(n.code,{children:'<script type="module">'}),"),\r\neach file runs in its own module scope, not the global scope."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script type="module" src="./js/src/declare.js"><\/script>\r\n<script type="module" src="./js/src/index.js"><\/script>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When we want to use ",(0,i.jsx)(n.code,{children:"import"}),"/",(0,i.jsx)(n.code,{children:"export"})," we have to use ",(0,i.jsx)(n.code,{children:'type="module"'})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var r=s(6540);const i={},c=r.createContext(i);function t(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);