"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[56644],{28453(e,n,s){s.d(n,{R:()=>c,x:()=>a});var r=s(96540);const i={},l=r.createContext(i);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(l.Provider,{value:n},e.children)}},43519(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"nginx/Basics","title":"Basics","description":"NGINX (pronounced \u201cengine-x\u201d) is a high-performance web server, reverse proxy, load balancer, and HTTP cache.","source":"@site/docs/nginx/1. Basics.md","sourceDirName":"nginx","slug":"/nginx/Basics","permalink":"/handbook/docs/nginx/Basics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"nginxApiSidebar","previous":{"title":"Introduction","permalink":"/handbook/docs/nginx/"},"next":{"title":"NGINX vs Apache","permalink":"/handbook/docs/nginx/NGINX vs Apache"}}');var i=s(74848),l=s(28453);const c={sidebar_position:2},a=void 0,d={},o=[{value:"Why NGINX Was Created",id:"why-nginx-was-created",level:2},{value:"What Can NGINX Do? (Core Uses)",id:"what-can-nginx-do-core-uses",level:2},{value:"NGINX Architecture Basics",id:"nginx-architecture-basics",level:2},{value:"NGINX vs Apache (Basic Comparison)",id:"nginx-vs-apache-basic-comparison",level:2},{value:"Basic NGINX Concepts",id:"basic-nginx-concepts",level:2},{value:"1. Server Block (Virtual Host)",id:"1-server-block-virtual-host",level:3},{value:"2. Location Block",id:"2-location-block",level:3},{value:"3. Reverse Proxy",id:"3-reverse-proxy",level:3},{value:"NGINX as a Web Server",id:"nginx-as-a-web-server",level:2},{value:"NGINX as a Reverse Proxy",id:"nginx-as-a-reverse-proxy",level:2},{value:"NGINX as a Load Balancer",id:"nginx-as-a-load-balancer",level:2},{value:"NGINX Caching",id:"nginx-caching",level:2},{value:"Advantages of NGINX",id:"advantages-of-nginx",level:2},{value:"When to Use NGINX",id:"when-to-use-nginx",level:2}];function t(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"NGINX (pronounced \u201cengine-x\u201d) is a high-performance web server, reverse proxy, load balancer, and HTTP cache."}),"\n",(0,i.jsx)(n.p,{children:"It is designed to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Handle very high traffic"}),"\n",(0,i.jsx)(n.li,{children:"Use low memory"}),"\n",(0,i.jsx)(n.li,{children:"Serve many concurrent users efficiently"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"NGINX is widely used by companies like Netflix, Google, Cloudflare, GitHub, and WordPress.com."}),"\n",(0,i.jsx)(n.h2,{id:"why-nginx-was-created",children:"Why NGINX Was Created"}),"\n",(0,i.jsx)(n.p,{children:"Traditional web servers (like Apache) use a process/thread-based model, which can consume a lot of memory under heavy traffic."}),"\n",(0,i.jsx)(n.p,{children:"NGINX was created to solve:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Poor performance under high concurrency"}),"\n",(0,i.jsx)(n.li,{children:"High CPU and memory usage"}),"\n",(0,i.jsx)(n.li,{children:"Slow response times during traffic spikes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"NGINX uses an event-driven, asynchronous architecture, making it faster and more scalable."}),"\n",(0,i.jsx)(n.h2,{id:"what-can-nginx-do-core-uses",children:"What Can NGINX Do? (Core Uses)"}),"\n",(0,i.jsx)(n.p,{children:"NGINX can act as:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Web Server \u2013 Serve static & dynamic content"}),"\n",(0,i.jsx)(n.li,{children:"Reverse Proxy \u2013 Forward requests to backend servers"}),"\n",(0,i.jsx)(n.li,{children:"Load Balancer \u2013 Distribute traffic across servers"}),"\n",(0,i.jsx)(n.li,{children:"HTTP Cache \u2013 Cache responses for faster delivery"}),"\n",(0,i.jsx)(n.li,{children:"SSL/TLS Termination \u2013 Handle HTTPS encryption"}),"\n",(0,i.jsx)(n.li,{children:"API Gateway \u2013 Manage API traffic"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nginx-architecture-basics",children:"NGINX Architecture Basics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Event-Driven Model"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Uses non-blocking I/O"}),"\n",(0,i.jsx)(n.li,{children:"One worker can handle thousands of connections"}),"\n",(0,i.jsx)(n.li,{children:"Very low memory usage"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Main Components"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Master Process \u2013 Manages configuration and worker processes"}),"\n",(0,i.jsx)(n.li,{children:"Worker Processes \u2013 Handle client requests"}),"\n",(0,i.jsxs)(n.li,{children:["Configuration File \u2013 Controls behavior (",(0,i.jsx)(n.code,{children:"nginx.conf"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nginx-vs-apache-basic-comparison",children:"NGINX vs Apache (Basic Comparison)"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"NGINX"}),(0,i.jsx)(n.th,{children:"Apache"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Architecture"}),(0,i.jsx)(n.td,{children:"Event-driven"}),(0,i.jsx)(n.td,{children:"Process-based"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Performance"}),(0,i.jsx)(n.td,{children:"Very high"}),(0,i.jsx)(n.td,{children:"Moderate"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Memory usage"}),(0,i.jsx)(n.td,{children:"Low"}),(0,i.jsx)(n.td,{children:"High"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Static files"}),(0,i.jsx)(n.td,{children:"Excellent"}),(0,i.jsx)(n.td,{children:"Good"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Dynamic content"}),(0,i.jsx)(n.td,{children:"Via proxy (PHP-FPM)"}),(0,i.jsx)(n.td,{children:"Built-in"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Best for"}),(0,i.jsx)(n.td,{children:"High traffic"}),(0,i.jsx)(n.td,{children:"Small to medium sites"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"basic-nginx-concepts",children:"Basic NGINX Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"1-server-block-virtual-host",children:"1. Server Block (Virtual Host)"}),"\n",(0,i.jsx)(n.p,{children:"Equivalent to Apache\u2019s VirtualHost."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"server {\r\n    listen 80;\r\n    server_name example.com;\r\n    root /var/www/html;\r\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-location-block",children:"2. Location Block"}),"\n",(0,i.jsx)(n.p,{children:"Defines how requests are handled."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"location /images/ {\r\n    root /data;\r\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-reverse-proxy",children:"3. Reverse Proxy"}),"\n",(0,i.jsx)(n.p,{children:"Forwards requests to backend servers."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"location / {\r\n    proxy_pass http://localhost:3000;\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"nginx-as-a-web-server",children:"NGINX as a Web Server"}),"\n",(0,i.jsx)(n.p,{children:"You want NGINX to serve a static website."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"server {\r\n    listen 80;\r\n    server_name mysite.com;\r\n\r\n    root /var/www/mysite;\r\n    index index.html;\r\n\r\n    location / {\r\n        try_files $uri $uri/ =404;\r\n    }\r\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"listen 80"})," \u2192 Listens on HTTP port ",(0,i.jsx)(n.code,{children:"80"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server_name"})," \u2192 Domain name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"root"})," \u2192 Website files location"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index"})," \u2192 Default page"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"try_files"})," \u2192 Prevents invalid requests"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This means:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["It serves files from: ",(0,i.jsx)(n.code,{children:"/var/www/mysite"})]}),"\n",(0,i.jsxs)(n.li,{children:["The default page is: ",(0,i.jsx)(n.code,{children:"/var/www/mysite/index.html"})]}),"\n",(0,i.jsx)(n.li,{children:"If a file/folder doesn\u2019t exist, it returns 404."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"How to access it:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In a browser: ",(0,i.jsx)(n.code,{children:"http://mysite.com"}),". But this only works if: ",(0,i.jsx)(n.code,{children:"mysite.com"})," points to your server\u2019s public IP (DNS configured correctly)."]}),"\n",(0,i.jsxs)(n.li,{children:["If DNS isn\u2019t set yet: ",(0,i.jsx)(n.code,{children:"http://YOUR_SERVER_IP"})," But this only works if: This server block is the default or matches the IP."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nginx-as-a-reverse-proxy",children:"NGINX as a Reverse Proxy"}),"\n",(0,i.jsxs)(n.p,{children:["Your app runs on Node.js (port 3000), but users access port ",(0,i.jsx)(n.code,{children:"80"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"server {\r\n    listen 80;\r\n\r\n    location / {\r\n        proxy_pass http://localhost:3000;\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n    }\r\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"NGINX receives client requests on port 80."}),"\n",(0,i.jsxs)(n.li,{children:["Any request to ",(0,i.jsx)(n.code,{children:"/"})," is forwarded to: ",(0,i.jsx)(n.code,{children:"http://localhost:3000"})]}),"\n",(0,i.jsx)(n.li,{children:"Sends the response back to the client"}),"\n",(0,i.jsx)(n.li,{children:"Client never sees backend server details"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nginx-as-a-load-balancer",children:"NGINX as a Load Balancer"}),"\n",(0,i.jsx)(n.p,{children:"Distribute traffic across 3 backend servers."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"upstream backend_servers {\r\n    least_conn;  \r\n    server 192.168.1.10;\r\n    server 192.168.1.11;\r\n    server 192.168.1.12;\r\n}\r\n\r\nserver {\r\n    listen 80;\r\n\r\n    location / {\r\n        proxy_pass http://backend_servers;\r\n    }\r\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Load balancing is round-robin by default."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"upstream"})," defines backend servers"]}),"\n",(0,i.jsxs)(n.li,{children:["Nginx listens on port ",(0,i.jsx)(n.code,{children:"80"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Requests are forwarded to one of: ",(0,i.jsx)(n.code,{children:"192.168.1.10"}),", ",(0,i.jsx)(n.code,{children:"192.168.1.11"}),", ",(0,i.jsx)(n.code,{children:"192.168.1.12"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nginx-caching",children:"NGINX Caching"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"location / {\r\n    proxy_cache my_cache;\r\n    proxy_pass http://backend;\r\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stores responses"}),"\n",(0,i.jsx)(n.li,{children:"Reduces backend load"}),"\n",(0,i.jsx)(n.li,{children:"Improves response speed"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"advantages-of-nginx",children:"Advantages of NGINX"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"High performance"}),"\n",(0,i.jsx)(n.li,{children:"Handles massive traffic"}),"\n",(0,i.jsx)(n.li,{children:"Low memory usage"}),"\n",(0,i.jsx)(n.li,{children:"Easy reverse proxy"}),"\n",(0,i.jsx)(n.li,{children:"Built-in load balancing"}),"\n",(0,i.jsx)(n.li,{children:"Excellent for microservices"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"when-to-use-nginx",children:"When to Use NGINX"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You expect high traffic"}),"\n",(0,i.jsx)(n.li,{children:"You need reverse proxy or load balancing"}),"\n",(0,i.jsx)(n.li,{children:"You want fast static file serving"}),"\n",(0,i.jsx)(n.li,{children:"You need API gateway or caching"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}}}]);