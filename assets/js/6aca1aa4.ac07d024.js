"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[40169],{28453(e,n,s){s.d(n,{R:()=>d,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function d(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}},74820(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"nextjs/CSR","title":"Client Side Rendering","description":"Client-Side Rendering (CSR) means that a page\u2019s HTML is mostly empty on initial load, and the actual rendering happens in the browser using JavaScript.","source":"@site/docs/nextjs/3. CSR.md","sourceDirName":"nextjs","slug":"/nextjs/CSR","permalink":"/handbook/docs/nextjs/CSR","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Client Side Rendering","sidebar_position":3},"sidebar":"nextjsSidebar","previous":{"title":"Project Structure","permalink":"/handbook/docs/nextjs/Project Structure"},"next":{"title":"Pre Rendering","permalink":"/handbook/docs/nextjs/3.5. Pre Rendering"}}');var t=s(74848),i=s(28453);const d={title:"Client Side Rendering",sidebar_position:3},l=void 0,a={},o=[{value:"How CSR Works",id:"how-csr-works",level:2},{value:"Best use cases for CSR",id:"best-use-cases-for-csr",level:2},{value:"Data Fetching in CSR",id:"data-fetching-in-csr",level:2},{value:"How to Use CSR",id:"how-to-use-csr",level:2},{value:"How to Combine CSR with SSR/SSG",id:"how-to-combine-csr-with-ssrssg",level:2}];function c(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Client-Side Rendering (CSR) means that a page\u2019s HTML is mostly empty on initial load, and the actual rendering happens in the browser using JavaScript."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The server sends a minimal HTML file with a ",(0,t.jsx)(n.code,{children:'<div id="__next"></div>'})," container."]}),"\n",(0,t.jsx)(n.li,{children:"The browser downloads and executes the bundled React JavaScript code."}),"\n",(0,t.jsx)(n.li,{children:"The React code runs inside the user\u2019s browser, fetches data (if needed), and renders components dynamically."}),"\n",(0,t.jsx)(n.li,{children:"The page loads slowly at first, but once everything is loaded, navigating between pages becomes very fast."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"In Next.js, CSR is used when:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"You want dynamic content that should be rendered after the page loads."}),"\n",(0,t.jsx)(n.li,{children:"You don\u2019t need SEO for that particular page (because search engines might not see the content immediately)."}),"\n",(0,t.jsxs)(n.li,{children:["You fetch data inside ",(0,t.jsx)(n.code,{children:"useEffect"})," or from client-side hooks instead of server-side functions."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-csr-works",children:"How CSR Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Browser Requests the Page:"})," The user enters a URL in the browser (e.g., ",(0,t.jsx)(n.code,{children:"https://example.com"}),")."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Server Responds with Minimal HTML:"})," The server responds with a lightweight HTML and Javscripts file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html lang="en">\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\r\n    <title>CSR Example</title>\r\n  </head>\r\n  <body>\r\n    <div id="root"></div>\r\n    \x3c!-- This is where React inserts the content --\x3e\r\n    <script src="bundle.js"><\/script>\r\n    \x3c!-- JavaScript file that builds the page --\x3e\r\n  </body>\r\n</html>\n'})}),"\n",(0,t.jsx)(n.p,{children:"At this point, the page is still empty! The content is missing because JavaScript hasn\u2019t run yet."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Browser Downloads JavaScript File:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The browser loads bundle.js, which contains the React app."}),"\n",(0,t.jsx)(n.li,{children:"React runs and fetches the blog post from an API."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JavaScript Fetches Data and Updates the Page:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import React, { useState, useEffect } from "react";\r\n\r\nfunction BlogPost() {\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch("https://jsonplaceholder.typicode.com/posts/1") // API call\r\n      .then((response) => response.json())\r\n      .then((json) => setData(json)); // Set data\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Client-Side Rendering Example</h1>\r\n      {data ? <h2>{data.title}</h2> : <p>Loading...</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlogPost;\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Content is Rendered in the Browser:"})," The fetched data is used to dynamically generate and update the page's content."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"User Interacts with the Page:"})," Since the page is now fully loaded in the browser, interactions like clicking buttons or navigating between pages happen instantly without needing a full page reload."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-use-cases-for-csr",children:"Best use cases for CSR"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Dynamic user-specific data"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: A user dashboard (orders, messages, profile) where content is unique to the logged-in user."}),"\n",(0,t.jsx)(n.li,{children:"Data shouldn\u2019t be cached or indexed by search engines."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Highly interactive UI"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: Chat apps, dashboards, or data that frequently updates."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Non-SEO critical pages"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: Admin panels, analytics dashboards, or user settings."}),"\n",(0,t.jsx)(n.li,{children:"Since content isn\u2019t indexed, SEO doesn\u2019t matter."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Third-party client-side SDKs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: Fetching data from Firebase, Stripe, or Auth0 where tokens are managed on the client."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Real-time data"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: Stock prices, live sports scores, notifications."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Advantages"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Good for dynamic content (like dashboards, user-specific data)."}),"\n",(0,t.jsx)(n.li,{children:"Lighter server load (server just sends shell)."}),"\n",(0,t.jsx)(n.li,{children:"Better for highly interactive apps (like SPAs)."}),"\n",(0,t.jsx)(n.li,{children:"Good for personalized dashboards and apps."}),"\n",(0,t.jsx)(n.li,{children:"Server doesn\u2019t need to fetch/render user-specific content."}),"\n",(0,t.jsx)(n.li,{children:"Works well with APIs requiring authentication."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Disadvantages"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Slower First Contentful Paint (FCP) (user sees loading spinner)."}),"\n",(0,t.jsx)(n.li,{children:"Not SEO friendly, since bots may not see dynamic content immediately."}),"\n",(0,t.jsx)(n.li,{children:"Depends on JavaScript being enabled in the browser."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"data-fetching-in-csr",children:"Data Fetching in CSR"}),"\n",(0,t.jsx)(n.p,{children:"When using Client-Side Rendering (CSR) in Next.js, data fetching happens inside the browser, not on the server."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The server only returns a minimal HTML shell."}),"\n",(0,t.jsx)(n.li,{children:"After the page loads, React runs in the browser."}),"\n",(0,t.jsxs)(n.li,{children:["React hooks like ",(0,t.jsx)(n.code,{children:"useEffect"})," and ",(0,t.jsx)(n.code,{children:"useState"})," are used to fetch and display the data."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-use-csr",children:"How to Use CSR"}),"\n",(0,t.jsxs)(n.p,{children:["In Next.js, CSR means skipping server-side data fetching (",(0,t.jsx)(n.code,{children:"getServerSideProps"}),", ",(0,t.jsx)(n.code,{children:"getStaticProps"}),") and instead fetching data inside the component with ",(0,t.jsx)(n.code,{children:"useEffect"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Render a basic HTML shell from the server."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Inside the component, use React hooks (",(0,t.jsx)(n.code,{children:"useEffect"}),", ",(0,t.jsx)(n.code,{children:"useState"}),") to fetch data."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Update the UI once the data arrives."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["In App Router (Next.js 13+ with ",(0,t.jsx)(n.code,{children:"app/"})," directory), mark components with ",(0,t.jsx)(n.code,{children:'"use client"'})," if they rely on state, effects, or event listeners."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// pages/users/profile.tsx\r\n"use client";\r\n\r\nimport { useEffect, useState } from "react";\r\n\r\ntype User = {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n};\r\n\r\nexport default function Dashboard() {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch user data after component mounts (CSR)\r\n  useEffect(() => {\r\n    async function fetchUser() {\r\n      try {\r\n        const res = await fetch("https://jsonplaceholder.typicode.com/users/1");\r\n        const data = await res.json();\r\n        setUser(data);\r\n      } catch (err) {\r\n        console.error("Failed to fetch user", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchUser();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading user dashboard...</p>;\r\n\r\n  return (\r\n    <div className="p-6">\r\n      <h1 className="text-xl font-bold">Client-Side Rendered Dashboard</h1>\r\n      {user ? (\r\n        <div className="mt-4">\r\n          <p>\r\n            <strong>ID:</strong> {user.id}\r\n          </p>\r\n          <p>\r\n            <strong>Name:</strong> {user.name}\r\n          </p>\r\n          <p>\r\n            <strong>Email:</strong> {user.email}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <p>Failed to load user data</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"use client"})," \u2192 Marks this as a client component."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"useEffect"})," ensures the data is fetched after the page loads (in the browser)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"loading"})," state \u2192 Shows a loading message until data is ready."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"On first request, the user sees:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<div id="__next">\r\n  <p>Loading user dashboard...</p>\r\n</div>\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Then, the browser fetches users from the API and updates the DOM with React."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["This is CSR, because:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No posts are pre-rendered on the server."}),"\n",(0,t.jsx)(n.li,{children:"All rendering happens in the client\u2019s browser."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Why CSR is the Right Choice Here"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The user\u2019s profile is private \u2192 No need for SEO or server-side pre-rendering."}),"\n",(0,t.jsx)(n.li,{children:"Data is dynamic \u2192 Changes per logged-in user."}),"\n",(0,t.jsx)(n.li,{children:"Reduces server load \u2192 Next.js just sends the shell, client does the rest."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-combine-csr-with-ssrssg",children:"How to Combine CSR with SSR/SSG"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use SSR/SSG for the base page (",(0,t.jsx)(n.code,{children:"getServerSideProps"})," or ",(0,t.jsx)(n.code,{children:"getStaticProps"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Use CSR (",(0,t.jsx)(n.code,{children:"useEffect"})," + ",(0,t.jsx)(n.code,{children:"useState"}),") for parts of the page that need client-side fetching"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'"use client"; // For app directory in Next.js 13+, not needed in pages dir\r\n\r\nimport { useEffect, useState } from "react";\r\n\r\n// ---------- Server-side Rendering ----------\r\nexport async function getServerSideProps(context) {\r\n  const { id } = context.params;\r\n  const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`);\r\n  const post = await res.json();\r\n\r\n  return {\r\n    props: { post }, // passed to component as props\r\n  };\r\n}\r\n\r\n// ---------- Page Component ----------\r\nexport default function BlogPost({ post }) {\r\n  // CSR states for comments\r\n  const [comments, setComments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // ---------- Client-side Rendering for Comments ----------\r\n  useEffect(() => {\r\n    async function fetchComments() {\r\n      const res = await fetch(\r\n        `https://jsonplaceholder.typicode.com/posts/${post.id}/comments`\r\n      );\r\n      const data = await res.json();\r\n      setComments(data);\r\n      setLoading(false);\r\n    }\r\n\r\n    fetchComments();\r\n  }, [post.id]);\r\n\r\n  return (\r\n    <div>\r\n      {/* SSR Content */}\r\n      <h1>{post.title}</h1>\r\n      <p>{post.body}</p>\r\n\r\n      {/* CSR Content */}\r\n      <h2>Comments</h2>\r\n      {loading ? (\r\n        <p>Loading comments...</p>\r\n      ) : (\r\n        <ul>\r\n          {comments.slice(0, 3).map((comment) => (\r\n            <li key={comment.id}>\r\n              <strong>{comment.name}</strong>: {comment.body}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);