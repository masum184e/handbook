"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[64714],{8513(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>o,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"rust/Data Structure/Strings","title":"Strings","description":"In Rust, text handling is powerful but strict. This is because Rust guarantees memory safety and Unicode correctness.","source":"@site/docs/rust/11. Data Structure/1. Strings.md","sourceDirName":"rust/11. Data Structure","slug":"/rust/Data Structure/Strings","permalink":"/handbook/docs/rust/Data Structure/Strings","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{}}');var t=r(74848),l=r(28453);const i={},c=void 0,d={},a=[{value:"String in Rust",id:"string-in-rust",level:2},{value:"String Slices (<code>&amp;str</code>)",id:"string-slices-str",level:2},{value:"String Slicing Syntax",id:"string-slicing-syntax",level:2},{value:"UTF-8 and Slicing Rules (Very Important!)",id:"utf-8-and-slicing-rules-very-important",level:2},{value:"Invalid UTF-8 Slice Example",id:"invalid-utf-8-slice-example",level:3},{value:"Converting Between String and &amp;str",id:"converting-between-string-and-str",level:2},{value:"<code>String</code> \u27a1\ufe0f <code>&amp;str</code>",id:"string-\ufe0f-str",level:3},{value:"<code>&amp;str</code> \u27a1\ufe0f <code>String</code>",id:"str-\ufe0f-string",level:3},{value:"Function Parameters: Best Practice",id:"function-parameters-best-practice",level:2},{value:"Prefer <code>&amp;str</code> over <code>String</code>",id:"prefer-str-over-string",level:3},{value:"Summary Table",id:"summary-table",level:2}];function h(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"In Rust, text handling is powerful but strict. This is because Rust guarantees memory safety and Unicode correctness."}),"\n",(0,t.jsx)(n.p,{children:"Rust mainly uses two types for text:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"String"})," \u2013 an owned, growable string"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"&str"})," \u2013 a string slice, borrowed view of a string"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Understanding the difference is crucial."}),"\n",(0,t.jsx)(n.h2,{id:"string-in-rust",children:"String in Rust"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A heap-allocated, growable, mutable string"}),"\n",(0,t.jsx)(n.li,{children:"Stores text as UTF-8"}),"\n",(0,t.jsx)(n.li,{children:"Owns its data"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let mut s = String::from("Hello");\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Characteristics"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.code,{children:"String"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Memory"}),(0,t.jsx)(n.td,{children:"Heap"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Mutable"}),(0,t.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Ownership"}),(0,t.jsx)(n.td,{children:"Owns the data"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"UTF-8"}),(0,t.jsx)(n.td,{children:"\u2705 Yes"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Creating a String"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s1 = String::from("Hello");\r\nlet s2 = "World".to_string();\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Both create a ",(0,t.jsx)(n.code,{children:"String"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Modifying a String"})}),"\n",(0,t.jsx)(n.p,{children:"Appending text"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let mut s = String::from("Hello");\r\ns.push(\'!\');           // single character\r\ns.push_str(" World");  // string slice\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Result: ",(0,t.jsx)(n.code,{children:"Hello! World"})]}),"\n",(0,t.jsxs)(n.p,{children:["Concatenation: Using ",(0,t.jsx)(n.code,{children:"+"})," operator"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s1 = String::from("Hello ");\r\nlet s2 = String::from("Rust");\r\n\r\nlet s3 = s1 + &s2;\n'})}),"\n",(0,t.jsx)(n.p,{children:"Important:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"s1"})," is moved"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"s2"})," is borrowed"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Why? Because ",(0,t.jsx)(n.code,{children:"+"})," is actually: ",(0,t.jsx)(n.code,{children:"fn add(self, s: &str) -> String"})]}),"\n",(0,t.jsxs)(n.p,{children:["Using ",(0,t.jsx)(n.code,{children:"format!"})," macro (recommended)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s1 = String::from("Hello");\r\nlet s2 = String::from("Rust");\r\n\r\nlet s3 = format!("{} {}", s1, s2);\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No ownership issues"}),"\n",(0,t.jsx)(n.li,{children:"Cleaner code"}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"string-slices-str",children:["String Slices (",(0,t.jsx)(n.code,{children:"&str"}),")"]}),"\n",(0,t.jsx)(n.p,{children:"A string slice is a reference to part (or all) of a string."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("Hello World");\r\nlet slice = &s[0..5];\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"slice"})," is of type ",(0,t.jsx)(n.code,{children:"&str"})]}),"\n",(0,t.jsx)(n.p,{children:"Key Characteristics"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.code,{children:"&str"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Ownership"}),(0,t.jsx)(n.td,{children:"\u274c No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Mutable"}),(0,t.jsx)(n.td,{children:"\u274c No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Memory"}),(0,t.jsx)(n.td,{children:"Stack reference"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"UTF-8"}),(0,t.jsx)(n.td,{children:"\u2705 Yes"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"String Literals Are Slices"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = "Hello Rust";\n'})}),"\n",(0,t.jsxs)(n.p,{children:["This is not a ",(0,t.jsx)(n.code,{children:"String"}),". It is a ",(0,t.jsx)(n.code,{children:"&'static"})," str (stored in the binary)."]}),"\n",(0,t.jsx)(n.h2,{id:"string-slicing-syntax",children:"String Slicing Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("Hello World");\r\n\r\nlet hello = &s[0..5];\r\nlet world = &s[6..11];\n'})}),"\n",(0,t.jsx)(n.p,{children:"Shorthand versions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"let hello = &s[..5];    // from start\r\nlet world = &s[6..];   // to end\r\nlet full  = &s[..];    // entire string\n"})}),"\n",(0,t.jsx)(n.h2,{id:"utf-8-and-slicing-rules-very-important",children:"UTF-8 and Slicing Rules (Very Important!)"}),"\n",(0,t.jsx)(n.p,{children:"Rust strings are UTF-8 encoded, so indexing is NOT allowed."}),"\n",(0,t.jsx)(n.p,{children:"This is illegal:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("Hello");\r\nlet c = s[0]; // \u274c compile-time error\n'})}),"\n",(0,t.jsx)(n.p,{children:"Why?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Characters may take more than 1 byte"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"invalid-utf-8-slice-example",children:"Invalid UTF-8 Slice Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("\u0928\u092e\u0938\u094d\u0924\u0947");\r\nlet slice = &s[0..1]; // \u274c runtime panic\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Because characters like ",(0,t.jsx)(n.code,{children:"\u0928"})," use multiple bytes."]}),"\n",(0,t.jsx)(n.p,{children:"Safe Way: Iterate Over Characters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("\u0928\u092e\u0938\u094d\u0924\u0947");\r\n\r\nfor c in s.chars() {\r\n    println!("{}", c);\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"converting-between-string-and-str",children:"Converting Between String and &str"}),"\n",(0,t.jsxs)(n.h3,{id:"string-\ufe0f-str",children:[(0,t.jsx)(n.code,{children:"String"})," \u27a1\ufe0f ",(0,t.jsx)(n.code,{children:"&str"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("Hello");\r\nlet slice: &str = &s;\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"str-\ufe0f-string",children:[(0,t.jsx)(n.code,{children:"&str"})," \u27a1\ufe0f ",(0,t.jsx)(n.code,{children:"String"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let slice = "Hello";\r\nlet s = slice.to_string();\n'})}),"\n",(0,t.jsx)(n.p,{children:"or"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"let s = String::from(slice);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"function-parameters-best-practice",children:"Function Parameters: Best Practice"}),"\n",(0,t.jsxs)(n.h3,{id:"prefer-str-over-string",children:["Prefer ",(0,t.jsx)(n.code,{children:"&str"})," over ",(0,t.jsx)(n.code,{children:"String"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'fn greet(name: &str) {\r\n    println!("Hello, {}", name);\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Why?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Accepts both ",(0,t.jsx)(n.code,{children:"String"})," and ",(0,t.jsx)(n.code,{children:"&str"})]}),"\n",(0,t.jsx)(n.li,{children:"Avoids unnecessary ownership transfer"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let s = String::from("Rust");\r\ngreet(&s);\r\ngreet("World");\n'})}),"\n",(0,t.jsx)(n.h2,{id:"summary-table",children:"Summary Table"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.code,{children:"String"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.code,{children:"&str"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Owns data"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u274c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Mutable"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u274c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Heap allocated"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u274c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"UTF-8"}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u2705"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Common use"}),(0,t.jsx)(n.td,{children:"Dynamic text"}),(0,t.jsx)(n.td,{children:"Function parameters"})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453(e,n,r){r.d(n,{R:()=>i,x:()=>c});var s=r(96540);const t={},l=s.createContext(t);function i(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);