"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[89043],{28453(n,e,s){s.d(e,{R:()=>i,x:()=>l});var r=s(96540);const o={},t=r.createContext(o);function i(n){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),r.createElement(t.Provider,{value:e},n.children)}},49382(n,e,s){s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"nodejs/AWS EC2","title":"AWS EC2","description":"1. Launch EC2 Instance","source":"@site/docs/nodejs/AWS EC2.md","sourceDirName":"nodejs","slug":"/nodejs/AWS EC2","permalink":"/handbook/docs/nodejs/AWS EC2","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"nodejsApiSidebar","previous":{"title":"Static Files","permalink":"/handbook/docs/nodejs/Static Files"},"next":{"title":"CORS","permalink":"/handbook/docs/nodejs/CORS"}}');var o=s(74848),t=s(28453);const i={},l=void 0,c={},d=[];function a(n){const e={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Launch EC2 Instance"}),"\n"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Choose Amazon Linux"}),"\n",(0,o.jsxs)(e.li,{children:["Open ports:","\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"22"})," (SSH)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"80"})," (HTTP)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"443"})," (HTTPS)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.ol,{start:"2",children:["\n",(0,o.jsx)(e.li,{children:"Connect to EC2"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"ssh -i mykey.pem ec2-user@<public-ip>\n"})}),"\n",(0,o.jsxs)(e.ol,{start:"3",children:["\n",(0,o.jsx)(e.li,{children:"Install Node.js"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"sudo yum update -y\r\ncurl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -\r\nsudo yum install nodejs -y\n"})}),"\n",(0,o.jsxs)(e.ol,{start:"4",children:["\n",(0,o.jsx)(e.li,{children:"Upload & Run App"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"git clone https://github.com/your-repo/node-app.git\r\ncd node-app\r\nnpm install\r\nnode index.js\n"})}),"\n",(0,o.jsx)(e.p,{children:"At this point, the app runs \u2014 but stops if the terminal closes"}),"\n",(0,o.jsxs)(e.ol,{start:"5",children:["\n",(0,o.jsx)(e.li,{children:"Use PM2 for Production"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"sudo npm install -g pm2\r\npm2 start index.js --name aws-node-app\r\npm2 startup\r\npm2 save\n"})}),"\n",(0,o.jsx)(e.p,{children:"Now:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"App runs in background"}),"\n",(0,o.jsx)(e.li,{children:"Restarts on crash"}),"\n",(0,o.jsx)(e.li,{children:"Auto-starts on reboot"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"What AWS Gives You"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Full OS control"}),"\n",(0,o.jsx)(e.li,{children:"Custom networking"}),"\n",(0,o.jsx)(e.li,{children:"Better performance at scale"}),"\n",(0,o.jsx)(e.li,{children:"Pay-as-you-go pricing"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}}}]);