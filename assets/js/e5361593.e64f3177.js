"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[2792],{28453(e,n,s){s.d(n,{R:()=>l,x:()=>d});var r=s(96540);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},83894(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"nextjs/Router","title":"Router","description":"pages Router","source":"@site/docs/nextjs/6. Router.md","sourceDirName":"nextjs","slug":"/nextjs/Router","permalink":"/handbook/docs/nextjs/Router","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Router","sidebar_position":7},"sidebar":"nextjsSidebar","previous":{"title":"Incremental Site Rendering","permalink":"/handbook/docs/nextjs/ISR"},"next":{"title":"Image Optimization","permalink":"/handbook/docs/nextjs/Image Optimization"}}');var t=s(74848),i=s(28453);const l={title:"Router",sidebar_position:7},d=void 0,c={},o=[{value:"<code>pages</code> Router",id:"pages-router",level:2},{value:"Folder Structure",id:"folder-structure",level:3},{value:"Routing",id:"routing",level:3},{value:"Data Fetching",id:"data-fetching",level:3},{value:"API Routes",id:"api-routes",level:3},{value:"Components",id:"components",level:3},{value:"Rendering Modes",id:"rendering-modes",level:3},{value:"Special Files",id:"special-files",level:3},{value:"<code>app</code> Router",id:"app-router",level:2},{value:"Folder Structure",id:"folder-structure-1",level:3},{value:"Routing",id:"routing-1",level:3},{value:"Data Fetching",id:"data-fetching-1",level:3},{value:"Components",id:"components-1",level:3},{value:"Server Components (default)",id:"server-components-default",level:4},{value:"Client Components",id:"client-components",level:4},{value:"Rendering",id:"rendering",level:4},{value:"Catch-All Routes",id:"catch-all-routes",level:2},{value:"Optional Catch-All Routes",id:"optional-catch-all-routes",level:3},{value:"Practical Use Cases",id:"practical-use-cases",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h2,{id:"pages-router",children:[(0,t.jsx)(n.code,{children:"pages"})," Router"]}),"\n",(0,t.jsxs)(n.p,{children:["The Pages Router in Next.js defines the application\u2019s routes and rendering behavior using the file system. Each file inside ",(0,t.jsx)(n.code,{children:"pages/"})," automatically becomes a route."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["File-based routing: Each file in ",(0,t.jsx)(n.code,{children:"pages/"})," is a route."]}),"\n",(0,t.jsxs)(n.li,{children:["Client Components by default: Unlike the App Router (",(0,t.jsx)(n.code,{children:"app/"}),") which defaults to Server Components."]}),"\n",(0,t.jsxs)(n.li,{children:["Data fetching: ",(0,t.jsx)(n.code,{children:"getStaticProps"}),", ",(0,t.jsx)(n.code,{children:"getServerSideProps"}),", ",(0,t.jsx)(n.code,{children:"getStaticPaths"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Uses special files (",(0,t.jsx)(n.code,{children:"_app.tsx"}),", ",(0,t.jsx)(n.code,{children:"_document.tsx"}),", ",(0,t.jsx)(n.code,{children:"_error.tsx"}),", ",(0,t.jsx)(n.code,{children:"404.tsx"}),") for global layouts, document structure, and error handling."]}),"\n",(0,t.jsxs)(n.li,{children:["API routes: Inside ",(0,t.jsx)(n.code,{children:"pages/api/"}),", served as serverless functions."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Each file inside ",(0,t.jsx)(n.code,{children:"pages/"})," represents a route, and its default export is rendered as the page. The default export from that file must be a React component."]}),"\n",(0,t.jsxs)(n.li,{children:["Supports Client Components by default (unlike ",(0,t.jsx)(n.code,{children:"app/"})," which defaults to Server Components)."]}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"File/Folder"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"index.tsx"})}),(0,t.jsxs)(n.td,{children:["Root route (",(0,t.jsx)(n.code,{children:"/"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"about.tsx"})}),(0,t.jsxs)(n.td,{children:["Static route (",(0,t.jsx)(n.code,{children:"/about"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[id].tsx"})}),(0,t.jsxs)(n.td,{children:["Dynamic route (e.g., ",(0,t.jsx)(n.code,{children:"/blog/123"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[...slug].tsx"})}),(0,t.jsxs)(n.td,{children:["Catch-all route (",(0,t.jsx)(n.code,{children:"/docs/intro/getting-started"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"_app.tsx"})}),(0,t.jsx)(n.td,{children:"Wraps all pages (global layout, providers, styles)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"_document.tsx"})}),(0,t.jsxs)(n.td,{children:["Customize HTML ",(0,t.jsx)(n.code,{children:"<html>"})," and ",(0,t.jsx)(n.code,{children:"<body>"})," (meta, lang, preload links)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"_error.tsx"})}),(0,t.jsx)(n.td,{children:"Custom error page."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"404.tsx"})}),(0,t.jsx)(n.td,{children:"Custom 404 page."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pages/api/*.ts"})}),(0,t.jsx)(n.td,{children:"API endpoints (serverless functions)."})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Structure:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"my-next-app/\r\n\u2502\u2500\u2500 .next/                        # Auto-generated build output\r\n\u2502\u2500\u2500 node_modules/                 # Dependencies\r\n\u2502\u2500\u2500 public/                       # Static assets (served from /)\r\n\u2502   \u251c\u2500\u2500 favicon.ico\r\n\u2502   \u251c\u2500\u2500 images/\r\n\u2502   \u2514\u2500\u2500 robots.txt\r\n\u2502\r\n\u2502\u2500\u2500 src/                          # Source code (recommended structure)\r\n\u2502   \u251c\u2500\u2500 pages/                    # Next.js Pages Router\r\n\u2502   \u2502   \u251c\u2500\u2500 index.tsx             # Home page (route: /)\r\n\u2502   \u2502   \u251c\u2500\u2500 about.tsx             # Example route (route: /about)\r\n\u2502   \u2502   \u251c\u2500\u2500 blog/                 # Nested routes\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 index.tsx         # Blog listing (route: /blog)\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 [id].tsx          # Dynamic blog route (route: /blog/123)\r\n\u2502   \u2502   \u251c\u2500\u2500 api/                  # API routes (serverless functions)\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 hello.ts          # API endpoint (route: /api/hello)\r\n\u2502   \u2502   \u251c\u2500\u2500 _app.tsx              # Custom App component (global layout/providers)\r\n\u2502   \u2502   \u251c\u2500\u2500 _document.tsx         # Custom Document (HTML structure, lang, meta)\r\n\u2502   \u2502   \u251c\u2500\u2500 _error.tsx            # Custom error page (fallback errors)\r\n\u2502   \u2502   \u2514\u2500\u2500 404.tsx               # Custom 404 page\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 components/               # Reusable UI components\r\n\u2502   \u2502   \u251c\u2500\u2500 ui/                   # Generic UI elements (buttons, cards, etc.)\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Button.tsx\r\n\u2502   \u2502   \u251c\u2500\u2500 layout/               # Layout-specific components\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Navbar.tsx\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Footer.tsx\r\n\u2502   \u2502   \u2514\u2500\u2500 shared/               # Reusable feature components\r\n\u2502   \u2502       \u2514\u2500\u2500 LoadingSpinner.tsx\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 features/                 # Feature-based modules\r\n\u2502   \u2502   \u251c\u2500\u2500 auth/\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 hooks/            # Auth-specific hooks\r\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 useAuth.ts\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 types.ts          # Auth-specific types\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 AuthProvider.tsx\r\n\u2502   \u2502   \u251c\u2500\u2500 products/\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ProductCard.tsx\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 utils.ts\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 types.ts\r\n\u2502   \u2502   \u2514\u2500\u2500 users/\r\n\u2502   \u2502       \u251c\u2500\u2500 UserCard.tsx\r\n\u2502   \u2502       \u2514\u2500\u2500 types.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 lib/                      # Helpers & utility functions\r\n\u2502   \u2502   \u251c\u2500\u2500 fetcher.ts\r\n\u2502   \u2502   \u2514\u2500\u2500 constants.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 hooks/                    # Global reusable hooks\r\n\u2502   \u2502   \u2514\u2500\u2500 useMediaQuery.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 context/                  # Global React Contexts\r\n\u2502   \u2502   \u2514\u2500\u2500 ThemeContext.tsx\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 types/                    # Centralized global types/interfaces\r\n\u2502   \u2502   \u251c\u2500\u2500 api.ts                # API response/request types\r\n\u2502   \u2502   \u251c\u2500\u2500 user.ts               # Shared user types\r\n\u2502   \u2502   \u251c\u2500\u2500 product.ts            # Shared product types\r\n\u2502   \u2502   \u2514\u2500\u2500 index.d.ts            # Global ambient types (extends Window, etc.)\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 styles/                   # Styles\r\n\u2502   \u2502   \u251c\u2500\u2500 globals.css\r\n\u2502   \u2502   \u251c\u2500\u2500 variables.css\r\n\u2502   \u2502   \u2514\u2500\u2500 tailwind.css\r\n\u2502   \u2502\r\n\u2502   \u2514\u2500\u2500 tests/                    # Unit & integration tests\r\n\u2502       \u251c\u2500\u2500 components/\r\n\u2502       \u2514\u2500\u2500 features/\r\n\u2502\r\n\u2502\u2500\u2500 .eslintrc.json                # ESLint config\r\n\u2502\u2500\u2500 .gitignore                    # Git ignore rules\r\n\u2502\u2500\u2500 next.config.js                # Next.js config\r\n\u2502\u2500\u2500 package.json                   # Dependencies & scripts\r\n\u2502\u2500\u2500 postcss.config.js             # PostCSS config (Tailwind, etc.)\r\n\u2502\u2500\u2500 tailwind.config.js            # Tailwind config\r\n\u2502\u2500\u2500 tsconfig.json                 # TypeScript config\n"})}),"\n",(0,t.jsx)(n.h3,{id:"routing",children:"Routing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Static route \u2192 ",(0,t.jsx)(n.code,{children:"pages/about.tsx"})," \u2192 ",(0,t.jsx)(n.code,{children:"/about"})]}),"\n",(0,t.jsxs)(n.li,{children:["Dynamic route \u2192 ",(0,t.jsx)(n.code,{children:"pages/blog/[id].tsx"})," \u2192 ",(0,t.jsx)(n.code,{children:"/blog/123"})]}),"\n",(0,t.jsxs)(n.li,{children:["Catch-all route \u2192 ",(0,t.jsx)(n.code,{children:"pages/docs/[...slug].tsx"})," \u2192 ",(0,t.jsx)(n.code,{children:"/docs/intro/getting-started"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-fetching",children:"Data Fetching"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["CSR via ",(0,t.jsx)(n.code,{children:"useEffect"})," \u2192 Client-Side Rendering","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Data fetching happens entirely in the browser."}),"\n",(0,t.jsx)(n.li,{children:"No pre-rendering; the page loads first, then fetches data via API."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getStaticProps"})," \u2192 Static Site Generation (SSG)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Runs at build time."}),"\n",(0,t.jsx)(n.li,{children:"Pre-renders HTML + JSON for each page."}),"\n",(0,t.jsx)(n.li,{children:"Best for content that doesn\u2019t change often."}),"\n",(0,t.jsxs)(n.li,{children:["Visiting ",(0,t.jsx)(n.code,{children:"/static"})," will always show the same pre-rendered content until the site is rebuilt."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getStaticPaths"})," (with ",(0,t.jsx)(n.code,{children:"getStaticProps"}),") \u2192 Dynamic SSG","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Used with dynamic routes (e.g., ",(0,t.jsx)(n.code,{children:"[id].tsx"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"Pre-renders a set of paths at build time."}),"\n",(0,t.jsxs)(n.li,{children:["Supports three fallback modes:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"false"})," \u2192 Only pre-rendered paths exist; others return 404."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"true"})," \u2192 Not-prebuilt paths generate on-demand with a loading state."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"blocking"'})," \u2192 Not-prebuilt paths generate on-demand server-side (no loading state)."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["ISR via ",(0,t.jsx)(n.code,{children:"revalidate"})," \u2192 Incremental Static Regeneration","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Hybrid between SSG and dynamic updates."}),"\n",(0,t.jsxs)(n.li,{children:["Runs ",(0,t.jsx)(n.code,{children:"getStaticProps"})," at build time (like SSG)."]}),"\n",(0,t.jsxs)(n.li,{children:["Adds a ",(0,t.jsx)(n.code,{children:"revalidate"})," property \u2192 defines how often the page should update."]}),"\n",(0,t.jsxs)(n.li,{children:["After ",(0,t.jsx)(n.code,{children:"N"})," seconds, the next request triggers regeneration in the background."]}),"\n",(0,t.jsx)(n.li,{children:"Users see the cached page until regeneration finishes, then future users get the fresh page."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getServerSideProps"})," \u2192 Server-Side Rendering (SSR)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Runs on every request (on Node.js server or Vercel Function)."}),"\n",(0,t.jsx)(n.li,{children:"Fetches fresh data each time before sending the HTML."}),"\n",(0,t.jsxs)(n.li,{children:["Visiting ",(0,t.jsx)(n.code,{children:"/server"})," always returns the latest data."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getInitialProps"})," (Legacy)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Runs on both server and client."}),"\n",(0,t.jsx)(n.li,{children:"Can cause larger JavaScript bundles and worse performance."}),"\n",(0,t.jsxs)(n.li,{children:["Mostly replaced by ",(0,t.jsx)(n.code,{children:"getStaticProps"})," and ",(0,t.jsx)(n.code,{children:"getServerSideProps"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Still useful in some libraries like NextAuth.js (for session handling)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Summary:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Method"}),(0,t.jsx)(n.th,{children:"When it Runs"}),(0,t.jsx)(n.th,{children:"Use Case"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"getStaticProps"})}),(0,t.jsx)(n.td,{children:"Build time"}),(0,t.jsx)(n.td,{children:"Static content (blogs, docs, marketing pages)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"getServerSideProps"})}),(0,t.jsx)(n.td,{children:"On every request"}),(0,t.jsx)(n.td,{children:"Always-fresh content (dashboards, stock prices)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"getStaticPaths"})}),(0,t.jsx)(n.td,{children:"Build time / On-demand"}),(0,t.jsx)(n.td,{children:"Dynamic routes (blog posts, products)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"getInitialProps"})}),(0,t.jsx)(n.td,{children:"Server + client"}),(0,t.jsx)(n.td,{children:"Legacy use, libraries compatibility"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["CSR (",(0,t.jsx)(n.code,{children:"useEffect"}),")"]}),(0,t.jsx)(n.td,{children:"Client only"}),(0,t.jsx)(n.td,{children:"User-specific or non-SEO critical content (chat, dashboards)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["ISR (",(0,t.jsx)(n.code,{children:"revalidate"}),")"]}),(0,t.jsx)(n.td,{children:"Build + background"}),(0,t.jsx)(n.td,{children:"Mix of static speed + fresh data (news, product prices, blogs)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"api-routes",children:"API Routes"}),"\n",(0,t.jsxs)(n.p,{children:["API routes in Next.js allow you to build serverless functions directly inside your app.\r\nThey live inside the ",(0,t.jsx)(n.code,{children:"pages/api/"})," directory, and each file automatically becomes an API endpoint."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"They run only on the server (never bundled into client-side JavaScript)."}),"\n",(0,t.jsxs)(n.li,{children:["Can handle ",(0,t.jsx)(n.code,{children:"GET"}),", ",(0,t.jsx)(n.code,{children:"POST"}),", ",(0,t.jsx)(n.code,{children:"PUT"}),", ",(0,t.jsx)(n.code,{children:"DELETE"})," requests."]}),"\n",(0,t.jsx)(n.li,{children:"Useful for handling forms, authentication, database queries, webhooks, etc."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// pages/api/users.ts\r\nexport default function handler(req, res) {\r\n  if (req.method === "GET") {\r\n    // Fetch users\r\n    res.status(200).json({ users: ["Alice", "Bob", "Charlie"] });\r\n  } else if (req.method === "POST") {\r\n    // Add a new user (example only)\r\n    const { name } = req.body;\r\n    res.status(201).json({ message: `User ${name} created!` });\r\n  } else {\r\n    res.setHeader("Allow", ["GET", "POST"]);\r\n    res.status(405).end(`Method ${req.method} Not Allowed`);\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,t.jsx)(n.p,{children:"In the Pages Router, unlike the App Router, everything is a Client Component by default:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pages and components are rendered in the browser after hydration."}),"\n",(0,t.jsx)(n.li,{children:"There is no concept of Server Components (that\u2019s exclusive to the App Router)."}),"\n",(0,t.jsxs)(n.li,{children:["However, you can still perform server-side logic using special data-fetching methods:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getStaticProps"})," \u2192 Static Site Generation (SSG)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getServerSideProps"})," \u2192 Server-Side Rendering (SSR)"]}),"\n",(0,t.jsxs)(n.li,{children:["API Routes \u2192 ",(0,t.jsx)(n.code,{children:"pages/api/*"})," for serverless functions"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"In the Pages Router, components always run in the client, but you can inject server-side logic through Next.js lifecycle functions."}),"\n",(0,t.jsx)(n.h3,{id:"rendering-modes",children:"Rendering Modes"}),"\n",(0,t.jsxs)(n.p,{children:["Next.js ",(0,t.jsx)(n.code,{children:"pages/"})," supports four rendering strategies:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Static Generation (SSG) \u2192 ",(0,t.jsx)(n.code,{children:"getStaticProps"})]}),"\n",(0,t.jsxs)(n.li,{children:["Server-Side Rendering (SSR) \u2192 ",(0,t.jsx)(n.code,{children:"getServerSideProps"})]}),"\n",(0,t.jsxs)(n.li,{children:["Client-Side Rendering (CSR) \u2192 Fetching data inside ",(0,t.jsx)(n.code,{children:"useEffect"})," in the browser"]}),"\n",(0,t.jsxs)(n.li,{children:["Incremental Static Regeneration (ISR) \u2192 ",(0,t.jsx)(n.code,{children:"getStaticProps"})," + ",(0,t.jsx)(n.code,{children:"revalidate"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"special-files",children:"Special Files"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Custom App Component (",(0,t.jsx)(n.code,{children:"_app.tsx"}),"):"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Wraps all pages in your application."}),"\n",(0,t.jsx)(n.li,{children:"Useful for global styles, providers (e.g., Redux, Context, Theme), and persistent layouts."}),"\n",(0,t.jsx)(n.li,{children:"Runs on both client and server."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// pages/_app.tsx\r\nimport "../styles/globals.css";\r\n\r\nexport default function MyApp({ Component, pageProps }) {\r\n  return <Component {...pageProps} />;\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Use cases:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Import global CSS."}),"\n",(0,t.jsx)(n.li,{children:"Add global state providers (Redux, Context API, React Query, etc.)."}),"\n",(0,t.jsx)(n.li,{children:"Implement layouts that persist across pages."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Custom HTML Structure (",(0,t.jsx)(n.code,{children:"_document.tsx"}),"):"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Used to modify the overall HTML document structure."}),"\n",(0,t.jsx)(n.li,{children:"Only rendered on the server (never on the client)."}),"\n",(0,t.jsxs)(n.li,{children:["Useful for ",(0,t.jsx)(n.code,{children:"<html>"}),", ",(0,t.jsx)(n.code,{children:"<body>"}),", meta tags, language attributes, and preload links."]}),"\n",(0,t.jsxs)(n.li,{children:["Unlike ",(0,t.jsx)(n.code,{children:"_app.js"}),", which handles the React tree, ",(0,t.jsx)(n.code,{children:"_document.js"})," controls the HTML & ",(0,t.jsx)(n.code,{children:"<head>"})," part of your app."]}),"\n",(0,t.jsx)(n.li,{children:"This file only runs on the server-side (never in the browser)."}),"\n",(0,t.jsxs)(n.li,{children:["It\u2019s useful for adding things like:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Custom ",(0,t.jsx)(n.code,{children:"lang"})," attribute on ",(0,t.jsx)(n.code,{children:"<html>"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Adding global meta tags."}),"\n",(0,t.jsx)(n.li,{children:"Adding external fonts, scripts, or analytics."}),"\n",(0,t.jsx)(n.li,{children:"Setting up custom document structure."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// pages/_document.tsx\r\nimport { Html, Head, Main, NextScript } from "next/document";\r\n\r\nexport default function Document() {\r\n  return (\r\n    <Html lang="en">\r\n      <Head>\r\n        <meta name="description" content="My Next.js App" />\r\n        <link rel="preconnect" href="https://fonts.googleapis.com" />\r\n      </Head>\r\n      <body>\r\n        <Main />\r\n        <NextScript />\r\n      </body>\r\n    </Html>\r\n  );\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Use cases:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Adding ",(0,t.jsx)(n.code,{children:"lang"})," attribute for accessibility/SEO."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Preloading fonts or external resources."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Adding global ",(0,t.jsx)(n.code,{children:"<meta>"})," tags."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Differences Between ",(0,t.jsx)(n.code,{children:"_app.js"})," and ",(0,t.jsx)(n.code,{children:"_document.js"})]})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsxs)(n.th,{children:[(0,t.jsx)(n.code,{children:"_app.js"})," (App Component)"]}),(0,t.jsxs)(n.th,{children:[(0,t.jsx)(n.code,{children:"_document.js"})," (Document)"]})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Runs on"}),(0,t.jsx)(n.td,{children:"Client & Server"}),(0,t.jsx)(n.td,{children:"Server only"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Controls"}),(0,t.jsx)(n.td,{children:"Page rendering & layout"}),(0,t.jsx)(n.td,{children:"HTML document structure"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Common use"}),(0,t.jsx)(n.td,{children:"Layouts, global styles, providers"}),(0,t.jsxs)(n.td,{children:["Meta tags, fonts, ",(0,t.jsx)(n.code,{children:"<html>"})," attributes"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Lifecycle"}),(0,t.jsx)(n.td,{children:"Per page navigation"}),(0,t.jsx)(n.td,{children:"Only on initial page load"})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Custom Error Page (for 404 & 500 errors) (",(0,t.jsx)(n.code,{children:"_error.ts"}),"):"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Replaces the default Next.js error screen."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// pages/_error.tsx\r\nexport default function ErrorPage({ statusCode }) {\r\n  return (\r\n    <div>\r\n      <h1>{statusCode ? `Error ${statusCode}` : "An error occurred"}</h1>\r\n      <p>Something went wrong. Please try again later.</p>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Use cases:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Show branded error pages."}),"\n",(0,t.jsx)(n.li,{children:"Handle server errors gracefully."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Custom Not Found Page (",(0,t.jsx)(n.code,{children:"404.js"}),"):"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Used specifically when a page or route does not exist."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// pages/404.tsx\r\nexport default function NotFoundPage() {\r\n  return (\r\n    <div>\r\n      <h1>404 - Page Not Found</h1>\r\n      <p>Sorry, the page you are looking for does not exist.</p>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Use cases:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Friendly 404 messages."}),"\n",(0,t.jsx)(n.li,{children:"Links back to the homepage or search."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"app-router",children:[(0,t.jsx)(n.code,{children:"app"})," Router"]}),"\n",(0,t.jsxs)(n.p,{children:["The App Router (",(0,t.jsx)(n.code,{children:"app/"})," directory) was introduced in Next.js 13 to provide:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"File-based routing (like Pages Router, but more powerful)."}),"\n",(0,t.jsx)(n.li,{children:"Server Components by default (improves performance)."}),"\n",(0,t.jsxs)(n.li,{children:["Flexible data fetching with ",(0,t.jsx)(n.code,{children:"async/await"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Layouts, templates, and parallel routes."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"folder-structure-1",children:"Folder Structure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Each folder inside ",(0,t.jsx)(n.code,{children:"app/"})," represents a route, and a ",(0,t.jsx)(n.code,{children:"page.js"})," (or ",(0,t.jsx)(n.code,{children:"page.tsx"}),") file inside it is rendered as the page."]}),"\n",(0,t.jsxs)(n.li,{children:["Supports Server Components by default (unlike ",(0,t.jsx)(n.code,{children:"pages/"})," which defaults to Client Components)."]}),"\n",(0,t.jsx)(n.li,{children:"Special files add layouts, error boundaries, loading states, etc."}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"File/Folder"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"page.tsx"})}),(0,t.jsxs)(n.td,{children:["Defines a route\u2019s ",(0,t.jsx)(n.strong,{children:"UI"})," (like old ",(0,t.jsx)(n.code,{children:"pages/"})," files)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"layout.tsx"})}),(0,t.jsxs)(n.td,{children:["Shared UI (e.g., navbar, sidebar) that ",(0,t.jsx)(n.strong,{children:"wraps children"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"template.tsx"})}),(0,t.jsxs)(n.td,{children:["Like ",(0,t.jsx)(n.code,{children:"layout"}),", but ",(0,t.jsx)(n.strong,{children:"recreates on navigation"})," (not cached)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"loading.tsx"})}),(0,t.jsx)(n.td,{children:"Displays a fallback UI while the route or data is loading."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"error.tsx"})}),(0,t.jsx)(n.td,{children:"Error boundary for a specific route segment."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"not-found.tsx"})}),(0,t.jsx)(n.td,{children:"Custom 404 for a specific segment."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"head.tsx"})}),(0,t.jsxs)(n.td,{children:["Define ",(0,t.jsx)(n.code,{children:"<head>"})," metadata (title, meta tags, etc.)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"route.ts"})}),(0,t.jsxs)(n.td,{children:["Define API routes (replaces ",(0,t.jsx)(n.code,{children:"pages/api"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(folder)"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Grouping"}),", does not affect URL."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"[...]"})," / ",(0,t.jsx)(n.code,{children:"[id]"})]}),(0,t.jsx)(n.td,{children:"Dynamic routes (same as Pages Router)."})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Structure:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"my-next-app/\r\n\u2502\u2500\u2500 .next/                        # Auto-generated build output\r\n\u2502\u2500\u2500 node_modules/                 # Dependencies\r\n\u2502\u2500\u2500 public/                       # Static assets (served from /)\r\n\u2502   \u251c\u2500\u2500 favicon.ico\r\n\u2502   \u251c\u2500\u2500 images/\r\n\u2502   \u2514\u2500\u2500 robots.txt\r\n\u2502\r\n\u2502\u2500\u2500 src/                          # Source code (recommended structure)\r\n\u2502   \u251c\u2500\u2500 app/                      # Next.js App Router (v13+)\r\n\u2502   \u2502   \u251c\u2500\u2500 layout.tsx            # Root layout (shared UI)\r\n\u2502   \u2502   \u251c\u2500\u2500 page.tsx              # Home page\r\n\u2502   \u2502   \u251c\u2500\u2500 about/                # Example route\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 page.tsx\r\n\u2502   \u2502   \u251c\u2500\u2500 dashboard/            # Nested routes\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 layout.tsx        # Dashboard layout\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 page.tsx\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 settings/\r\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 page.tsx\r\n\u2502   \u2502   \u2514\u2500\u2500 api/                  # API routes (server functions)\r\n\u2502   \u2502       \u2514\u2500\u2500 hello/route.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 components/               # Reusable UI components\r\n\u2502   \u2502   \u251c\u2500\u2500 ui/                   # Generic UI elements (buttons, cards, etc.)\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Button.tsx\r\n\u2502   \u2502   \u251c\u2500\u2500 layout/               # Layout-specific components\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Navbar.tsx\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Footer.tsx\r\n\u2502   \u2502   \u2514\u2500\u2500 shared/               # Reusable feature components\r\n\u2502   \u2502       \u2514\u2500\u2500 LoadingSpinner.tsx\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 features/                 # Feature-based modules\r\n\u2502   \u2502   \u251c\u2500\u2500 auth/\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 hooks/            # Auth-specific hooks\r\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 useAuth.ts\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 types.ts          # Auth-specific types\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 AuthProvider.tsx\r\n\u2502   \u2502   \u251c\u2500\u2500 products/\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ProductCard.tsx\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 utils.ts\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 types.ts\r\n\u2502   \u2502   \u2514\u2500\u2500 users/\r\n\u2502   \u2502       \u251c\u2500\u2500 UserCard.tsx\r\n\u2502   \u2502       \u2514\u2500\u2500 types.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 lib/                      # Helpers & utility functions\r\n\u2502   \u2502   \u251c\u2500\u2500 fetcher.ts\r\n\u2502   \u2502   \u2514\u2500\u2500 constants.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 hooks/                    # Global reusable hooks\r\n\u2502   \u2502   \u2514\u2500\u2500 useMediaQuery.ts\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 context/                  # Global React Contexts\r\n\u2502   \u2502   \u2514\u2500\u2500 ThemeContext.tsx\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 types/                    # Centralized global types/interfaces\r\n\u2502   \u2502   \u251c\u2500\u2500 api.ts                # API response/request types\r\n\u2502   \u2502   \u251c\u2500\u2500 user.ts               # Shared user types\r\n\u2502   \u2502   \u251c\u2500\u2500 product.ts            # Shared product types\r\n\u2502   \u2502   \u2514\u2500\u2500 index.d.ts            # Global ambient types (extends Window, etc.)\r\n\u2502   \u2502\r\n\u2502   \u251c\u2500\u2500 styles/                   # Styles\r\n\u2502   \u2502   \u251c\u2500\u2500 globals.css\r\n\u2502   \u2502   \u251c\u2500\u2500 variables.css\r\n\u2502   \u2502   \u2514\u2500\u2500 tailwind.css\r\n\u2502   \u2502\r\n\u2502   \u2514\u2500\u2500 tests/                    # Unit & integration tests\r\n\u2502       \u251c\u2500\u2500 components/\r\n\u2502       \u2514\u2500\u2500 features/\r\n\u2502\r\n\u2502\u2500\u2500 .eslintrc.json                # ESLint config\r\n\u2502\u2500\u2500 .gitignore                    # Git ignore rules\r\n\u2502\u2500\u2500 next.config.js                 # Next.js config\r\n\u2502\u2500\u2500 package.json                   # Dependencies & scripts\r\n\u2502\u2500\u2500 postcss.config.js              # PostCSS config (Tailwind, etc.)\r\n\u2502\u2500\u2500 tailwind.config.js             # Tailwind config\r\n\u2502\u2500\u2500 tsconfig.json                  # TypeScript config\n"})}),"\n",(0,t.jsx)(n.h3,{id:"routing-1",children:"Routing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Static route \u2192 ",(0,t.jsx)(n.code,{children:"app/about/page.tsx"})," \u2192 ",(0,t.jsx)(n.code,{children:"/about"})]}),"\n",(0,t.jsxs)(n.li,{children:["Dynamic route \u2192 ",(0,t.jsx)(n.code,{children:"app/blog/[id]/page.tsx"})," \u2192 ",(0,t.jsx)(n.code,{children:"/blog/123"})]}),"\n",(0,t.jsxs)(n.li,{children:["Catch-all route \u2192 ",(0,t.jsx)(n.code,{children:"app/docs/[...slug]/page.tsx"})," \u2192 ",(0,t.jsx)(n.code,{children:"/docs/intro/getting-started"})]}),"\n",(0,t.jsxs)(n.li,{children:["Route groups \u2192 ",(0,t.jsx)(n.code,{children:"app/(marketing)/about/page.tsx"})," \u2192 URL is /about but logically grouped."]}),"\n",(0,t.jsx)(n.li,{children:"Nested routes \u2192 Folders create nested segments"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-fetching-1",children:"Data Fetching"}),"\n",(0,t.jsxs)(n.p,{children:["In App Router, data fetching is built into Server Components (no need for ",(0,t.jsx)(n.code,{children:"getStaticProps"})," / ",(0,t.jsx)(n.code,{children:"getServerSideProps"}),")."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Supports streaming and Suspense for better performance."}),"\n",(0,t.jsxs)(n.li,{children:["Automatic caching and revalidation with ",(0,t.jsx)(n.code,{children:"fetch()"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Async Server Components (default)"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Just make your component ",(0,t.jsx)(n.code,{children:"async"})," and fetch data with ",(0,t.jsx)(n.code,{children:"await"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Runs on the server at request/build time."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// app/posts/page.tsx\r\nexport default async function PostsPage() {\r\n  const res = await fetch("https://jsonplaceholder.typicode.com/posts");\r\n  const posts = await res.json();\r\n\r\n  return (\r\n    <div>\r\n      <h1>Posts</h1>\r\n      <ul>\r\n        {posts.slice(0, 5).map((post: any) => (\r\n          <li key={post.id}>{post.title}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.code,{children:"fetch"})," caching strategies"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'fetch(..., { cache: "force-cache" })'})," \u2192 Default (SSG-like, cached at build)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'fetch(..., { cache: "no-store" })'})," \u2192 Always fresh (SSR-like)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"fetch(..., { next: { revalidate: 60 } })"})," \u2192 ISR (regenerates every 60s)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Client Components"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Mark with ",(0,t.jsx)(n.code,{children:'"use client"'}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"useEffect"}),", ",(0,t.jsx)(n.code,{children:"useState"}),", or client-only libraries."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'"use client";\r\nimport { useEffect, useState } from "react";\r\n\r\nexport default function ClientData() {\r\n  const [time, setTime] = useState("");\r\n\r\n  useEffect(() => {\r\n    setTime(new Date().toLocaleTimeString());\r\n  }, []);\r\n\r\n  return <p>Client time: {time}</p>;\r\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["API Routes with ",(0,t.jsx)(n.code,{children:"route.ts"})]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"pages/api"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Works like Express-style handlers."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// app/api/hello/route.ts\r\nexport async function GET() {\r\n  return Response.json({ message: "Hello from API" });\r\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"components-1",children:"Components"}),"\n",(0,t.jsx)(n.h4,{id:"server-components-default",children:"Server Components (default)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Run only on the server (never shipped to client)."}),"\n",(0,t.jsxs)(n.li,{children:["Can fetch data directly (use ",(0,t.jsx)(n.code,{children:"fetch"}),", DB queries)."]}),"\n",(0,t.jsx)(n.li,{children:"Great for performance \u2014 smaller JS bundle."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"client-components",children:"Client Components"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Marked with ",(0,t.jsx)(n.code,{children:'"use client"'}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Can use state, hooks, event handlers."}),"\n",(0,t.jsxs)(n.li,{children:["Cannot fetch data with ",(0,t.jsx)(n.code,{children:"await"})," at the top level (must use client-side fetching like ",(0,t.jsx)(n.code,{children:"useEffect"}),")."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"rendering",children:"Rendering"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Mode"}),(0,t.jsx)(n.th,{children:"Trigger"}),(0,t.jsx)(n.th,{children:"Example"}),(0,t.jsx)(n.th,{children:"Equivalent (Pages Router)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Static Rendering (SSG)"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'fetch(..., { cache: "force-cache" })'})}),(0,t.jsx)(n.td,{children:"Pre-rendered at build"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"getStaticProps"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Dynamic Rendering (SSR)"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'fetch(..., { cache: "no-store" })'})}),(0,t.jsx)(n.td,{children:"Fresh on every request"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"getServerSideProps"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"ISR (Revalidation)"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"fetch(..., { next: { revalidate: N } })"})}),(0,t.jsx)(n.td,{children:"Updates every N seconds"}),(0,t.jsxs)(n.td,{children:["ISR (",(0,t.jsx)(n.code,{children:"getStaticProps + revalidate"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"CSR"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:'"use client"'})," + ",(0,t.jsx)(n.code,{children:"useEffect"})," fetch"]}),(0,t.jsx)(n.td,{children:"Rendered on client only"}),(0,t.jsx)(n.td,{children:"CSR with hooks"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"catch-all-routes",children:"Catch-All Routes"}),"\n",(0,t.jsxs)(n.p,{children:["In Next.js, dynamic routes allow you to create pages that depend on parameters (like ",(0,t.jsx)(n.code,{children:"/blog/[id]"}),")."]}),"\n",(0,t.jsx)(n.p,{children:"A catch-all route goes one step further: it matches any number of path segments."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"app/blog/[...slug].ts\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Here, ",(0,t.jsx)(n.code,{children:"[...slug]"})," is a catch-all segment.\r\nIt means:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog/a"})," \u2192 ",(0,t.jsx)(n.code,{children:"slug = ['a']"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog/a/b"})," \u2192 ",(0,t.jsx)(n.code,{children:"slug = ['a', 'b']"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog/a/b/c"})," \u2192 ",(0,t.jsx)(n.code,{children:"slug = ['a', 'b', 'c']"}),'\r\nSo, it "catches all" nested paths under ',(0,t.jsx)(n.code,{children:"/blog/"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'import { useRouter } from "next/router";\r\n\r\nexport default function BlogPage() {\r\n  const router = useRouter();\r\n  const { slug } = router.query; // slug will be an array\r\n\r\n  return (\r\n    <div>\r\n      <h1>Catch-All Blog Route</h1>\r\n      <p>Slug: {JSON.stringify(slug)}</p>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"optional-catch-all-routes",children:"Optional Catch-All Routes"}),"\n",(0,t.jsx)(n.p,{children:"Sometimes, you want the route to also work without any slug."}),"\n",(0,t.jsx)(n.p,{children:"For that, you use double brackets:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"app / blog / [[...slug]].ts;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Difference:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog"})," \u2192 ",(0,t.jsx)(n.code,{children:"slug = undefined"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog/hello"})," \u2192 ",(0,t.jsx)(n.code,{children:'slug = ["hello"]'})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog/hello/world"})," \u2192 ",(0,t.jsx)(n.code,{children:'slug = ["hello", "world"]'})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"practical-use-cases",children:"Practical Use Cases"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Blog Posts with Categories/Tags","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/blog/technology/javascript/nextjs"})}),"\n",(0,t.jsx)(n.li,{children:"You can use slug to determine category hierarchy."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Docs/Knowledge Base","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/docs/getting-started/setup/windows"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:'slug = ["getting-started", "setup", "windows"]'})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Dynamic Navigation (like breadcrumbs)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You can use the array to generate breadcrumb navigation."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);