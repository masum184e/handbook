"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[1718],{5088(n,e,r){r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"iot/Components/Sonar Sensor","title":"Sonar Sensor","description":"Sonar sensors, like the HC-SR04, are used for distance measurement by emitting ultrasonic waves and measuring their echo.","source":"@site/docs/iot/6. Components/3. Sonar Sensor.md","sourceDirName":"iot/6. Components","slug":"/iot/Components/Sonar Sensor","permalink":"/handbook/docs/iot/Components/Sonar Sensor","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"iotSidebar","previous":{"title":"Breadboard","permalink":"/handbook/docs/iot/Components/Breadboard"},"next":{"title":"Infrared Sensor","permalink":"/handbook/docs/iot/Components/Infrared Sensor"}}');var i=r(4848),o=r(8453);const s={},l=void 0,a={},c=[{value:"Structure",id:"structure",level:3},{value:"Hardware Setup",id:"hardware-setup",level:3},{value:"Controlling",id:"controlling",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Applications",id:"applications",level:3}];function d(n){const e={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"Sonar sensors, like the HC-SR04, are used for distance measurement by emitting ultrasonic waves and measuring their echo."}),"\n",(0,i.jsx)(e.h3,{id:"structure",children:"Structure"}),"\n",(0,i.jsx)(e.p,{children:"The HC-SR04 sensor has four pins:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"VCC"}),": Power supply (5V)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"GND"}),": Ground."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"TRIG"}),": Trigger pin (to send ultrasonic signals)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"ECHO"}),": Echo pin (to receive the reflected signal)."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"hardware-setup",children:"Hardware Setup"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Connect VCC to the ESP32's VIN (5V)."}),"\n",(0,i.jsx)(e.li,{children:"Connect GND to the ESP32's GND."}),"\n",(0,i.jsx)(e.li,{children:"Connect the TRIG pin to a GPIO pin (e.g., GPIO5)."}),"\n",(0,i.jsx)(e.li,{children:"Connect the ECHO pin to another GPIO pin (e.g., GPIO18)."}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"controlling",children:"Controlling"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:'#define TRIG_PIN 5   // GPIO5 connected to TRIG\r\n#define ECHO_PIN 18  // GPIO18 connected to ECHO\r\n\r\nvoid setup() {\r\n    Serial.begin(115200);             // Start Serial communication\r\n    pinMode(TRIG_PIN, OUTPUT);        // Set TRIG as OUTPUT\r\n    pinMode(ECHO_PIN, INPUT);         // Set ECHO as INPUT\r\n}\r\n\r\nvoid loop() {\r\n    // Send a HIGH pulse for 10 \xb5s to the TRIG pin\r\n    digitalWrite(TRIG_PIN, LOW);\r\n    delayMicroseconds(2);\r\n    digitalWrite(TRIG_PIN, HIGH);\r\n    delayMicroseconds(10);\r\n    digitalWrite(TRIG_PIN, LOW);\r\n\r\n    // Measure the duration of the ECHO pin HIGH\r\n    long duration = pulseIn(ECHO_PIN, HIGH);\r\n\r\n    // Calculate the distance in cm (duration / 2) * 0.034\r\n    float distance = (duration / 2.0) * 0.034;\r\n\r\n    // Print the distance\r\n    Serial.print("Distance: ");\r\n    Serial.print(distance);\r\n    Serial.println(" cm");\r\n\r\n    delay(500); // Delay before the next measurement\r\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["The ESP32 sends a HIGH pulse (",(0,i.jsx)(e.code,{children:"10 \xb5s"}),") to the TRIG pin to emit ultrasonic waves."]}),"\n",(0,i.jsxs)(e.li,{children:["The sensor emits a sound wave at ",(0,i.jsx)(e.code,{children:"40 kHz"}),"."]}),"\n",(0,i.jsx)(e.li,{children:"The wave hits an object and reflects back."}),"\n",(0,i.jsx)(e.li,{children:"The sensor sets the ECHO pin HIGH for the time it takes the wave to return."}),"\n",(0,i.jsx)(e.li,{children:"The ESP32 calculates the distance based on the time the ECHO pin stays HIGH."}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"applications",children:"Applications"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Obstacle Detection"}),": Robots or vehicles can use sonar sensors to avoid collisions."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Level Monitoring"}),": Measure water or material levels in a container."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Automation"}),": Trigger actions (e.g., opening doors) based on proximity."]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453(n,e,r){r.d(e,{R:()=>s,x:()=>l});var t=r(6540);const i={},o=t.createContext(i);function s(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);