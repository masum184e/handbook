"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[41190],{28453(e,n,t){t.d(n,{R:()=>i,x:()=>d});var s=t(96540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},32416(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"reactjs/LifeCycle","title":"LifeCycle","description":"The lifecycle has three main phases:","source":"@site/docs/reactjs/6. LifeCycle.md","sourceDirName":"reactjs","slug":"/reactjs/LifeCycle","permalink":"/handbook/docs/reactjs/LifeCycle","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"reactjsApiSidebar","previous":{"title":"Default Props","permalink":"/handbook/docs/reactjs/Default Props"},"next":{"title":"Event_Handling","permalink":"/handbook/docs/reactjs/Event_Handling"}}');var o=t(74848),r=t(28453);const i={sidebar_position:8},d=void 0,c={},l=[{value:"Mounting Phase",id:"mounting-phase",level:2},{value:"<code>constructor()</code>",id:"constructor",level:3},{value:"<code>static getDerivedStateFromProps()</code>",id:"static-getderivedstatefromprops",level:3},{value:"<code>render()</code>",id:"render",level:3},{value:"<code>componentDidMount()</code>",id:"componentdidmount",level:3},{value:"Updating Phase",id:"updating-phase",level:2},{value:"<code>shouldComponentUpdate()</code>",id:"shouldcomponentupdate",level:3},{value:"<code>getSnapshotBeforeUpdate()</code>",id:"getsnapshotbeforeupdate",level:3},{value:"<code>componentDidUpdate()</code>",id:"componentdidupdate",level:3},{value:"Unmounting Phase",id:"unmounting-phase",level:2},{value:"<code>componentWillUnmount()</code>",id:"componentwillunmount",level:3},{value:"Lifecycle in Function Components (Hooks)",id:"lifecycle-in-function-components-hooks",level:2},{value:"Mounting",id:"mounting",level:3},{value:"Updating",id:"updating",level:3},{value:"Unmounting",id:"unmounting",level:3}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"The lifecycle has three main phases:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Mounting \u2013 Component is created and added to the DOM"}),"\n",(0,o.jsx)(n.li,{children:"Updating \u2013 Component updates due to state or props changes"}),"\n",(0,o.jsx)(n.li,{children:"Unmounting \u2013 Component is removed from the DOM"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Mounting: constructor, static getDerivedStateFromProps, render, componentDidMount"}),"\n",(0,o.jsx)(n.li,{children:"Updating: getDerivedStateFromProps, shouldComponentUpdate, render, getSnapshotBeforeUpdate, componentDidUpdate"}),"\n",(0,o.jsx)(n.li,{children:"Unmounting: componentWillUnmount"}),"\n",(0,o.jsx)(n.li,{children:"Error Handling: componentDidCatch"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"mounting-phase",children:"Mounting Phase"}),"\n",(0,o.jsx)(n.p,{children:"It refers to the process of rendering a component for the first time and adding it to the DOM"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Mounting Sequence::"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#constructor",children:"Constructor"})," - Initializes state and props"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#static-getderivedstatefromprops",children:"static getDerivedStateFromProps"})," - Update state based on initial props"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#render",children:"render"})," - create and insert virtual DOM"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#componentdidmount",children:"componentDidMount"})," - execute any side effects"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"constructor",children:(0,o.jsx)(n.code,{children:"constructor()"})}),"\n",(0,o.jsx)(n.p,{children:"The constructor method is the first method called when a component is created. It\u2019s used to set up the initial state of the component and bind event hanler. It is called before the component mount."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"class Counter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { count: 0 };\r\n  }\r\n}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"super(props)"})," allows access to ",(0,o.jsx)(n.code,{children:"this.props"})]}),"\n",(0,o.jsx)(n.li,{children:"State is initialized here"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"static-getderivedstatefromprops",children:(0,o.jsx)(n.code,{children:"static getDerivedStateFromProps()"})}),"\n",(0,o.jsxs)(n.p,{children:["It is used to ",(0,o.jsx)(n.code,{children:"update the state"})," before the component mount ",(0,o.jsx)(n.code,{children:"based on the props"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"When it runs: Before render, both on mount and update."}),"\n",(0,o.jsx)(n.p,{children:"Purpose: Sync state with props (rarely used)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"static getDerivedStateFromProps(props, state) {\r\n  if (props.reset) {\r\n    return { count: 0 };\r\n  }\r\n  return null;\r\n}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Must return an object to update state or ",(0,o.jsx)(n.code,{children:"null"})]}),"\n",(0,o.jsxs)(n.li,{children:["No access to ",(0,o.jsx)(n.code,{children:"this"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"render",children:(0,o.jsx)(n.code,{children:"render()"})}),"\n",(0,o.jsx)(n.p,{children:"This method is required in every React component. It returns the JSX that describes the component's UI. This method is pure, meaning it should not modify the state or interact with the DOM."}),"\n",(0,o.jsx)(n.p,{children:"When it runs: Every time the component needs to render."}),"\n",(0,o.jsx)(n.p,{children:"Purpose: Return JSX (UI)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"render() {\r\n  return (\r\n    <div>\r\n      <h1>{this.state.count}</h1>\r\n    </div>\r\n  );\r\n}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Must be pure"}),"\n",(0,o.jsx)(n.li,{children:"No state updates or side effects allowed"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"componentdidmount",children:(0,o.jsx)(n.code,{children:"componentDidMount()"})}),"\n",(0,o.jsx)(n.p,{children:"This method is called immediately after the component is inserted into the DOM. It\u2019s typically used for performing side effects like data fetching, setting up subscriptions, or manually modifying the DOM."}),"\n",(0,o.jsxs)(n.p,{children:["It is executed once in a lifecycle of a component which is just after the first ",(0,o.jsx)(n.code,{children:"render()"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"When it runs: After the component is rendered to the DOM."}),"\n",(0,o.jsx)(n.p,{children:"Purpose:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"API calls"}),"\n",(0,o.jsx)(n.li,{children:"DOM manipulation"}),"\n",(0,o.jsx)(n.li,{children:"Subscriptions"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'componentDidMount() {\r\n  console.log("Component mounted");\r\n}\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Safe place for side effects"}),"\n",(0,o.jsx)(n.li,{children:"Runs only once"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"updating-phase",children:"Updating Phase"}),"\n",(0,o.jsx)(n.h3,{id:"shouldcomponentupdate",children:(0,o.jsx)(n.code,{children:"shouldComponentUpdate()"})}),"\n",(0,o.jsx)(n.p,{children:"When it runs: Before re-rendering."}),"\n",(0,o.jsx)(n.p,{children:"Purpose: Performance optimization"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"shouldComponentUpdate(nextProps, nextState) {\r\n  return nextState.count !== this.state.count;\r\n}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Return ",(0,o.jsx)(n.code,{children:"true"})," to re-render"]}),"\n",(0,o.jsxs)(n.li,{children:["Return ",(0,o.jsx)(n.code,{children:"false"})," to skip render"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"getsnapshotbeforeupdate",children:(0,o.jsx)(n.code,{children:"getSnapshotBeforeUpdate()"})}),"\n",(0,o.jsx)(n.p,{children:"When it runs: Right before DOM updates."}),"\n",(0,o.jsx)(n.p,{children:"Purpose: Capture DOM information (e.g., scroll position)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"getSnapshotBeforeUpdate(prevProps, prevState) {\r\n  return window.scrollY;\r\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"componentdidupdate",children:(0,o.jsx)(n.code,{children:"componentDidUpdate()"})}),"\n",(0,o.jsx)(n.p,{children:"When it runs: After DOM updates."}),"\n",(0,o.jsx)(n.p,{children:"Purpose: React to state/props changes"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'componentDidUpdate(prevProps, prevState, snapshot) {\r\n  console.log("Previous scroll:", snapshot);\r\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Often paired with ",(0,o.jsx)(n.code,{children:"getSnapshotBeforeUpdate"})]}),"\n",(0,o.jsx)(n.h2,{id:"unmounting-phase",children:"Unmounting Phase"}),"\n",(0,o.jsx)(n.h3,{id:"componentwillunmount",children:(0,o.jsx)(n.code,{children:"componentWillUnmount()"})}),"\n",(0,o.jsx)(n.p,{children:"When it runs: Just before component is removed."}),"\n",(0,o.jsx)(n.p,{children:"Purpose: Cleanup"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'componentWillUnmount() {\r\n  console.log("Component removed");\r\n}\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Clear timers, cancel API calls, unsubscribe"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"lifecycle-in-function-components-hooks",children:"Lifecycle in Function Components (Hooks)"}),"\n",(0,o.jsx)(n.p,{children:"Hooks replace lifecycle methods."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"useEffect()"})," \u2014 All Lifecycle in One"]}),"\n",(0,o.jsx)(n.h3,{id:"mounting",children:"Mounting"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'useEffect(() => {\r\n  console.log("Component mounted");\r\n}, []);\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Empty dependency array \u2192 runs once"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"updating",children:"Updating"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'useEffect(() => {\r\n  console.log("Count updated");\r\n}, [count]);\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Runs when count changes"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"unmounting",children:"Unmounting"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'useEffect(() => {\r\n  return () => {\r\n    console.log("Component unmounted");\r\n  };\r\n}, []);\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Cleanup function runs on unmount"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);