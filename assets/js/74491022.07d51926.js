"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[28168],{28453(e,n,s){s.d(n,{R:()=>d,x:()=>l});var i=s(96540);const r={},t=i.createContext(r);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:n},e.children)}},69444(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"rest-api-design/API Versioning","title":"API Versioning","description":"REST API versioning is the practice of managing changes to a RESTful API by creating different versions of the API.","source":"@site/docs/rest-api-design/9. API Versioning.md","sourceDirName":"rest-api-design","slug":"/rest-api-design/API Versioning","permalink":"/handbook/docs/rest-api-design/API Versioning","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"title":"API Versioning","sidebar_position":11},"sidebar":"restApiSidebar","previous":{"title":"E-Tag","permalink":"/handbook/docs/rest-api-design/E-Tag"},"next":{"title":"Changes","permalink":"/handbook/docs/rest-api-design/Changes"}}');var r=s(74848),t=s(28453);const d={title:"API Versioning",sidebar_position:11},l=void 0,c={},o=[{value:"Why API Versioning Is Important",id:"why-api-versioning-is-important",level:2},{value:"Common API Versioning Strategies",id:"common-api-versioning-strategies",level:2},{value:"API Versioning Lifecycle",id:"api-versioning-lifecycle",level:2}];function a(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"REST API versioning is the practice of managing changes to a RESTful API by creating different versions of the API.\r\nIt helps maintain backward compatibility so existing clients continue to work even after updates or changes to the API."}),"\n",(0,r.jsx)(n.h2,{id:"why-api-versioning-is-important",children:"Why API Versioning Is Important"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Allows adding new features without breaking old clients."}),"\n",(0,r.jsx)(n.li,{children:"Supports gradual migration for consumers."}),"\n",(0,r.jsx)(n.li,{children:"Maintains predictable API behavior."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If you deploy changes to request formats, response structures, authentication, or behavior, versioning provides a controlled way to introduce those changes."}),"\n",(0,r.jsx)(n.h2,{id:"common-api-versioning-strategies",children:"Common API Versioning Strategies"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Versioning Method"}),(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Pros"}),(0,r.jsx)(n.th,{children:"Cons"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"URI Versioning"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/v1/users"})}),(0,r.jsx)(n.td,{children:"Simple, explicit in the URL"}),(0,r.jsx)(n.td,{children:"Can clutter URLs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Query Parameter Versioning"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/users?version=1"})}),(0,r.jsx)(n.td,{children:"Easy to add dynamically"}),(0,r.jsx)(n.td,{children:"Less visible, not RESTful"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Header Versioning"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Accept: application/vnd.myapi.v1+json"})}),(0,r.jsx)(n.td,{children:"Clean URLs, flexible"}),(0,r.jsx)(n.td,{children:"Harder for clients to implement"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Content Negotiation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Accept: application/json; version=1"})}),(0,r.jsx)(n.td,{children:"Flexible, aligns with HTTP standards"}),(0,r.jsx)(n.td,{children:"Less common, more complex"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Comparison"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.strong,{children:"URI Versioning"})," (",(0,r.jsx)(n.code,{children:"/v1/users"}),")"]}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.strong,{children:"Header Versioning"})," (",(0,r.jsx)(n.code,{children:"Accept: v2"}),")"]}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.strong,{children:"Query Param Versioning"})," (",(0,r.jsx)(n.code,{children:"?version=2"}),")"]})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Clarity"})}),(0,r.jsx)(n.td,{children:"\u2705 Very clear, explicit"}),(0,r.jsx)(n.td,{children:"\u274c Hidden in headers"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f Somewhat clear, but less prominent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"REST purity"})}),(0,r.jsx)(n.td,{children:"\u274c Less RESTful (URI should be stable)"}),(0,r.jsx)(n.td,{children:"\u2705 More RESTful (representation in headers)"}),(0,r.jsx)(n.td,{children:"\u274c Not ideal (query params aren\u2019t for versioning)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Caching/CDN"})}),(0,r.jsx)(n.td,{children:"\u2705 Excellent"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f Needs config"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f Sometimes problematic"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Ease of adoption"})}),(0,r.jsx)(n.td,{children:"\u2705 Easy for devs"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f Requires header setup"}),(0,r.jsx)(n.td,{children:"\u2705 Easy to use, but messy"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Migration"})}),(0,r.jsx)(n.td,{children:"\u274c Requires URL change"}),(0,r.jsx)(n.td,{children:"\u2705 Only header change"}),(0,r.jsx)(n.td,{children:"\u2705 Only param change"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Best for"})}),(0,r.jsx)(n.td,{children:"Public APIs (third-party devs)"}),(0,r.jsx)(n.td,{children:"Internal APIs (enterprise apps)"}),(0,r.jsx)(n.td,{children:"Experimental APIs, quick testing"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"api-versioning-lifecycle",children:"API Versioning Lifecycle"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["2023 \u2192 ",(0,r.jsx)(n.code,{children:"/v1"})," released"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'GET /v1/users/123 \u2192 { "id": 123, "name": "Alice" }\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["2025 \u2192 ",(0,r.jsx)(n.code,{children:"/v2"})," released with breaking changes"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'GET /v2/users/123 \u2192 { "id": 123, "fullName": "Alice Johnson", "email": "alice@example.com" }\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["2025 (Announcement) \u2192 Mark ",(0,r.jsx)(n.code,{children:"/v1"})," deprecated"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docs updated with deprecation notice."}),"\n",(0,r.jsxs)(n.li,{children:["Responses from ",(0,r.jsx)(n.code,{children:"/v1"})," include headers:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'Deprecation: true\r\nSunset: Tue, 31 Dec 2026 23:59:59 GMT\r\nLink: </v2/users/123>; rel="successor-version"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["2026 \u2192 ",(0,r.jsx)(n.code,{children:"/v1"})," fully retired."]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/v1/users/123"})," \u2192 returns ",(0,r.jsx)(n.code,{children:"410 Gone"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["All clients must use ",(0,r.jsx)(n.code,{children:"/v2"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);