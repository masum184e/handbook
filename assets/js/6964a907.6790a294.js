"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[59359],{28453(e,n,s){s.d(n,{R:()=>l,x:()=>d});var r=s(96540);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},35324(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"nodejs/Core Modules/Path","title":"Path","description":"The path module is a core Node.js module used to work with file and directory paths in a safe, cross-platform way.","source":"@site/docs/nodejs/5. Core Modules/2. Path.md","sourceDirName":"nodejs/5. Core Modules","slug":"/nodejs/Core Modules/Path","permalink":"/handbook/docs/nodejs/Core Modules/Path","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"nodejsApiSidebar","previous":{"title":"File System","permalink":"/handbook/docs/nodejs/Core Modules/File System"},"next":{"title":"HTTP","permalink":"/handbook/docs/nodejs/Core Modules/HTTP"}}');var t=s(74848),i=s(28453);const l={},d=void 0,a={},h=[{value:"Why <code>path</code> exists (very important)",id:"why-path-exists-very-important",level:2},{value:"Common Path Problems (Without <code>path</code>)",id:"common-path-problems-without-path",level:2},{value:"Bad practice:",id:"bad-practice",level:3},{value:"Correct",id:"correct",level:3},{value:"Key path Properties",id:"key-path-properties",level:2},{value:"<code>__dirname</code> and <code>__filename</code>",id:"__dirname-and-__filename",level:2},{value:"<code>path.join()</code> \u2013 Build Paths (MOST USED)",id:"pathjoin--build-paths-most-used",level:2},{value:"<code>path.resolve()</code> \u2013 Get Absolute Paths",id:"pathresolve--get-absolute-paths",level:2},{value:"<code>join</code> vs <code>resolve</code>",id:"join-vs-resolve",level:3},{value:"<code>path.basename()</code> \u2013 Get File Name",id:"pathbasename--get-file-name",level:2},{value:"<code>path.dirname()</code> \u2013 Get Directory Name",id:"pathdirname--get-directory-name",level:2},{value:"<code>path.extname()</code> \u2013 Get File Extension",id:"pathextname--get-file-extension",level:2},{value:"<code>path.parse()</code> \u2013 Break Path into Parts",id:"pathparse--break-path-into-parts",level:2},{value:"<code>path.format()</code> \u2013 Build Path from Object",id:"pathformat--build-path-from-object",level:2},{value:"<code>path.isAbsolute()</code> \u2013 Check Absolute Path",id:"pathisabsolute--check-absolute-path",level:2},{value:"<code>path.normalize()</code> \u2013 Clean Up Paths",id:"pathnormalize--clean-up-paths",level:2},{value:"Real-World Example (fs + path together)",id:"real-world-example-fs--path-together",level:2},{value:"Path in Web Servers (Security Tip)",id:"path-in-web-servers-security-tip",level:2},{value:"Summary Cheat Sheet",id:"summary-cheat-sheet",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"path"})," module is a core Node.js module used to work with file and directory paths in a safe, cross-platform way."]}),"\n",(0,t.jsxs)(n.h2,{id:"why-path-exists-very-important",children:["Why ",(0,t.jsx)(n.code,{children:"path"})," exists (very important)"]}),"\n",(0,t.jsx)(n.p,{children:"Different operating systems use different path formats:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"OS"}),(0,t.jsx)(n.th,{children:"Example Path"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Windows"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"C:\\Users\\John\\file.txt"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Linux / macOS"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/home/john/file.txt"})})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["If you hardcode paths using ",(0,t.jsx)(n.code,{children:"/"})," or ",(0,t.jsx)(n.code,{children:"\\"}),", your code will break on other systems."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"path"})," solves this by generating correct paths automatically."]}),"\n",(0,t.jsxs)(n.h2,{id:"common-path-problems-without-path",children:["Common Path Problems (Without ",(0,t.jsx)(n.code,{children:"path"}),")"]}),"\n",(0,t.jsx)(n.h3,{id:"bad-practice",children:"Bad practice:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const filePath = __dirname + "/files/data.txt";\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Breaks on Windows"}),"\n",(0,t.jsx)(n.li,{children:"Can cause double slashes or missing separators"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"correct",children:"Correct"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'const filePath = path.join(__dirname, "files", "data.txt");\n'})}),"\n",(0,t.jsx)(n.h2,{id:"key-path-properties",children:"Key path Properties"}),"\n",(0,t.jsxs)(n.h2,{id:"__dirname-and-__filename",children:[(0,t.jsx)(n.code,{children:"__dirname"})," and ",(0,t.jsx)(n.code,{children:"__filename"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"console.log(__dirname);   // Directory of current file\r\nconsole.log(__filename);  // Full file path\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"/Users/app/projects/demo\r\n/Users/app/projects/demo/index.js\n"})}),"\n",(0,t.jsx)(n.p,{children:"These are not from path, but are commonly used with it."}),"\n",(0,t.jsxs)(n.h2,{id:"pathjoin--build-paths-most-used",children:[(0,t.jsx)(n.code,{children:"path.join()"})," \u2013 Build Paths (MOST USED)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'const path = require("path");\r\n\r\nconst filePath = path.join("folder", "subfolder", "file.txt");\r\n\r\nconsole.log(filePath);\n'})}),"\n",(0,t.jsx)(n.p,{children:"Output"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Windows \u2192 ",(0,t.jsx)(n.code,{children:"folder\\subfolder\\file.txt"})]}),"\n",(0,t.jsxs)(n.li,{children:["macOS/Linux \u2192 ",(0,t.jsx)(n.code,{children:"folder/subfolder/file.txt"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Why it\u2019s great"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Automatically inserts correct separators"}),"\n",(0,t.jsx)(n.li,{children:"Cleans up extra slashes"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.join("folder//", "file.txt");\r\n// folder/file.txt\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"pathresolve--get-absolute-paths",children:[(0,t.jsx)(n.code,{children:"path.resolve()"})," \u2013 Get Absolute Paths"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'const absolutePath = path.resolve("files", "data.txt");\r\nconsole.log(absolutePath);\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Resolves path from current working directory"}),"\n",(0,t.jsx)(n.li,{children:"Returns an absolute path"}),"\n",(0,t.jsxs)(n.li,{children:["Handles ",(0,t.jsx)(n.code,{children:".."})," and ",(0,t.jsx)(n.code,{children:"."})," automatically"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.resolve("a", "..", "b");\r\n// /current/working/dir/b\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"join-vs-resolve",children:[(0,t.jsx)(n.code,{children:"join"})," vs ",(0,t.jsx)(n.code,{children:"resolve"})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"join"}),(0,t.jsx)(n.th,{children:"resolve"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Joins segments"}),(0,t.jsx)(n.td,{children:"Resolves absolute path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Can return relative"}),(0,t.jsx)(n.td,{children:"Always absolute"})]})]})]}),"\n",(0,t.jsxs)(n.h2,{id:"pathbasename--get-file-name",children:[(0,t.jsx)(n.code,{children:"path.basename()"})," \u2013 Get File Name"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.basename("/users/app/file.txt");\r\n// file.txt\n'})}),"\n",(0,t.jsx)(n.p,{children:"Remove extension:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.basename("/users/app/file.txt", ".txt");\r\n// file\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"pathdirname--get-directory-name",children:[(0,t.jsx)(n.code,{children:"path.dirname()"})," \u2013 Get Directory Name"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.dirname("/users/app/file.txt");\r\n// /users/app\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"pathextname--get-file-extension",children:[(0,t.jsx)(n.code,{children:"path.extname()"})," \u2013 Get File Extension"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.extname("image.png");\r\n// .png\n'})}),"\n",(0,t.jsx)(n.p,{children:"If no extension:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.extname("README");\r\n// ""\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"pathparse--break-path-into-parts",children:[(0,t.jsx)(n.code,{children:"path.parse()"})," \u2013 Break Path into Parts"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'const parsed = path.parse("/users/app/file.txt");\r\n\r\nconsole.log(parsed);\n'})}),"\n",(0,t.jsx)(n.p,{children:"Output"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"{\r\n  root: '/',\r\n  dir: '/users/app',\r\n  base: 'file.txt',\r\n  ext: '.txt',\r\n  name: 'file'\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Useful when"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Renaming files"}),"\n",(0,t.jsx)(n.li,{children:"Changing extensions"}),"\n",(0,t.jsx)(n.li,{children:"File uploads"}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"pathformat--build-path-from-object",children:[(0,t.jsx)(n.code,{children:"path.format()"})," \u2013 Build Path from Object"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.format({\r\n  dir: "/users/app",\r\n  name: "file",\r\n  ext: ".txt"\r\n});\n'})}),"\n",(0,t.jsx)(n.p,{children:"Output"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"/users/app/file.txt\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"pathisabsolute--check-absolute-path",children:[(0,t.jsx)(n.code,{children:"path.isAbsolute()"})," \u2013 Check Absolute Path"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.isAbsolute("/users/app");\r\n// true\r\n\r\npath.isAbsolute("app/file.txt");\r\n// false\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"pathnormalize--clean-up-paths",children:[(0,t.jsx)(n.code,{children:"path.normalize()"})," \u2013 Clean Up Paths"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.normalize("/users//app///file.txt");\r\n// /users/app/file.txt\n'})}),"\n",(0,t.jsx)(n.p,{children:"Handles weird paths:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'path.normalize("a/b/../c");\r\n// a/c\n'})}),"\n",(0,t.jsx)(n.h2,{id:"real-world-example-fs--path-together",children:"Real-World Example (fs + path together)"}),"\n",(0,t.jsx)(n.p,{children:"Reading a file safely"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'const fs = require("fs/promises");\r\nconst path = require("path");\r\n\r\nasync function readData() {\r\n  const filePath = path.join(__dirname, "data", "info.txt");\r\n  const data = await fs.readFile(filePath, "utf8");\r\n  console.log(data);\r\n}\r\n\r\nreadData();\n'})}),"\n",(0,t.jsx)(n.p,{children:"Why this is best practice"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Works on all OS"}),"\n",(0,t.jsx)(n.li,{children:"Clean & readable"}),"\n",(0,t.jsx)(n.li,{children:"Prevents path bugs"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"path-in-web-servers-security-tip",children:"Path in Web Servers (Security Tip)"}),"\n",(0,t.jsx)(n.p,{children:"Avoid this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"fs.readFile(req.url);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Instead:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'const safePath = path.join(__dirname, "public", req.url);\n'})}),"\n",(0,t.jsx)(n.p,{children:"This prevents directory traversal attacks."}),"\n",(0,t.jsx)(n.h2,{id:"summary-cheat-sheet",children:"Summary Cheat Sheet"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Method"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.join()"})}),(0,t.jsx)(n.td,{children:"Join path segments"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.resolve()"})}),(0,t.jsx)(n.td,{children:"Get absolute path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.basename()"})}),(0,t.jsx)(n.td,{children:"File name"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.dirname()"})}),(0,t.jsx)(n.td,{children:"Folder name"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.extname()"})}),(0,t.jsx)(n.td,{children:"File extension"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.parse()"})}),(0,t.jsx)(n.td,{children:"Path \u2192 object"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.format()"})}),(0,t.jsx)(n.td,{children:"Object \u2192 path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.normalize()"})}),(0,t.jsx)(n.td,{children:"Clean path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path.isAbsolute()"})}),(0,t.jsx)(n.td,{children:"Check absolute"})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);