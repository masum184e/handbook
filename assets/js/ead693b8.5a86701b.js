"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[2401],{28453(e,n,s){s.d(n,{R:()=>l,x:()=>c});var r=s(96540);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},77880(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"typescript/Practical Topics","title":"Practical Topics","description":"Type Assertions vs Type Casting","source":"@site/docs/typescript/10. Practical Topics.md","sourceDirName":"typescript","slug":"/typescript/Practical Topics","permalink":"/handbook/docs/typescript/Practical Topics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{},"sidebar":"typescriptSidebar","previous":{"title":"Advance Features","permalink":"/handbook/docs/typescript/Advance Features"}}');var t=s(74848),i=s(28453);const l={},c=void 0,a={},o=[{value:"Type Assertions vs Type Casting",id:"type-assertions-vs-type-casting",level:2},{value:"Type Assertions in TypeScript",id:"type-assertions-in-typescript",level:3},{value:"Type Casting",id:"type-casting",level:3},{value:"Differences between Type Casting and Type Assertion",id:"differences-between-type-casting-and-type-assertion",level:3},{value:"Non-null Assertion Operator <code>!</code>",id:"non-null-assertion-operator-",level:2},{value:"Why Do We Need It?",id:"why-do-we-need-it",level:3},{value:"Strict Mode (<code>strictNullChecks</code>, etc.)",id:"strict-mode-strictnullchecks-etc",level:2},{value:"<code>strictNullChecks</code>",id:"strictnullchecks",level:3},{value:"<code>strictPropertyInitialization</code>",id:"strictpropertyinitialization",level:3},{value:"<code>noImplicitAny</code>",id:"noimplicitany",level:3},{value:"<code>strictFunctionTypes</code>",id:"strictfunctiontypes",level:3},{value:"<code>strictBindCallApply</code>",id:"strictbindcallapply",level:3},{value:"<code>alwaysStrict</code>",id:"alwaysstrict",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"type-assertions-vs-type-casting",children:"Type Assertions vs Type Casting"}),"\n",(0,t.jsx)(n.h3,{id:"type-assertions-in-typescript",children:"Type Assertions in TypeScript"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A type assertion tells the TypeScript compiler: \u201cI know more about this value\u2019s type than you do.\u201d"}),"\n",(0,t.jsx)(n.li,{children:"It doesn\u2019t change the actual runtime value \u2014 it\u2019s only a compile-time hint."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"There are two ways to write type assertions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'// Angle-bracket syntax\r\nlet value: unknown = "hello";\r\nlet strLength = (<string>value).length;\r\n\r\n// `as` syntax (preferred in modern TS)\r\nlet strLength2 = (value as string).length;\n'})}),"\n",(0,t.jsx)(n.p,{children:"Both mean: \u201cTreat value as a string.\u201d"}),"\n",(0,t.jsx)(n.p,{children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'type Person = {\r\n  name: string;\r\n  age: number;\r\n};\r\n\r\nconst person = {} as Person;\r\nperson.name = "Alice";\r\nperson.age = 25;\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The empty object ",(0,t.jsx)(n.code,{children:"{}"})," doesn\u2019t match ",(0,t.jsx)(n.code,{children:"Person"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["But ",(0,t.jsx)(n.code,{children:"as Person"})," tells TypeScript: \u201ctrust me, this is a ",(0,t.jsx)(n.code,{children:"Person"}),".\u201d"]}),"\n",(0,t.jsx)(n.li,{children:"Dangerous if misused:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const person = {} as Person;\r\nconsole.log(person.age.toFixed()); // Runtime error (age is undefined)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Type assertions don\u2019t do runtime checks. They only silence the compiler."}),"\n",(0,t.jsx)(n.h3,{id:"type-casting",children:"Type Casting"}),"\n",(0,t.jsx)(n.p,{children:"In JavaScript, type casting usually means converting values from one type to another at runtime, e.g.:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'let num = Number("123"); // string \u2192 number\r\nlet str = String(123); // number \u2192 string\r\nlet bool = Boolean(1); // number \u2192 boolean\n'})}),"\n",(0,t.jsx)(n.p,{children:"This is runtime conversion, not just a compile-time hint."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const str = "123";\r\nconst num: number = Number(str); // runtime conversion\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"123"'})," is actually converted into ",(0,t.jsx)(n.code,{children:"123"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["If you pass ",(0,t.jsx)(n.code,{children:'"abc"'}),", ",(0,t.jsx)(n.code,{children:'Number("abc")'})," \u2192 ",(0,t.jsx)(n.code,{children:"NaN"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"differences-between-type-casting-and-type-assertion",children:"Differences between Type Casting and Type Assertion"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsxs)(n.th,{children:["Type Assertion (",(0,t.jsx)(n.code,{children:"as"}),", ",(0,t.jsx)(n.code,{children:"<T>"}),")"]}),(0,t.jsx)(n.th,{children:"Type Casting (runtime conversion)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"When it happens"})}),(0,t.jsx)(n.td,{children:"Compile-time only"}),(0,t.jsx)(n.td,{children:"Runtime (JS execution)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Effect"})}),(0,t.jsx)(n.td,{children:"Just changes how TS checks types"}),(0,t.jsx)(n.td,{children:"Actually changes the data value"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Safety"})}),(0,t.jsx)(n.td,{children:"Can be unsafe if misused"}),(0,t.jsxs)(n.td,{children:["Safe but may fail (e.g., ",(0,t.jsx)(n.code,{children:'Number("abc") \u2192 NaN'}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Example"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(value as string).length"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'Number("123") \u2192 123'})})]})]})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use type assertions sparingly, only when you\u2019re sure about the type."}),"\n",(0,t.jsx)(n.li,{children:"Use type casting (conversion functions) when you really need to change the data type."}),"\n",(0,t.jsxs)(n.li,{children:["Avoid overusing assertions like ",(0,t.jsx)(n.code,{children:"as any"})," \u2192 defeats the purpose of TypeScript."]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"non-null-assertion-operator-",children:["Non-null Assertion Operator ",(0,t.jsx)(n.code,{children:"!"})]}),"\n",(0,t.jsxs)(n.p,{children:["The non-null assertion operator (",(0,t.jsx)(n.code,{children:"!"}),") tells TypeScript:"]}),"\n",(0,t.jsxs)(n.p,{children:["\u201cI\u2019m sure this value is not ",(0,t.jsx)(n.code,{children:"null"})," or ",(0,t.jsx)(n.code,{children:"undefined"}),", trust me.\u201d"]}),"\n",(0,t.jsx)(n.p,{children:"It doesn\u2019t do anything at runtime \u2014 it\u2019s only a compile-time hint to the TypeScript type checker."}),"\n",(0,t.jsx)(n.h3,{id:"why-do-we-need-it",children:"Why Do We Need It?"}),"\n",(0,t.jsxs)(n.p,{children:["TypeScript has strict null checks (",(0,t.jsx)(n.code,{children:"strictNullChecks: true"})," in ",(0,t.jsx)(n.code,{children:"tsconfig.json"}),"), meaning:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"let value: string | null = null;\r\n\r\n// Error \u274c: value might be null\r\nconsole.log(value.length);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The compiler complains because ",(0,t.jsx)(n.code,{children:"value"})," could be ",(0,t.jsx)(n.code,{children:"null"}),".\r\nBut sometimes, you know for sure that it won\u2019t be null at runtime. That\u2019s when you use ",(0,t.jsx)(n.code,{children:"!"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'let value: string | null = "Hello";\r\n\r\n// Tell TypeScript: value is definitely not null\r\nconsole.log(value!.length); // \u2705 OK\r\nHere:\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Without ",(0,t.jsx)(n.code,{children:"!"}),", TS warns that ",(0,t.jsx)(n.code,{children:"value"})," might be ",(0,t.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["With ",(0,t.jsx)(n.code,{children:"!"}),", TS trusts you."]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"strict-mode-strictnullchecks-etc",children:["Strict Mode (",(0,t.jsx)(n.code,{children:"strictNullChecks"}),", etc.)"]}),"\n",(0,t.jsx)(n.p,{children:"Strict mode is a set of compiler options that make TypeScript more type-safe and strict."}),"\n",(0,t.jsxs)(n.p,{children:["You enable it in your ",(0,t.jsx)(n.code,{children:"tsconfig.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'{\r\n  "compilerOptions": {\r\n    "strict": true\r\n  }\r\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"strict: true"})," is shorthand for turning on all strict type-checking options."]}),"\n",(0,t.jsx)(n.h3,{id:"strictnullchecks",children:(0,t.jsx)(n.code,{children:"strictNullChecks"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"null"})," and ",(0,t.jsx)(n.code,{children:"undefined"})," are not assignable to other types unless explicitly allowed."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'let name: string = "Alice";\r\nname = null; // \u274c Error\r\nname = undefined; // \u274c Error\n'})}),"\n",(0,t.jsx)(n.p,{children:"To allow null/undefined, you must declare them explicitly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"let name: string | null = null; // \u2705\n"})}),"\n",(0,t.jsx)(n.p,{children:"This avoids runtime errors like: Cannot read property 'length' of null."}),"\n",(0,t.jsx)(n.h3,{id:"strictpropertyinitialization",children:(0,t.jsx)(n.code,{children:"strictPropertyInitialization"})}),"\n",(0,t.jsx)(n.p,{children:"Ensures class properties are initialized before use."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"class Person {\r\n  name: string; // \u274c Error: Property 'name' has no initializer\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Fix 1: Initialize directly"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'class Person {\r\n  name: string = "Default";\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Fix 2: Initialize in constructor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"class Person {\r\n  name: string;\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Fix 3: Use definite assignment assertion (!)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'class Person {\r\n  name!: string; // tells TS: "I will assign this before use"\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"noimplicitany",children:(0,t.jsx)(n.code,{children:"noImplicitAny"})}),"\n",(0,t.jsx)(n.p,{children:"Disallows variables/functions from having an implicit any type."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"function greet(message) {\r\n  // \u274c Error: message implicitly has type 'any'\r\n  console.log(message);\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Fix: Add explicit type"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"function greet(message: string) {\r\n  console.log(message);\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"This prevents TypeScript from silently defaulting to any."}),"\n",(0,t.jsx)(n.h3,{id:"strictfunctiontypes",children:(0,t.jsx)(n.code,{children:"strictFunctionTypes"})}),"\n",(0,t.jsx)(n.p,{children:"Makes function parameter types checked more strictly, ensuring safe assignments."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type Fn = (x: number) => void;\r\n\r\nlet f1: Fn;\r\nlet f2 = (x: number | string) => {};\r\n\r\nf1 = f2; // \u274c Error in strict mode\n"})}),"\n",(0,t.jsx)(n.p,{children:"Prevents unsafe function assignments."}),"\n",(0,t.jsx)(n.h3,{id:"strictbindcallapply",children:(0,t.jsx)(n.code,{children:"strictBindCallApply"})}),"\n",(0,t.jsxs)(n.p,{children:["Ensures the methods ",(0,t.jsx)(n.code,{children:".bind"}),", ",(0,t.jsx)(n.code,{children:".call"}),", and ",(0,t.jsx)(n.code,{children:".apply"})," are type-safe."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'function greet(name: string) {\r\n  return `Hello ${name}`;\r\n}\r\n\r\ngreet.call(null, "Alice"); // \u2705\r\ngreet.call(null, 123); // \u274c Error\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Without this, ",(0,t.jsx)(n.code,{children:".call"})," could accept wrong arguments silently."]}),"\n",(0,t.jsx)(n.h3,{id:"alwaysstrict",children:(0,t.jsx)(n.code,{children:"alwaysStrict"})}),"\n",(0,t.jsxs)(n.p,{children:["Ensures that every file is parsed in ECMAScript strict mode (",(0,t.jsx)(n.code,{children:'"use strict";'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'// with alwaysStrict: true\r\n"use strict"; // enforced automatically\n'})}),"\n",(0,t.jsx)(n.p,{children:"This matches modern JavaScript behavior and avoids subtle bugs."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);