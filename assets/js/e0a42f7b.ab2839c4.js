"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[97624],{28453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var r=i(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}},30400(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"nodejs/Architecture","title":"Architecture","description":"Node.js is a runtime environment that allows you to run JavaScript outside the browser, mainly on the server.","source":"@site/docs/nodejs/1. Architecture.md","sourceDirName":"nodejs","slug":"/nodejs/Architecture","permalink":"/handbook/docs/nodejs/Architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"nodejsApiSidebar","previous":{"title":"Node JS","permalink":"/handbook/docs/category/node-js"},"next":{"title":"Installation","permalink":"/handbook/docs/nodejs/Installation"}}');var s=i(74848),t=i(28453);const l={},o=void 0,c={},d=[{value:"Key Characteristics of Node.js",id:"key-characteristics-of-nodejs",level:2},{value:"What is Event-Driven Architecture?",id:"what-is-event-driven-architecture",level:2},{value:"What is an Event?",id:"what-is-an-event",level:3},{value:"Traditional (Blocking) vs Node.js (Non-Blocking)",id:"traditional-blocking-vs-nodejs-non-blocking",level:2},{value:"Traditional Blocking Model",id:"traditional-blocking-model",level:3},{value:"Node.js Non-Blocking Model",id:"nodejs-non-blocking-model",level:3},{value:"Core Components of Node.js Event-Driven Architecture",id:"core-components-of-nodejs-event-driven-architecture",level:2},{value:"Event Loop",id:"event-loop",level:3},{value:"Callback Queue",id:"callback-queue",level:3},{value:"Events &amp; Callbacks",id:"events--callbacks",level:3},{value:"How the Event Loop Works (Step-by-Step)",id:"how-the-event-loop-works-step-by-step",level:2},{value:"Simple Event-Driven Example (Basic)",id:"simple-event-driven-example-basic",level:2},{value:"Real Event-Driven Example: HTTP Server",id:"real-event-driven-example-http-server",level:2},{value:"EventEmitter: Core of Event-Driven Design",id:"eventemitter-core-of-event-driven-design",level:2},{value:"Why Event-Driven Architecture is Powerful",id:"why-event-driven-architecture-is-powerful",level:2}];function a(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Node.js is a runtime environment that allows you to run JavaScript outside the browser, mainly on the server."}),"\n",(0,s.jsx)(n.p,{children:"Before Node.js"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JavaScript was mostly used only in browsers"}),"\n",(0,s.jsx)(n.li,{children:"Servers were written in languages like Java, PHP, Python, or C#"}),"\n",(0,s.jsx)(n.li,{children:"JS handled UI interactions, not backend logic"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"After Node.js"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JavaScript can run on the server"}),"\n",(0,s.jsx)(n.li,{children:"You can build: Web servers, APIs, Real-time apps (chat, streaming), Command-line tools"}),"\n",(0,s.jsx)(n.li,{children:"Same language for frontend + backend (JavaScript)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Node.js is built on Google\u2019s V8 JavaScript engine, which makes it very fast."}),"\n",(0,s.jsx)(n.h2,{id:"key-characteristics-of-nodejs",children:"Key Characteristics of Node.js"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Single-threaded"}),"\n",(0,s.jsx)(n.li,{children:"Asynchronous"}),"\n",(0,s.jsx)(n.li,{children:"Event-driven"}),"\n",(0,s.jsx)(n.li,{children:"Non-blocking I/O"}),"\n",(0,s.jsx)(n.li,{children:"Highly scalable"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The most important concept here is event-driven architecture, so let\u2019s dive deep into that."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-event-driven-architecture",children:"What is Event-Driven Architecture?"}),"\n",(0,s.jsx)(n.p,{children:"In an event-driven system, the program waits for events and responds to them when they occur, instead of executing tasks one by one and waiting for each to finish."}),"\n",(0,s.jsx)(n.h3,{id:"what-is-an-event",children:"What is an Event?"}),"\n",(0,s.jsx)(n.p,{children:"An event is an action or occurrence, such as:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A user sends a request"}),"\n",(0,s.jsx)(n.li,{children:"A file finishes reading"}),"\n",(0,s.jsx)(n.li,{children:"A database query completes"}),"\n",(0,s.jsx)(n.li,{children:"A timer expires"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"traditional-blocking-vs-nodejs-non-blocking",children:"Traditional (Blocking) vs Node.js (Non-Blocking)"}),"\n",(0,s.jsx)(n.h3,{id:"traditional-blocking-model",children:"Traditional Blocking Model"}),"\n",(0,s.jsx)(n.p,{children:"Imagine a restaurant with one waiter:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Customer A orders food"}),"\n",(0,s.jsx)(n.li,{children:"Waiter waits in the kitchen until food is ready"}),"\n",(0,s.jsx)(n.li,{children:"Customer B must wait"}),"\n",(0,s.jsx)(n.li,{children:"Slow and inefficient"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"nodejs-non-blocking-model",children:"Node.js Non-Blocking Model"}),"\n",(0,s.jsx)(n.p,{children:"Still one waiter, but smarter:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Customer A orders food"}),"\n",(0,s.jsx)(n.li,{children:"Waiter sends order to kitchen and doesn\u2019t wait"}),"\n",(0,s.jsx)(n.li,{children:"Takes order from Customer B"}),"\n",(0,s.jsx)(n.li,{children:"When food is ready, kitchen notifies the waiter"}),"\n",(0,s.jsx)(n.li,{children:"Efficient and fast"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This is event-driven architecture in action."}),"\n",(0,s.jsx)(n.h2,{id:"core-components-of-nodejs-event-driven-architecture",children:"Core Components of Node.js Event-Driven Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"event-loop",children:"Event Loop"}),"\n",(0,s.jsx)(n.p,{children:"The event loop is the heart of Node.js."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Continuously checks for completed tasks"}),"\n",(0,s.jsx)(n.li,{children:"Executes their callback functions"}),"\n",(0,s.jsx)(n.li,{children:"Keeps the application running"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"callback-queue",children:"Callback Queue"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Stores functions waiting to be executed"}),"\n",(0,s.jsx)(n.li,{children:"Example: \u201cFile read finished \u2192 run this function\u201d"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"events--callbacks",children:"Events & Callbacks"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"An event happens (file read completed)"}),"\n",(0,s.jsx)(n.li,{children:"A callback function is executed in response"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"how-the-event-loop-works-step-by-step",children:"How the Event Loop Works (Step-by-Step)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Client sends a request"}),"\n",(0,s.jsx)(n.li,{children:"Node.js receives it"}),"\n",(0,s.jsx)(n.li,{children:"Long tasks (file I/O, DB calls) are delegated to the system"}),"\n",(0,s.jsx)(n.li,{children:"Node.js continues handling other requests"}),"\n",(0,s.jsx)(n.li,{children:"When a task completes, an event is triggered"}),"\n",(0,s.jsx)(n.li,{children:"The callback is pushed into the queue"}),"\n",(0,s.jsx)(n.li,{children:"Event loop executes it"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"simple-event-driven-example-basic",children:"Simple Event-Driven Example (Basic)"}),"\n",(0,s.jsx)(n.p,{children:"setTimeout (Event + Callback)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'console.log("Start");\r\n\r\nsetTimeout(() => {\r\n  console.log("This runs after 2 seconds");\r\n}, 2000);\r\n\r\nconsole.log("End");\n'})}),"\n",(0,s.jsx)(n.p,{children:"Output:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Start\r\nEnd\r\nThis runs after 2 seconds\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setTimeout"})," registers an event"]}),"\n",(0,s.jsx)(n.li,{children:"Node.js doesn\u2019t wait for 2 seconds"}),"\n",(0,s.jsx)(n.li,{children:"The callback is executed later by the event loop"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"real-event-driven-example-http-server",children:"Real Event-Driven Example: HTTP Server"}),"\n",(0,s.jsx)(n.p,{children:"Simple Node.js Server"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'const http = require("http");\r\n\r\nconst server = http.createServer((req, res) => {\r\n  // This function runs when a request event occurs\r\n  res.writeHead(200, { "Content-Type": "text/plain" });\r\n  res.end("Hello from Node.js!");\r\n});\r\n\r\nserver.listen(3000, () => {\r\n  console.log("Server running on port 3000");\r\n});\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"createServer"})," listens for request events"]}),"\n",(0,s.jsx)(n.li,{children:"Each request triggers the callback"}),"\n",(0,s.jsx)(n.li,{children:"Node.js handles many requests without blocking"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"eventemitter-core-of-event-driven-design",children:"EventEmitter: Core of Event-Driven Design"}),"\n",(0,s.jsx)(n.p,{children:"Node.js has a built-in EventEmitter class."}),"\n",(0,s.jsx)(n.p,{children:"Example 3: Custom Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'const EventEmitter = require("events");\r\n\r\nconst myEmitter = new EventEmitter();\r\n\r\n// Register event listener\r\nmyEmitter.on("order", () => {\r\n  console.log("Order received!");\r\n});\r\n\r\n// Emit event\r\nmyEmitter.emit("order");\n'})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"on()"})," \u2192 listens for an event"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"emit()"})," \u2192 triggers the event"]}),"\n",(0,s.jsx)(n.li,{children:"Callback runs when event occurs"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"why-event-driven-architecture-is-powerful",children:"Why Event-Driven Architecture is Powerful"}),"\n",(0,s.jsx)(n.p,{children:"Advantages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Handles many users efficiently"}),"\n",(0,s.jsx)(n.li,{children:"High performance"}),"\n",(0,s.jsx)(n.li,{children:"Ideal for real-time apps"}),"\n",(0,s.jsx)(n.li,{children:"Uses fewer system resources"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Disadvantages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Not ideal for CPU-heavy tasks"}),"\n",(0,s.jsx)(n.li,{children:"Harder to debug async code"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);