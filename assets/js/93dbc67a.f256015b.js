"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[862],{5430(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"nextjs/SSG","title":"Static Side Generation","description":"Static Site Generation (SSG) means that a page\u2019s HTML is pre-rendered at build time (during deployment). The generated HTML, along with JSON data if needed, is then cached and served to every user.","source":"@site/docs/nextjs/4. SSG.md","sourceDirName":"nextjs","slug":"/nextjs/SSG","permalink":"/handbook/docs/nextjs/SSG","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Static Side Generation","sidebar_position":5},"sidebar":"nextjsSidebar","previous":{"title":"Pre Rendering","permalink":"/handbook/docs/nextjs/3.5. Pre Rendering"},"next":{"title":"Incremental Site Rendering","permalink":"/handbook/docs/nextjs/ISR"}}');var i=s(4848),r=s(8453);const l={title:"Static Side Generation",sidebar_position:5},a=void 0,d={},c=[{value:"How SSG Works",id:"how-ssg-works",level:2},{value:"Best Use Cases for SSG",id:"best-use-cases-for-ssg",level:2},{value:"Data Fetching in SSG",id:"data-fetching-in-ssg",level:2},{value:"How to Use SSG",id:"how-to-use-ssg",level:2},{value:"<code>getStaticProps</code> Explained",id:"getstaticprops-explained",level:2},{value:"Step-by-step:",id:"step-by-step",level:3},{value:"<code>getStaticPaths</code> Explained",id:"getstaticpaths-explained",level:2},{value:"Step-by-step:",id:"step-by-step-1",level:3},{value:"<code>fallback</code> Options",id:"fallback-options",level:3},{value:"Alternatives of SSG",id:"alternatives-of-ssg",level:3}];function o(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Static Site Generation (SSG) means that a page\u2019s HTML is pre-rendered at build time (during deployment). The generated HTML, along with JSON data if needed, is then cached and served to every user."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The server (or build process) creates the HTML ahead of time."}),"\n",(0,i.jsx)(n.li,{children:"The browser just loads the static HTML and hydrates it with React for interactivity."}),"\n",(0,i.jsx)(n.li,{children:"Data is fetched at build time, not per request."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In Next.js, SSG is used when:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Content doesn\u2019t change often."}),"\n",(0,i.jsx)(n.li,{children:"SEO matters (pages are fully rendered upfront)."}),"\n",(0,i.jsx)(n.li,{children:"You want very fast load times (served from CDN)."}),"\n",(0,i.jsxs)(n.li,{children:["You can tolerate waiting until the ",(0,i.jsx)(n.code,{children:"next build"})," to see content updates."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"how-ssg-works",children:"How SSG Works"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["During the build (",(0,i.jsx)(n.code,{children:"next build"}),"), Next.js runs ",(0,i.jsx)(n.code,{children:"getStaticProps"})," (and optionally ",(0,i.jsx)(n.code,{children:"getStaticPaths"}),")."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Pages are converted into static HTML + JSON."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"User requests the page \u2192 HTML is instantly served (no server computation)."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"React hydrates the static HTML \u2192 makes the page interactive."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"best-use-cases-for-ssg",children:"Best Use Cases for SSG"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Blogs / Marketing sites"})," \u2192 SEO-friendly, rarely changing content."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"E-commerce product catalogs"})," \u2192 Products don\u2019t change per user."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Landing pages"})," \u2192 Homepages, feature pages."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Documentation / Knowledge bases"})," \u2192 Developer docs, help centers."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"News sites / public data"})," \u2192 Can use ISR to rebuild periodically."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Advantages"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Super fast (served from CDN, no server computation)."}),"\n",(0,i.jsx)(n.li,{children:"SEO-friendly (full HTML delivered upfront)."}),"\n",(0,i.jsx)(n.li,{children:"Scales well (static files, no database calls)."}),"\n",(0,i.jsx)(n.li,{children:"Can use Incremental Static Regeneration (ISR) to update content after build."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Disadvantages"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Content is only as fresh as the last build (unless ISR is used)."}),"\n",(0,i.jsx)(n.li,{children:"Build times grow with large numbers of pages."}),"\n",(0,i.jsx)(n.li,{children:"Not suitable for highly personalized content."}),"\n",(0,i.jsx)(n.li,{children:"Requires redeploy (or ISR) to reflect new data."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"data-fetching-in-ssg",children:"Data Fetching in SSG"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"getStaticProps"})," \u2192 Runs at build time."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"getStaticPaths"})," (for dynamic routes) \u2192 Tells Next.js which paths to pre-generate."]}),"\n",(0,i.jsx)(n.li,{children:"Data is embedded into the HTML/JSON and reused on every request."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This is different from CSR (data fetched in browser after load) and SSR (data fetched at request time)."}),"\n",(0,i.jsx)(n.h2,{id:"how-to-use-ssg",children:"How to Use SSG"}),"\n",(0,i.jsxs)(n.p,{children:["In Next.js, define ",(0,i.jsx)(n.code,{children:"getStaticProps"})," (and optionally ",(0,i.jsx)(n.code,{children:"getStaticPaths"}),") in your page component."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'// pages/posts/[id].tsx\r\nimport { GetStaticProps, GetStaticPaths, NextPage } from "next";\r\n\r\ntype Post = {\r\n  id: string;\r\n  title: string;\r\n  body: string;\r\n};\r\n\r\ninterface PostPageProps {\r\n  post: Post;\r\n}\r\n\r\nconst PostPage: NextPage<PostPageProps> = ({ post }) => {\r\n  return (\r\n    <div className="p-6">\r\n      <h1 className="text-2xl font-bold">{post.title}</h1>\r\n      <p className="mt-4">{post.body}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostPage;\r\n\r\n// Fetch all possible paths at build time\r\nexport const getStaticPaths: GetStaticPaths = async () => {\r\n  const res = await fetch("https://jsonplaceholder.typicode.com/posts");\r\n  const posts: Post[] = await res.json();\r\n\r\n  const paths = posts.map((post) => ({\r\n    params: { id: post.id.toString() },\r\n  }));\r\n\r\n  return { paths, fallback: false }; // fallback options explained below\r\n};\r\n\r\n// Fetch data for each page at build time\r\nexport const getStaticProps: GetStaticProps<PostPageProps> = async ({\r\n  params,\r\n}) => {\r\n  const res = await fetch(\r\n    `https://jsonplaceholder.typicode.com/posts/${params?.id}`\r\n  );\r\n  const post: Post = await res.json();\r\n\r\n  return {\r\n    props: { post },\r\n    revalidate: 60, // ISR: Regenerate page every 60 seconds\r\n  };\r\n};\n'})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getStaticPaths"})," \u2192 Defines which post pages should be generated."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getStaticProps"})," \u2192 Fetches data for each page at build time."]}),"\n",(0,i.jsx)(n.li,{children:"Pages are pre-built as static HTML + JSON."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"revalidate: 60"})," \u2192 Enables ISR (page will regenerate every 60s when requested)."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why SSG is the Right Choice Here"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Blog posts and product pages don\u2019t change per user."}),"\n",(0,i.jsx)(n.li,{children:"SEO matters (content should be indexed)."}),"\n",(0,i.jsx)(n.li,{children:"Pages load super fast (served from CDN)."}),"\n",(0,i.jsx)(n.li,{children:"Updates are infrequent, so build time or ISR is acceptable."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"getstaticprops-explained",children:[(0,i.jsx)(n.code,{children:"getStaticProps"})," Explained"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Runs at build time (server-side only)."}),"\n",(0,i.jsx)(n.li,{children:"Fetches data for a page and passes it as props."}),"\n",(0,i.jsx)(n.li,{children:"Only works in page components, not regular components."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-by-step",children:"Step-by-step:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create a page component."}),"\n",(0,i.jsxs)(n.li,{children:["Export async ",(0,i.jsx)(n.code,{children:"function getStaticProps()"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Fetch data from API, database, or filesystem."}),"\n",(0,i.jsxs)(n.li,{children:["Return ",(0,i.jsx)(n.code,{children:"{ props: { ... } }"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Next.js pre-renders the page as static HTML."}),"\n",(0,i.jsx)(n.li,{children:"On client load, React hydrates the page for interactivity."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"getstaticpaths-explained",children:[(0,i.jsx)(n.code,{children:"getStaticPaths"})," Explained"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Used with dynamic routes (e.g., ",(0,i.jsx)(n.code,{children:"[id].tsx"}),")."]}),"\n",(0,i.jsx)(n.li,{children:"Tells Next.js which paths to pre-render."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-by-step-1",children:"Step-by-step:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a dynamic route (",(0,i.jsx)(n.code,{children:"[id].tsx"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Export ",(0,i.jsx)(n.code,{children:"async function getStaticPaths()"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Fetch all dynamic entries (e.g., posts)."}),"\n",(0,i.jsxs)(n.li,{children:["Return ",(0,i.jsx)(n.code,{children:"{ paths: [...], fallback: ... }"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Next.js pre-renders those paths with ",(0,i.jsx)(n.code,{children:"getStaticProps"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"fallback-options",children:[(0,i.jsx)(n.code,{children:"fallback"})," Options"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"fallback value"}),(0,i.jsx)(n.th,{children:"Behavior"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Only pre-rendered paths exist. Any other path \u2192 404."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsxs)(n.td,{children:["New paths are generated on-demand. The client sees a ",(0,i.jsx)(n.strong,{children:"loading state"})," (",(0,i.jsx)(n.code,{children:"router.isFallback"}),") while the page is being built."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"blocking"'})}),(0,i.jsxs)(n.td,{children:["New paths are generated on-demand ",(0,i.jsx)(n.strong,{children:"server-side before sending HTML"}),". The user ",(0,i.jsx)(n.strong,{children:"does not see a loading state"}),"; they wait until the page is ready."]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"alternatives-of-ssg",children:"Alternatives of SSG"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Server-Side Rendering (SSR):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export async function getServerSideProps({ params }) {\r\n  const res = await fetch(`https://api.example.com/posts/${params.id}`);\r\n  const post = await res.json();\r\n  return { props: { post } };\r\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Runs on every request."}),"\n",(0,i.jsxs)(n.li,{children:["No need for ",(0,i.jsx)(n.code,{children:"getStaticPaths"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Client-Side Fetching (CSR):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fetch data in a component using ",(0,i.jsx)(n.code,{children:"useEffect"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Slower initial load, poor SEO."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);