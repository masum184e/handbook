"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[5433],{25296(e,r,n){n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"rest-api-design/Design First","title":"Design First","description":"The Design-First approach (also known as top-down) means you define your API contract first\u2014typically using OpenAPI/Swagger, RAML, or API Blueprint\u2014before writing any backend code. This contract serves as a single source of truth for developers, frontend/backend teams, QA, and clients.","source":"@site/docs/rest-api-design/12. Design First.md","sourceDirName":"rest-api-design","slug":"/rest-api-design/Design First","permalink":"/handbook/docs/rest-api-design/Design First","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":14,"frontMatter":{"title":"Design First","sidebar_position":14},"sidebar":"restApiSidebar","previous":{"title":"Code First","permalink":"/handbook/docs/rest-api-design/Code First"},"next":{"title":"API Specification","permalink":"/handbook/docs/rest-api-design/API Specification"}}');var t=n(74848),o=n(28453);const i={title:"Design First",sidebar_position:14},a=void 0,c={},d=[{value:"Pros of Design-First Approach",id:"pros-of-design-first-approach",level:2},{value:"Tools You Can Use",id:"tools-you-can-use",level:2},{value:"Example of Design-First Approach",id:"example-of-design-first-approach",level:2},{value:"Differences from Code-First",id:"differences-from-code-first",level:2}];function l(e){const r={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"The Design-First approach (also known as top-down) means you define your API contract first\u2014typically using OpenAPI/Swagger, RAML, or API Blueprint\u2014before writing any backend code. This contract serves as a single source of truth for developers, frontend/backend teams, QA, and clients."}),"\n",(0,t.jsx)(r.h2,{id:"pros-of-design-first-approach",children:"Pros of Design-First Approach"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Clear contract:"})," Ensures all teams agree on how the API behaves before code is written."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Documentation first:"})," You get clean API docs from day one."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Stub generation:"})," Can generate boilerplate server code & client SDKs automatically."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Validation:"})," Helps validate requests/responses against a defined schema."]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"tools-you-can-use",children:"Tools You Can Use"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"OpenAPI/Swagger:"})," Specification language for REST APIs."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Swagger Editor:"})," Online tool to design API visually and export YAML/JSON."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"swagger-codegen or openapi-generator:"})," Generate Node.js server stubs."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"express-openapi-validator:"})," Middleware to enforce schema validation."]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"example-of-design-first-approach",children:"Example of Design-First Approach"}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"openapi.yaml"})," file"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:'openapi: 3.0.0\r\ninfo:\r\n  title: Design-First API Example\r\n  version: 1.0.0\r\n\r\npaths:\r\n  /users:\r\n    get:\r\n      summary: Get all users\r\n      responses:\r\n        "200":\r\n          description: A list of users\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: "#/components/schemas/User"\r\n\r\n    post:\r\n      summary: Create a new user\r\n      requestBody:\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: "#/components/schemas/UserInput"\r\n      responses:\r\n        "201":\r\n          description: User created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: "#/components/schemas/User"\r\n\r\ncomponents:\r\n  schemas:\r\n    User:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: integer\r\n        name:\r\n          type: string\r\n\r\n    UserInput:\r\n      type: object\r\n      properties:\r\n        name:\r\n          type: string\r\n      required:\r\n        - name\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"index.js"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:'const express = require("express");\r\nconst YAML = require("yamljs");\r\nconst { OpenApiValidator } = require("express-openapi-validator");\r\n\r\nconst apiSpec = YAML.load("./openapi.yaml");\r\n\r\nconst app = express();\r\napp.use(express.json());\r\n\r\n// Serve the OpenAPI spec\r\napp.use("/spec", (req, res) => res.json(apiSpec));\r\n\r\n// Init OpenAPI Validator\r\nnew OpenApiValidator({\r\n  apiSpec: "./openapi.yaml",\r\n  validateRequests: true, // auto validate request bodies\r\n  validateResponses: true, // auto validate responses\r\n})\r\n  .install(app)\r\n  .then(() => {\r\n    // Routes go after validator is set up\r\n    const userRoutes = require("./routes/users");\r\n    app.use("/users", userRoutes);\r\n\r\n    app.use((err, req, res, next) => {\r\n      res.status(err.status || 500).json({\r\n        message: err.message,\r\n        errors: err.errors,\r\n      });\r\n    });\r\n\r\n    app.listen(3000, () => {\r\n      console.log("API running on http://localhost:3000");\r\n      console.log("Docs available at Swagger Editor or Redoc");\r\n    });\r\n  });\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"routes/users.js"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:'const express = require("express");\r\nconst router = express.Router();\r\n\r\nconst users = [\r\n  { id: 1, name: "Alice" },\r\n  { id: 2, name: "Bob" },\r\n];\r\n\r\nrouter.get("/", (req, res) => {\r\n  res.status(200).json(users);\r\n});\r\n\r\nrouter.post("/", (req, res) => {\r\n  const { name } = req.body;\r\n  const newUser = { id: users.length + 1, name };\r\n  users.push(newUser);\r\n  res.status(201).json(newUser);\r\n});\r\n\r\nmodule.exports = router;\n'})}),"\n",(0,t.jsx)(r.h2,{id:"differences-from-code-first",children:"Differences from Code-First"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Feature"}),(0,t.jsx)(r.th,{children:"Design-First"}),(0,t.jsx)(r.th,{children:"Code-First"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Start Point"}),(0,t.jsx)(r.td,{children:"API Contract (YAML/JSON)"}),(0,t.jsx)(r.td,{children:"Application Code (routes)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Tooling"}),(0,t.jsx)(r.td,{children:"Swagger Editor, OpenAPI Generator"}),(0,t.jsx)(r.td,{children:"Swagger JSDoc, Comment Parsers"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Contract Authority"}),(0,t.jsx)(r.td,{children:"Spec is the source of truth"}),(0,t.jsx)(r.td,{children:"Code is the source of truth"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Ideal for"}),(0,t.jsx)(r.td,{children:"Team collaboration, SDK generation, QA"}),(0,t.jsx)(r.td,{children:"Quick prototyping, smaller teams"})]})]})]})]})}function p(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453(e,r,n){n.d(r,{R:()=>i,x:()=>a});var s=n(96540);const t={},o=s.createContext(t);function i(e){const r=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);