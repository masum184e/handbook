"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[2832],{28453(e,n,i){i.d(n,{R:()=>d,x:()=>a});var s=i(96540);const r={},l=s.createContext(r);function d(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(l.Provider,{value:n},e.children)}},89029(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"rest-api-design/Input Validation","title":"Input Validation","description":"Input validation is the process of verifying that incoming request data:","source":"@site/docs/rest-api-design/23. Input Validation.md","sourceDirName":"rest-api-design","slug":"/rest-api-design/Input Validation","permalink":"/handbook/docs/rest-api-design/Input Validation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"title":"Input Validation","sidebar_position":25},"sidebar":"restApiSidebar","previous":{"title":"Security Practices","permalink":"/handbook/docs/rest-api-design/Security Practices"},"next":{"title":"Error Tracking","permalink":"/handbook/docs/rest-api-design/Error Tracking"}}');var r=i(74848),l=i(28453);const d={title:"Input Validation",sidebar_position:25},a=void 0,t={},c=[{value:"Why Input Validation Is Critical",id:"why-input-validation-is-critical",level:2},{value:"Types of Input Validation in REST APIs",id:"types-of-input-validation-in-rest-apis",level:2},{value:"Request Body Validation",id:"request-body-validation",level:2},{value:"Example API",id:"example-api",level:3},{value:"Query Parameter Validation",id:"query-parameter-validation",level:2},{value:"Header Validation",id:"header-validation",level:2},{value:"Example API",id:"example-api-1",level:3},{value:"Validation Order (Best Practice)",id:"validation-order-best-practice",level:2},{value:"Best Practices for Input Validation",id:"best-practices-for-input-validation",level:2},{value:"Use Schema-Based Validation",id:"use-schema-based-validation",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Input validation is the process of verifying that incoming request data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Exists when required"}),"\n",(0,r.jsx)(n.li,{children:"Has the correct data type"}),"\n",(0,r.jsx)(n.li,{children:"Falls within allowed ranges or formats"}),"\n",(0,r.jsx)(n.li,{children:"Follows business rules"}),"\n",(0,r.jsx)(n.li,{children:"Is safe to process (prevents injection and misuse)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"In REST APIs, validation occurs before business logic executes, and invalid input should result in client error responses (4xx)."}),"\n",(0,r.jsx)(n.h2,{id:"why-input-validation-is-critical",children:"Why Input Validation Is Critical"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security:"})," Prevents SQL injection, XSS, header injection, and malformed requests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Integrity:"})," Ensures only valid data enters your system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Predictable API Behavior:"})," Clients get consistent, meaningful errors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Easier Debugging:"})," Clear feedback helps consumers fix requests quickly"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance:"})," Rejects bad requests early without costly processing"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"types-of-input-validation-in-rest-apis",children:"Types of Input Validation in REST APIs"}),"\n",(0,r.jsx)(n.p,{children:"REST APIs typically validate three major request parts:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Request Body \u2013 JSON/XML payload"}),"\n",(0,r.jsx)(n.li,{children:"Query Parameters \u2013 URL parameters"}),"\n",(0,r.jsx)(n.li,{children:"Headers \u2013 Metadata and authorization info"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"request-body-validation",children:"Request Body Validation"}),"\n",(0,r.jsx)(n.p,{children:"What Is Validated?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Required fields"}),"\n",(0,r.jsx)(n.li,{children:"Data types"}),"\n",(0,r.jsx)(n.li,{children:"Length constraints"}),"\n",(0,r.jsx)(n.li,{children:"Formats (email, UUID, date)"}),"\n",(0,r.jsx)(n.li,{children:"Nested object structure"}),"\n",(0,r.jsx)(n.li,{children:"Business rules"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-api",children:"Example API"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create User"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"POST /users\r\nContent-Type: application/json\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "username": "john_doe",\r\n  "email": "john@example.com",\r\n  "age": 25\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Validation Rules"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Rule"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"username"}),(0,r.jsx)(n.td,{children:"Required, string, min 3 chars"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email"}),(0,r.jsx)(n.td,{children:"Required, valid email format"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"age"}),(0,r.jsx)(n.td,{children:"Optional, integer \u2265 18"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Invalid Request Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "username": "jo",\r\n  "email": "invalid-email",\r\n  "age": 15\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"HTTP/1.1 400 Bad Request\r\nContent-Type: application/json\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "error": "Validation failed",\r\n  "details": [\r\n    { "field": "username", "message": "Must be at least 3 characters long" },\r\n    { "field": "email", "message": "Invalid email format" },\r\n    { "field": "age", "message": "Must be 18 or older" }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"400 Bad Request \u2192 client sent invalid data"}),"\n",(0,r.jsx)(n.li,{children:"Error message is descriptive but safe"}),"\n",(0,r.jsx)(n.li,{children:"Each field error is returned separately"}),"\n",(0,r.jsx)(n.li,{children:"Helps client correct the request easily"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"query-parameter-validation",children:"Query Parameter Validation"}),"\n",(0,r.jsx)(n.p,{children:"What Is Validated?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Presence of required query params"}),"\n",(0,r.jsx)(n.li,{children:"Allowed values"}),"\n",(0,r.jsx)(n.li,{children:"Data types"}),"\n",(0,r.jsx)(n.li,{children:"Range limits"}),"\n",(0,r.jsx)(n.li,{children:"Default values"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example API"})}),"\n",(0,r.jsx)(n.p,{children:"Get Users with Pagination"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"GET /users?page=1&limit=20\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Validation Rules"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Rule"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"page"}),(0,r.jsx)(n.td,{children:"Optional, integer \u2265 1 (default = 1)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"limit"}),(0,r.jsx)(n.td,{children:"Optional, integer 1\u2013100 (default = 10)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Invalid Request Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"GET /users?page=-2&limit=500\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"HTTP/1.1 400 Bad Request\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "error": "Invalid query parameters",\r\n  "details": [\r\n    { "parameter": "page", "message": "Must be a positive integer" },\r\n    { "parameter": "limit", "message": "Must be between 1 and 100" }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Query params are validated before fetching data"}),"\n",(0,r.jsx)(n.li,{children:"Prevents expensive or abusive requests"}),"\n",(0,r.jsx)(n.li,{children:"Default values help keep API flexible"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"header-validation",children:"Header Validation"}),"\n",(0,r.jsx)(n.p,{children:"What Is Validated?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Presence of required headers"}),"\n",(0,r.jsx)(n.li,{children:"Header format"}),"\n",(0,r.jsx)(n.li,{children:"Allowed values"}),"\n",(0,r.jsx)(n.li,{children:"Authorization tokens"}),"\n",(0,r.jsx)(n.li,{children:"Content-Type and Accept headers"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Common Headers to Validate"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Authorization"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Content-Type"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Accept"})}),"\n",(0,r.jsxs)(n.li,{children:["Custom ",(0,r.jsx)(n.code,{children:"headers"})," (e.g., ",(0,r.jsx)(n.code,{children:"X-Request-Id"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-api-1",children:"Example API"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"POST /orders\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Headers"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Header"}),(0,r.jsx)(n.th,{children:"Rule"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Authorization"}),(0,r.jsx)(n.td,{children:"Required, Bearer token"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Content-Type"}),(0,r.jsxs)(n.td,{children:["Must be ",(0,r.jsx)(n.code,{children:"application/json"})]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Invalid Request Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"POST /orders\r\nContent-Type: text/plain\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"HTTP/1.1 415 Unsupported Media Type\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "error": "Unsupported Content-Type",\r\n  "message": "Expected application/json"\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authorization Header Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"Authorization: Bearer abc123\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If missing:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"HTTP/1.1 401 Unauthorized\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "error": "Unauthorized",\r\n  "message": "Missing or invalid Authorization header"\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"415 \u2192 wrong content format"}),"\n",(0,r.jsx)(n.li,{children:"401 \u2192 authentication problem"}),"\n",(0,r.jsx)(n.li,{children:"Headers are validated before parsing body"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"validation-order-best-practice",children:"Validation Order (Best Practice)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Validate headers"}),"\n",(0,r.jsx)(n.li,{children:"Validate query parameters"}),"\n",(0,r.jsx)(n.li,{children:"Validate request body"}),"\n",(0,r.jsx)(n.li,{children:"Apply business rules"}),"\n",(0,r.jsx)(n.li,{children:"Execute core logic"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This avoids unnecessary processing and improves performance."}),"\n",(0,r.jsx)(n.h2,{id:"best-practices-for-input-validation",children:"Best Practices for Input Validation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Fail Fast: Reject invalid requests immediately."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use Standard HTTP Status Codes"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Scenario"}),(0,r.jsx)(n.th,{children:"Status"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Invalid input"}),(0,r.jsx)(n.td,{children:"400"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Missing auth"}),(0,r.jsx)(n.td,{children:"401"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Forbidden"}),(0,r.jsx)(n.td,{children:"403"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Unsupported media type"}),(0,r.jsx)(n.td,{children:"415"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Unprocessable entity (semantic error)"}),(0,r.jsx)(n.td,{children:"422"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Return Consistent Error Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "error": "Validation failed",\r\n  "details": [...]\r\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Don\u2019t Leak Internal Details"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'\u274c Avoid: "SQL syntax error near column age"'}),"\n",(0,r.jsx)(n.li,{children:'\u2705 Use: "Invalid age value"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"use-schema-based-validation",children:"Use Schema-Based Validation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"JSON Schema"}),"\n",(0,r.jsx)(n.li,{children:"OpenAPI (Swagger)"}),"\n",(0,r.jsx)(n.li,{children:"Framework validators (Spring Validation, Joi, Yup, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Area"}),(0,r.jsx)(n.th,{children:"What to Validate"}),(0,r.jsx)(n.th,{children:"Why"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Body"}),(0,r.jsx)(n.td,{children:"Structure, types, formats"}),(0,r.jsx)(n.td,{children:"Data integrity"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query"}),(0,r.jsx)(n.td,{children:"Range, type, allowed values"}),(0,r.jsx)(n.td,{children:"Prevent abuse"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Headers"}),(0,r.jsx)(n.td,{children:"Auth, content type"}),(0,r.jsx)(n.td,{children:"Security & correctness"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Input validation is the first line of defense in REST API design and is tightly coupled with clear, consistent error handling."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Golden rule"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Validation happens at the boundary. Business logic assumes clean data."}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);