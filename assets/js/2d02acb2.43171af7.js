"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[80251],{28453(e,n,r){r.d(n,{R:()=>t,x:()=>d});var s=r(96540);const i={},l=s.createContext(i);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(l.Provider,{value:n},e.children)}},35861(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"nodejs/Core Modules/File System","title":"File System","description":"The fs module is a core Node.js module (no installation needed) that allows you to:","source":"@site/docs/nodejs/5. Core Modules/1. File System.md","sourceDirName":"nodejs/5. Core Modules","slug":"/nodejs/Core Modules/File System","permalink":"/handbook/docs/nodejs/Core Modules/File System","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"nodejsApiSidebar","previous":{"title":"Modules","permalink":"/handbook/docs/nodejs/Modules"},"next":{"title":"Path","permalink":"/handbook/docs/nodejs/Core Modules/Path"}}');var i=r(74848),l=r(28453);const t={},d=void 0,o={},a=[{value:"Reading Files",id:"reading-files",level:2},{value:"Asynchronous Reading (Callback-based)",id:"asynchronous-reading-callback-based",level:3},{value:"Synchronous Reading (Blocking)",id:"synchronous-reading-blocking",level:3},{value:"Promise-based Reading (Modern Way)",id:"promise-based-reading-modern-way",level:3},{value:"Writing Files",id:"writing-files",level:2},{value:"Write (Overwrite) a File",id:"write-overwrite-a-file",level:3},{value:"Append to a File",id:"append-to-a-file",level:3},{value:"Manipulating Files",id:"manipulating-files",level:2},{value:"Rename a File",id:"rename-a-file",level:3},{value:"Delete a File",id:"delete-a-file",level:3},{value:"Working with Directories",id:"working-with-directories",level:2},{value:"Create a Directory",id:"create-a-directory",level:3},{value:"Read Directory Contents",id:"read-directory-contents",level:3},{value:"Remove a Directory",id:"remove-a-directory",level:3},{value:"File Information (Stats)",id:"file-information-stats",level:2},{value:"Streams (For Large Files)",id:"streams-for-large-files",level:2},{value:"When to Use What",id:"when-to-use-what",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"fs"})," module is a core Node.js module (no installation needed) that allows you to:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Read files"}),"\n",(0,i.jsx)(n.li,{children:"Write files"}),"\n",(0,i.jsx)(n.li,{children:"Update file"}),"\n",(0,i.jsx)(n.li,{children:"Delete files"}),"\n",(0,i.jsx)(n.li,{children:"Create & remove directories"}),"\n",(0,i.jsx)(n.li,{children:"Check file stats (size, permissions, timestamps)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You import it like: ",(0,i.jsx)(n.code,{children:"import fs from 'fs'"})]}),"\n",(0,i.jsx)(n.p,{children:"Node.js provides three styles of file system methods:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Synchronous (Blocking)"}),"\n",(0,i.jsx)(n.li,{children:"Asynchronous \u2013 Callback-based"}),"\n",(0,i.jsxs)(n.li,{children:["Asynchronous \u2013 Promise-based (",(0,i.jsx)(n.code,{children:"fs/promises"}),") modern & recommended"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"reading-files",children:"Reading Files"}),"\n",(0,i.jsx)(n.h3,{id:"asynchronous-reading-callback-based",children:"Asynchronous Reading (Callback-based)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const fs = require("fs");\r\n\r\nfs.readFile("example.txt", "utf8", (err, data) => {\r\n  if (err) {\r\n    console.error(err);\r\n    return;\r\n  }\r\n  console.log(data);\r\n});\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"readFile()"})," reads the entire file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"utf8"'})," converts the file buffer into readable text"]}),"\n",(0,i.jsx)(n.li,{children:"The callback runs after the file is read"}),"\n",(0,i.jsx)(n.li,{children:"Non-blocking (other code can run meanwhile)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"synchronous-reading-blocking",children:"Synchronous Reading (Blocking)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const fs = require("fs");\r\n\r\nconst data = fs.readFileSync("example.txt", "utf8");\r\nconsole.log(data);\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Blocks the event loop until reading finishes"}),"\n",(0,i.jsx)(n.li,{children:"Easy to write but bad for performance in servers"}),"\n",(0,i.jsx)(n.li,{children:"Mostly used in scripts or startup code"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"promise-based-reading-modern-way",children:"Promise-based Reading (Modern Way)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const fs = require("fs/promises");\r\n\r\nasync function readFile() {\r\n  try {\r\n    const data = await fs.readFile("example.txt", "utf8");\r\n    console.log(data);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n}\r\n\r\nreadFile();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"writing-files",children:"Writing Files"}),"\n",(0,i.jsx)(n.h3,{id:"write-overwrite-a-file",children:"Write (Overwrite) a File"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const fs = require("fs/promises");\r\n\r\nasync function writeFile() {\r\n  await fs.writeFile("output.txt", "Hello Node.js!");\r\n  console.log("File written successfully");\r\n}\r\n\r\nwriteFile();\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creates the file if it doesn\u2019t exist"}),"\n",(0,i.jsx)(n.li,{children:"Overwrites existing content by default"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"append-to-a-file",children:"Append to a File"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'const fs = require("fs/promises");\r\n\r\nasync function appendFile() {\r\n  await fs.appendFile("output.txt", "\\nNew line added");\r\n}\r\n\r\nappendFile();\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adds content to the end of the file"}),"\n",(0,i.jsx)(n.li,{children:"Does not erase existing data"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"manipulating-files",children:"Manipulating Files"}),"\n",(0,i.jsx)(n.h3,{id:"rename-a-file",children:"Rename a File"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'const fs = require("fs/promises");\r\n\r\nasync function renameFile() {\r\n  await fs.rename("output.txt", "renamed.txt");\r\n}\r\n\r\nrenameFile();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"delete-a-file",children:"Delete a File"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'const fs = require("fs/promises");\r\n\r\nasync function deleteFile() {\r\n  await fs.unlink("renamed.txt");\r\n}\r\n\r\ndeleteFile();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"working-with-directories",children:"Working with Directories"}),"\n",(0,i.jsx)(n.h3,{id:"create-a-directory",children:"Create a Directory"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'const fs = require("fs/promises");\r\n\r\nasync function createDir() {\r\n  await fs.mkdir("logs");\r\n}\r\n\r\ncreateDir();\n'})}),"\n",(0,i.jsx)(n.p,{children:"To create nested directories:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'await fs.mkdir("parent/child", { recursive: true });\n'})}),"\n",(0,i.jsx)(n.h3,{id:"read-directory-contents",children:"Read Directory Contents"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'const fs = require("fs/promises");\r\n\r\nasync function readDir() {\r\n  const files = await fs.readdir(".");\r\n  console.log(files);\r\n}\r\n\r\nreadDir();\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Lists all files and folders in the directory"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"remove-a-directory",children:"Remove a Directory"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'await fs.rmdir("logs");\n'})}),"\n",(0,i.jsx)(n.p,{children:"For non-empty folders:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'await fs.rm("logs", { recursive: true, force: true });\n'})}),"\n",(0,i.jsx)(n.h2,{id:"file-information-stats",children:"File Information (Stats)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'const fs = require("fs/promises");\r\n\r\nasync function fileStats() {\r\n  const stats = await fs.stat("example.txt");\r\n\r\n  console.log(stats.size);        // File size in bytes\r\n  console.log(stats.isFile());    // true\r\n  console.log(stats.isDirectory());\r\n}\r\n\r\nfileStats();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"streams-for-large-files",children:"Streams (For Large Files)"}),"\n",(0,i.jsx)(n.p,{children:"Reading large files efficiently:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'const fs = require("fs");\r\n\r\nconst stream = fs.createReadStream("bigfile.txt", "utf8");\r\n\r\nstream.on("data", chunk => {\r\n  console.log(chunk);\r\n});\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reads data in chunks"}),"\n",(0,i.jsx)(n.li,{children:"Saves memory"}),"\n",(0,i.jsx)(n.li,{children:"Perfect for videos, logs, large datasets"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"when-to-use-what",children:"When to Use What"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Task"}),(0,i.jsx)(n.th,{children:"Recommended Method"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Server apps"}),(0,i.jsx)(n.td,{children:"Async / Promise-based"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Large files"}),(0,i.jsx)(n.td,{children:"Streams"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Small scripts"}),(0,i.jsx)(n.td,{children:"Sync"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Modern code"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fs/promises"})})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);