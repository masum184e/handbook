"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[71595],{3323(e,s,t){t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"system-design/Replication/Stateless Replication","title":"Stateless Replication","description":"Stateless replication refers to replicating components or services that do not store any user or session-specific data locally. Each replicated instance is independent and can handle any request without relying on previous ones.","source":"@site/docs/system-design/9. Replication/2. Stateless Replication.md","sourceDirName":"system-design/9. Replication","slug":"/system-design/Replication/Stateless Replication","permalink":"/handbook/docs/system-design/Replication/Stateless Replication","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"systemDesignSidebar","previous":{"title":"Replication","permalink":"/handbook/docs/system-design/Replication/Replication"},"next":{"title":"Stateful Replication","permalink":"/handbook/docs/system-design/Replication/Stateful Replication"}}');var i=t(74848),l=t(28453);const r={},a=void 0,c={},o=[{value:"Characteristics of Stateless Replication",id:"characteristics-of-stateless-replication",level:2},{value:"Stateless Replication Architecture",id:"stateless-replication-architecture",level:2},{value:"Example of Stateless Replication",id:"example-of-stateless-replication",level:2},{value:"Scenario: E-commerce Frontend API",id:"scenario-e-commerce-frontend-api",level:3},{value:"Request Flow",id:"request-flow",level:3},{value:"Benefits",id:"benefits",level:3},{value:"Stateless vs Stateful Replication",id:"stateless-vs-stateful-replication",level:2}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"Stateless replication refers to replicating components or services that do not store any user or session-specific data locally. Each replicated instance is independent and can handle any request without relying on previous ones."}),"\n",(0,i.jsx)(s.p,{children:"This design pattern is common in modern scalable architectures, especially in cloud-native and microservices systems, where services are designed to be stateless and horizontally scalable."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Why Stateless Design Matters"}),"\r\nStateless services are ideal for replication because:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"All replicas are identical and interchangeable"}),"\n",(0,i.jsx)(s.li,{children:"No need for session synchronization between replicas"}),"\n",(0,i.jsx)(s.li,{children:"Makes load balancing and autoscaling easier"}),"\n",(0,i.jsx)(s.li,{children:"Simplifies fault recovery and deployment"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"characteristics-of-stateless-replication",children:"Characteristics of Stateless Replication"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Feature"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"No Local Session State"})}),(0,i.jsx)(s.td,{children:"Requests do not depend on any data stored in the server instance"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Interchangeable Nodes"})}),(0,i.jsx)(s.td,{children:"Any replica can handle any request"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Easy Load Balancing"})}),(0,i.jsx)(s.td,{children:"Load balancer can send traffic to any instance"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Scales Horizontally"})}),(0,i.jsx)(s.td,{children:"Add more replicas to handle more traffic"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Resilient to Failures"})}),(0,i.jsx)(s.td,{children:"If one replica fails, another picks up seamlessly"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"stateless-replication-architecture",children:"Stateless Replication Architecture"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"                +--------------------+\r\n                |   Load Balancer    |\r\n                +--------+-----------+\r\n                         |\r\n         +---------------+---------------+\r\n         |               |               |\r\n  +-------------+  +-------------+  +-------------+\r\n  |  Replica 1  |  |  Replica 2  |  |  Replica 3  |\r\n  | (Stateless) |  | (Stateless) |  | (Stateless) |\r\n  +-------------+  +-------------+  +-------------+\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"All replicas run the same stateless service."}),"\n",(0,i.jsx)(s.li,{children:"Load is evenly distributed among them."}),"\n",(0,i.jsx)(s.li,{children:"Any replica can start/stop/restart without losing state."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"example-of-stateless-replication",children:"Example of Stateless Replication"}),"\n",(0,i.jsx)(s.h3,{id:"scenario-e-commerce-frontend-api",children:"Scenario: E-commerce Frontend API"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The frontend API is stateless: it processes HTTP requests like \u201cview product,\u201d \u201csearch,\u201d etc."}),"\n",(0,i.jsx)(s.li,{children:"It doesn\u2019t store session data locally \u2013 instead, it stores sessions in Redis or uses JWT tokens for authentication."}),"\n",(0,i.jsx)(s.li,{children:"Requests come through a load balancer (like AWS ELB or NGINX)."}),"\n",(0,i.jsx)(s.li,{children:"The app runs on 3 stateless container replicas (e.g., Docker containers on Kubernetes)."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"request-flow",children:"Request Flow"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"User logs in \u2192 receives a JWT token."}),"\n",(0,i.jsxs)(s.li,{children:["The browser sends a request: ",(0,i.jsx)(s.code,{children:"GET /products?category=shoes"})]}),"\n",(0,i.jsx)(s.li,{children:"Load balancer routes the request to any replica."}),"\n",(0,i.jsx)(s.li,{children:"The replica processes the request, fetches data from the database, and responds."}),"\n",(0,i.jsx)(s.li,{children:"No session state is stored in the replica."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"benefits",children:"Benefits"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"If Replica 2 goes down, others handle the load."}),"\n",(0,i.jsx)(s.li,{children:"You can scale up to 10+ replicas during Black Friday sales."}),"\n",(0,i.jsx)(s.li,{children:"Easy to do rolling deployments with zero downtime"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"stateless-vs-stateful-replication",children:"Stateless vs Stateful Replication"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Aspect"}),(0,i.jsx)(s.th,{children:"Stateless Replication"}),(0,i.jsx)(s.th,{children:"Stateful Replication"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"State Storage"})}),(0,i.jsx)(s.td,{children:"No local state (external store or none)"}),(0,i.jsx)(s.td,{children:"State is kept inside the component"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Scalability"})}),(0,i.jsx)(s.td,{children:"Easy (add more replicas freely)"}),(0,i.jsx)(s.td,{children:"Harder (must synchronize state across replicas)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Example"})}),(0,i.jsx)(s.td,{children:"Web frontend, REST APIs, authentication services"}),(0,i.jsx)(s.td,{children:"Database nodes, shopping cart sessions"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Failure Impact"})}),(0,i.jsx)(s.td,{children:"Minimal (just redirect traffic)"}),(0,i.jsx)(s.td,{children:"Can cause data loss or failover complexity"})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,s,t){t.d(s,{R:()=>r,x:()=>a});var n=t(96540);const i={},l=n.createContext(i);function r(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);