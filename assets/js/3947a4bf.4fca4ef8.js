"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[1011],{28453(e,i,t){t.d(i,{R:()=>c,x:()=>o});var n=t(96540);const s={},r=n.createContext(s);function c(e){const i=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(r.Provider,{value:i},e.children)}},43710(e,i,t){t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>a,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"git/Revert","title":"Revert","description":"It is used to undo the changes introduced by a specific commit by creating a new commit that reverses those changes. Unlike git reset, which can alter commit history, git revert is safe for public repositories and works by adding a new commit that undoes the effect of an earlier commit, leaving the history intact.","source":"@site/docs/git/12. Revert.md","sourceDirName":"git","slug":"/git/Revert","permalink":"/handbook/docs/git/Revert","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"title":"Revert","sidebar_position":13},"sidebar":"gitSidebar","previous":{"title":"Reset","permalink":"/handbook/docs/git/Reset"}}');var s=t(74848),r=t(28453);const c={title:"Revert",sidebar_position:13},o=void 0,d={},l=[{value:"Why Use git revert?",id:"why-use-git-revert",level:2},{value:"Example",id:"example",level:2},{value:"Steps",id:"steps",level:3},{value:"1. Revert a Single Commit",id:"1-revert-a-single-commit",level:4},{value:"2. Revert with Conflict Resolution",id:"2-revert-with-conflict-resolution",level:4},{value:"3. Revert Multiple Commits",id:"3-revert-multiple-commits",level:4},{value:"Revert and Skip Commit (if needed)",id:"revert-and-skip-commit-if-needed",level:4},{value:"Commands",id:"commands",level:2},{value:"<code>git revert</code> VS <code>git reset</code>",id:"git-revert-vs-git-reset",level:2}];function h(e){const i={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["It is used to undo the changes introduced by a specific commit by creating a new commit that reverses those changes. Unlike ",(0,s.jsx)(i.code,{children:"git reset"}),", which can alter commit history, ",(0,s.jsx)(i.code,{children:"git revert"})," is safe for public repositories and works by adding a new commit that undoes the effect of an earlier commit, leaving the history intact."]}),"\n",(0,s.jsx)(i.h2,{id:"why-use-git-revert",children:"Why Use git revert?"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Preserve history:"})," It doesn\u2019t rewrite history, unlike git reset. Instead, it creates a new commit that effectively undoes previous changes."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Safe for shared branches:"})," Since it doesn\u2019t alter the commit history, it is useful when working on shared branches with others."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Granular undoing:"})," You can undo specific commits in a branch without affecting others."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(i.p,{children:["Let\u2019s assume you have the following commit history in your ",(0,s.jsx)(i.code,{children:"main"})," branch:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"A --- B --- C --- D  (main)\n"})}),"\n",(0,s.jsx)(i.p,{children:"Where:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"A \u2192 B \u2192 C \u2192 D"})," are commits in the history."]}),"\n",(0,s.jsxs)(i.li,{children:["Commit ",(0,s.jsx)(i.code,{children:"D"})," has a bug that you need to undo."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["Now, instead of resetting to ",(0,s.jsx)(i.code,{children:"C"})," and rewriting history, you can revert commit ",(0,s.jsx)(i.code,{children:"D"})," to create a new commit that undoes the changes in ",(0,s.jsx)(i.code,{children:"D"}),"."]}),"\n",(0,s.jsx)(i.h3,{id:"steps",children:"Steps"}),"\n",(0,s.jsx)(i.h4,{id:"1-revert-a-single-commit",children:"1. Revert a Single Commit"}),"\n",(0,s.jsxs)(i.p,{children:["Suppose the commit hash of ",(0,s.jsx)(i.code,{children:"D"})," is ",(0,s.jsx)(i.code,{children:"abcd1234"}),". To revert the changes in commit ",(0,s.jsx)(i.code,{children:"D"}),", you run:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"git revert abcd1234\n"})}),"\n",(0,s.jsx)(i.p,{children:"What happens now:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Git creates a new commit (",(0,s.jsx)(i.code,{children:"E"}),") that undoes the changes introduced by ",(0,s.jsx)(i.code,{children:"D"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Your new commit history will look like this:"}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"A --- B --- C --- D --- E  (main)\n"})}),"\n",(0,s.jsx)(i.p,{children:"Where:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"E"})," is the new commit that undoes the changes made in ",(0,s.jsx)(i.code,{children:"D"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"2-revert-with-conflict-resolution",children:"2. Revert with Conflict Resolution"}),"\n",(0,s.jsxs)(i.p,{children:["Sometimes, reverting a commit can cause conflicts (e.g., if the changes in ",(0,s.jsx)(i.code,{children:"D"})," conflict with the code in later commits). Git will prompt you to resolve the conflicts manually:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Resolve the conflicts in the conflicted files."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Stage the resolved files:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"git add <file1> <file2>\n"})}),"\n",(0,s.jsxs)(i.ol,{start:"3",children:["\n",(0,s.jsx)(i.li,{children:"Complete the revert process:"}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"git add <file1> <file2>\n"})}),"\n",(0,s.jsx)(i.h4,{id:"3-revert-multiple-commits",children:"3. Revert Multiple Commits"}),"\n",(0,s.jsxs)(i.p,{children:["To revert multiple commits, you can use a range of commits. For example, if you want to revert commits ",(0,s.jsx)(i.code,{children:"C"})," and ",(0,s.jsx)(i.code,{children:"D"}),":"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"git revert C^..D\n"})}),"\n",(0,s.jsxs)(i.p,{children:["This will revert all changes from commit ",(0,s.jsx)(i.code,{children:"C"})," through ",(0,s.jsx)(i.code,{children:"D"})," inclusively."]}),"\n",(0,s.jsx)(i.h4,{id:"revert-and-skip-commit-if-needed",children:"Revert and Skip Commit (if needed)"}),"\n",(0,s.jsxs)(i.p,{children:["If you don't want to revert a specific commit in the middle of a series of commits, you can use the ",(0,s.jsx)(i.code,{children:"--skip"})," option:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"git revert --skip\n"})}),"\n",(0,s.jsx)(i.p,{children:"This will skip over a problematic commit during the revert process, leaving it unchanged."}),"\n",(0,s.jsx)(i.h2,{id:"commands",children:"Commands"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert <commit>"})," \u2013 Creates a new commit that undoes the changes from the specified commit."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert HEAD"})," \u2013 Reverts the latest commit."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert HEAD~n"})," \u2013 Reverts the commit that is n commits before the latest commit."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert --no-commit <commit> (-n)"})," \u2013 Applies changes from the commit but does not create a new commit."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert --no-edit <commit>"})," \u2013 Reverts a commit without opening the commit message editor."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert --continue"})," \u2013 Continues the revert process after resolving conflicts."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert --abort"})," \u2013 Aborts the revert operation if conflicts arise."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"git revert -m <parent-number> <merge-commit>"})," \u2013 Reverts a merge commit by specifying which parent to keep."]}),"\n"]}),"\n",(0,s.jsxs)(i.h2,{id:"git-revert-vs-git-reset",children:[(0,s.jsx)(i.code,{children:"git revert"})," VS ",(0,s.jsx)(i.code,{children:"git reset"})]}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Feature"}),(0,s.jsx)(i.th,{children:(0,s.jsx)(i.code,{children:"git revert"})}),(0,s.jsx)(i.th,{children:(0,s.jsx)(i.code,{children:"git reset"})})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"History"})}),(0,s.jsx)(i.td,{children:"Adds a new commit that undoes changes"}),(0,s.jsx)(i.td,{children:"Removes commits or changes the history"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Commit History"})}),(0,s.jsx)(i.td,{children:"Leaves commit history unchanged"}),(0,s.jsxs)(i.td,{children:["Rewrites history (may require ",(0,s.jsx)(i.code,{children:"--force"}),")"]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Use Case"})}),(0,s.jsx)(i.td,{children:"Undo a commit safely (on public branches)"}),(0,s.jsx)(i.td,{children:"Undo recent commits locally"})]})]})]})]})}function a(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);