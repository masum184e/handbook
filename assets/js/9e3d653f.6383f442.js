"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[79312],{17047(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"system-design/TCP","title":"TCP","description":"TCP (Transmission Control Protocol) is a reliable, connection-oriented protocol in the transport layer of the OSI model (Layer 4) and Internet Protocol Suite (TCP/IP stack). It enables reliable communication between two endpoints (e.g., client and server) over an unreliable network like the Internet.","source":"@site/docs/system-design/14. TCP.md","sourceDirName":"system-design","slug":"/system-design/TCP","permalink":"/handbook/docs/system-design/TCP","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15},"sidebar":"systemDesignSidebar","previous":{"title":"Throughput","permalink":"/handbook/docs/system-design/Throughput"},"next":{"title":"TCP Handshake","permalink":"/handbook/docs/system-design/TCP Handshake"}}');var t=s(74848),i=s(28453);const o={sidebar_position:15},l=void 0,d={},c=[{value:"Features of TCP",id:"features-of-tcp",level:2},{value:"How TCP Works",id:"how-tcp-works",level:2},{value:"Example Architecture Using TCP",id:"example-architecture-using-tcp",level:2},{value:"Example of TCP with Node.js",id:"example-of-tcp-with-nodejs",level:2},{value:"When to Use TCP in System Design",id:"when-to-use-tcp-in-system-design",level:2},{value:"Advantages &amp; Disadvantages of TCP",id:"advantages--disadvantages-of-tcp",level:2}];function a(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"TCP (Transmission Control Protocol) is a reliable, connection-oriented protocol in the transport layer of the OSI model (Layer 4) and Internet Protocol Suite (TCP/IP stack). It enables reliable communication between two endpoints (e.g., client and server) over an unreliable network like the Internet."}),"\n",(0,t.jsx)(n.h2,{id:"features-of-tcp",children:"Features of TCP"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Connection-oriented"})}),(0,t.jsx)(n.td,{children:"TCP establishes a connection using a 3-way handshake (SYN \u2192 SYN-ACK \u2192 ACK) before sending data."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Reliable delivery"})}),(0,t.jsx)(n.td,{children:"Guarantees all packets are delivered in order and without corruption (using acknowledgments and retransmissions)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Error checking"})}),(0,t.jsx)(n.td,{children:"Uses checksums to detect errors in data transmission."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Flow control"})}),(0,t.jsxs)(n.td,{children:["Uses ",(0,t.jsx)(n.strong,{children:"sliding window protocol"})," to prevent overwhelming the receiver."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Congestion control"})}),(0,t.jsxs)(n.td,{children:["Avoids network congestion via algorithms like ",(0,t.jsx)(n.strong,{children:"TCP Tahoe, Reno, Cubic"}),", etc."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Stream-oriented"})}),(0,t.jsx)(n.td,{children:"Treats data as a continuous stream (not message-based like UDP)."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"how-tcp-works",children:"How TCP Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Client sends a request to server (e.g., HTTP over TCP)."}),"\n",(0,t.jsx)(n.li,{children:"TCP handshake ensures both sides are ready to communicate."}),"\n",(0,t.jsx)(n.li,{children:"Data is split into segments, numbered, and sent."}),"\n",(0,t.jsx)(n.li,{children:"Receiver acknowledges each received packet."}),"\n",(0,t.jsx)(n.li,{children:"Missing packets are retransmitted."}),"\n",(0,t.jsx)(n.li,{children:"Connection is gracefully closed using FIN-ACK sequence."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"example-architecture-using-tcp",children:"Example Architecture Using TCP"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Scenario:"})}),"\n",(0,t.jsx)(n.p,{children:"You\u2019re designing a basic web system:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Frontend (React/Browser)"}),"\n",(0,t.jsx)(n.li,{children:"Backend API (Node.js)"}),"\n",(0,t.jsx)(n.li,{children:"Database (PostgreSQL)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"All these components use TCP under the hood."}),"\n",(0,t.jsx)(n.p,{children:"System Design Diagram (simplified):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"[Client Browser]\r\n     |\r\n     |  HTTP over TCP\r\n     v\r\n[Node.js Backend]\r\n     |\r\n     |  TCP (pg driver)\r\n     v\r\n[PostgreSQL DB]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Client \u2194 Backend (HTTP over TCP):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The browser opens a TCP connection to the server (e.g., port 443 for HTTPS)."}),"\n",(0,t.jsx)(n.li,{children:"TCP ensures the request and response are delivered reliably."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Backend \u2194 Database (TCP Socket):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The backend uses a TCP connection to communicate with the database."}),"\n",(0,t.jsx)(n.li,{children:"The Node.js pg driver uses TCP to send SQL queries and receive results."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Reliability is critical. If any packets are dropped (common on WiFi or mobile), TCP retransmits them without your app needing to handle it manually."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"example-of-tcp-with-nodejs",children:"Example of TCP with Node.js"}),"\n",(0,t.jsx)(n.p,{children:"TCP Server (Node.js)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const net = require("net");\r\n\r\nconst server = net.createServer((socket) => {\r\n  console.log("Client connected");\r\n\r\n  socket.on("data", (data) => {\r\n    console.log(`Received: ${data}`);\r\n    socket.write("Hello from server!");\r\n  });\r\n\r\n  socket.on("end", () => {\r\n    console.log("Client disconnected");\r\n  });\r\n});\r\n\r\nserver.listen(3000, () => {\r\n  console.log("TCP server listening on port 3000");\r\n});\n'})}),"\n",(0,t.jsx)(n.p,{children:"TCP Client (Node.js)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const net = require("net");\r\n\r\nconst client = net.createConnection({ port: 3000 }, () => {\r\n  console.log("Connected to server");\r\n  client.write("Hello from client!");\r\n});\r\n\r\nclient.on("data", (data) => {\r\n  console.log(`Server says: ${data}`);\r\n  client.end();\r\n});\r\n\r\nclient.on("end", () => {\r\n  console.log("Disconnected from server");\r\n});\n'})}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-tcp-in-system-design",children:"When to Use TCP in System Design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Web apps (HTTP, HTTPS)"}),"\n",(0,t.jsx)(n.li,{children:"Database connections"}),"\n",(0,t.jsx)(n.li,{children:"Microservice communication via HTTP/gRPC"}),"\n",(0,t.jsx)(n.li,{children:"File transfer protocols (FTP, SFTP)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"advantages--disadvantages-of-tcp",children:"Advantages & Disadvantages of TCP"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Advantage"}),(0,t.jsx)(n.th,{children:"Disadvantage"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Reliable & ordered delivery"}),(0,t.jsx)(n.td,{children:"Slower than UDP due to overhead"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Built-in congestion & flow control"}),(0,t.jsx)(n.td,{children:"More complex than connectionless protocols"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Suited for critical apps (e.g., web, DB)"}),(0,t.jsx)(n.td,{children:"Not ideal for low-latency needs (e.g., gaming, streaming)"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453(e,n,s){s.d(n,{R:()=>o,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);