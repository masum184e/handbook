"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[44311],{28453(e,r,s){s.d(r,{R:()=>c,x:()=>l});var n=s(96540);const t={},i=n.createContext(t);function c(e){const r=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(i.Provider,{value:r},e.children)}},71603(e,r,s){s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>o,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"rust/Data Structure/Structs","title":"Structs","description":"A struct (short for structure) is a custom data type that lets you group related data together under one name, with named fields.","source":"@site/docs/rust/11. Data Structure/6. Structs.md","sourceDirName":"rust/11. Data Structure","slug":"/rust/Data Structure/Structs","permalink":"/handbook/docs/rust/Data Structure/Structs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{}}');var t=s(74848),i=s(28453);const c={},l=void 0,d={},a=[{value:"Key Characteristics of Structs",id:"key-characteristics-of-structs",level:2},{value:"Creating Struct Instances",id:"creating-struct-instances",level:2},{value:"Mutable Struct",id:"mutable-struct",level:3},{value:"Accessing Struct Fields",id:"accessing-struct-fields",level:2},{value:"Struct Update Syntax",id:"struct-update-syntax",level:2},{value:"Functions Using Structs",id:"functions-using-structs",level:2},{value:"Passing Structs (Borrowing)",id:"passing-structs-borrowing",level:3},{value:"Returning Structs",id:"returning-structs",level:3},{value:"Methods and impl Blocks",id:"methods-and-impl-blocks",level:2},{value:"Associated Functions (Like Constructors)",id:"associated-functions-like-constructors",level:3},{value:"Tuple Structs",id:"tuple-structs",level:2},{value:"Unit-Like Structs",id:"unit-like-structs",level:2},{value:"Structs vs Tuples",id:"structs-vs-tuples",level:2},{value:"Ownership and Struct Fields",id:"ownership-and-struct-fields",level:2},{value:"Structs with References (Lifetimes)",id:"structs-with-references-lifetimes",level:2}];function u(e){const r={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"A struct (short for structure) is a custom data type that lets you group related data together under one name, with named fields."}),"\n",(0,t.jsx)(r.p,{children:"Think of a struct as:"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"A blueprint for an object (without OOP inheritance)"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"struct User {\r\n    username: String,\r\n    email: String,\r\n    age: u32,\r\n}\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"User"})," \u2192 struct name"]}),"\n",(0,t.jsx)(r.li,{children:"Fields have names and types"}),"\n",(0,t.jsx)(r.li,{children:"Groups logically related data"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"key-characteristics-of-structs",children:"Key Characteristics of Structs"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Feature"}),(0,t.jsx)(r.th,{children:"Struct"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Fields"}),(0,t.jsx)(r.td,{children:"Named"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Types"}),(0,t.jsx)(r.td,{children:"Can be different"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Size"}),(0,t.jsx)(r.td,{children:"Fixed"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Ownership"}),(0,t.jsx)(r.td,{children:"Owns its data"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Mutability"}),(0,t.jsx)(r.td,{children:"Optional"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Memory"}),(0,t.jsx)(r.td,{children:"Stack (by default)"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"creating-struct-instances",children:"Creating Struct Instances"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'let user1 = User {\r\n    username: String::from("alice"),\r\n    email: String::from("alice@example.com"),\r\n    age: 25,\r\n};\n'})}),"\n",(0,t.jsx)(r.h3,{id:"mutable-struct",children:"Mutable Struct"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'let mut user2 = User {\r\n    username: String::from("bob"),\r\n    email: String::from("bob@example.com"),\r\n    age: 30,\r\n};\r\n\r\nuser2.age = 31;\n'})}),"\n",(0,t.jsxs)(r.p,{children:["\ud83d\udccc Entire instance must be ",(0,t.jsx)(r.code,{children:"mut"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"accessing-struct-fields",children:"Accessing Struct Fields"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'println!("{}", user1.username);\r\nprintln!("{}", user1.age);\n'})}),"\n",(0,t.jsxs)(r.p,{children:["Dot (",(0,t.jsx)(r.code,{children:"."}),") notation."]}),"\n",(0,t.jsx)(r.h2,{id:"struct-update-syntax",children:"Struct Update Syntax"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'let user3 = User {\r\n    username: String::from("charlie"),\r\n    ..user1\r\n};\n'})}),"\n",(0,t.jsxs)(r.p,{children:["Reuses remaining fields from ",(0,t.jsx)(r.code,{children:"user1"}),"."]}),"\n",(0,t.jsx)(r.p,{children:"Ownership note:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Fields like ",(0,t.jsx)(r.code,{children:"String"})," are moved"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"user1"})," may become partially unusable"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"functions-using-structs",children:"Functions Using Structs"}),"\n",(0,t.jsx)(r.h3,{id:"passing-structs-borrowing",children:"Passing Structs (Borrowing)"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'fn print_user(user: &User) {\r\n    println!("{} ({})", user.username, user.age);\r\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"Usage:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"print_user(&user2);\n"})}),"\n",(0,t.jsx)(r.h3,{id:"returning-structs",children:"Returning Structs"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"fn create_user(name: String, email: String) -> User {\r\n    User {\r\n        username: name,\r\n        email,\r\n        age: 18,\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(r.h2,{id:"methods-and-impl-blocks",children:"Methods and impl Blocks"}),"\n",(0,t.jsx)(r.p,{children:"Adding Methods to Structs"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'impl User {\r\n    fn greet(&self) {\r\n        println!("Hello, {}", self.username);\r\n    }\r\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"Usage:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"user2.greet();\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"&self"})," borrows the instance."]}),"\n",(0,t.jsx)(r.h3,{id:"associated-functions-like-constructors",children:"Associated Functions (Like Constructors)"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"impl User {\r\n    fn new(username: String, email: String) -> User {\r\n        User {\r\n            username,\r\n            email,\r\n            age: 0,\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(r.p,{children:"Usage:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'let user = User::new(\r\n    String::from("dave"),\r\n    String::from("dave@example.com"),\r\n);\n'})}),"\n",(0,t.jsx)(r.h2,{id:"tuple-structs",children:"Tuple Structs"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"struct Color(u8, u8, u8);\n"})}),"\n",(0,t.jsx)(r.p,{children:"Usage:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"let red = Color(255, 0, 0);\n"})}),"\n",(0,t.jsx)(r.p,{children:"Access:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'println!("{}", red.0);\n'})}),"\n",(0,t.jsx)(r.p,{children:"Like tuples but with a name."}),"\n",(0,t.jsx)(r.h2,{id:"unit-like-structs",children:"Unit-Like Structs"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"struct Marker;\n"})}),"\n",(0,t.jsx)(r.p,{children:"Used when:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"You need a type but no data"}),"\n",(0,t.jsx)(r.li,{children:"Marker traits or configurations"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"structs-vs-tuples",children:"Structs vs Tuples"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Feature"}),(0,t.jsx)(r.th,{children:"Struct"}),(0,t.jsx)(r.th,{children:"Tuple"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Field names"}),(0,t.jsx)(r.td,{children:"\u2705 Yes"}),(0,t.jsx)(r.td,{children:"\u274c No"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Readability"}),(0,t.jsx)(r.td,{children:"High"}),(0,t.jsx)(r.td,{children:"Low"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Best for"}),(0,t.jsx)(r.td,{children:"Complex data"}),(0,t.jsx)(r.td,{children:"Temporary grouping"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"ownership-and-struct-fields",children:"Ownership and Struct Fields"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'struct Book {\r\n    title: String,\r\n    pages: u32,\r\n}\r\n\r\nlet book1 = Book {\r\n    title: String::from("Rust Book"),\r\n    pages: 500,\r\n};\r\n\r\nlet book2 = book1;\r\n// book1 is no longer usable\n'})}),"\n",(0,t.jsx)(r.p,{children:"Struct follows ownership rules per field."}),"\n",(0,t.jsx)(r.h2,{id:"structs-with-references-lifetimes",children:"Structs with References (Lifetimes)"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"struct Article<'a> {\r\n    title: &'a str,\r\n    content: &'a str,\r\n}\n"})}),"\n",(0,t.jsx)(r.p,{children:"Used when struct does not own data."})]})}function o(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);