"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[13870],{28453(e,n,t){t.d(n,{R:()=>o,x:()=>a});var r=t(96540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},28550(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"rest-api-design/Integration Testing","title":"Integration Testing","description":"Integration testing verifies that multiple components of a REST API work together correctly as a complete system.","source":"@site/docs/rest-api-design/33. Integration Testing.md","sourceDirName":"rest-api-design","slug":"/rest-api-design/Integration Testing","permalink":"/handbook/docs/rest-api-design/Integration Testing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":35,"frontMatter":{"title":"Integration Testing","sidebar_position":35},"sidebar":"restApiSidebar","previous":{"title":"Unit Testing","permalink":"/handbook/docs/rest-api-design/Unit Testing"},"next":{"title":"API Monitoring","permalink":"/handbook/docs/rest-api-design/API Monitoring"}}');var s=t(74848),i=t(28453);const o={title:"Integration Testing",sidebar_position:35},a=void 0,d={},c=[{value:"What Should Be Tested in Integration Testing",id:"what-should-be-tested-in-integration-testing",level:2},{value:"Example Scenario",id:"example-scenario",level:2}];function l(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Integration testing verifies that multiple components of a REST API work together correctly as a complete system."}),"\n",(0,s.jsx)(n.h2,{id:"what-should-be-tested-in-integration-testing",children:"What Should Be Tested in Integration Testing"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Area"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Routing"}),(0,s.jsx)(n.td,{children:"Correct endpoint mapping"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Middleware"}),(0,s.jsx)(n.td,{children:"Auth, validation, logging"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Database"}),(0,s.jsx)(n.td,{children:"CRUD operations"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Error Handling"}),(0,s.jsx)(n.td,{children:"End-to-end error responses"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Serialization"}),(0,s.jsx)(n.td,{children:"JSON \u2194 object mapping"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"HTTP Contracts"}),(0,s.jsx)(n.td,{children:"Headers, status codes"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"example-scenario",children:"Example Scenario"}),"\n",(0,s.jsxs)(n.p,{children:["REST API Endpint: ",(0,s.jsx)(n.code,{children:"POST /api/users"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Flow Under Test"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"HTTP Request\r\n   \u2193\r\nController\r\n   \u2193\r\nValidation Middleware\r\n   \u2193\r\nService Layer\r\n   \u2193\r\nDatabase\r\n   \u2193\r\nHTTP Response\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Implementation Example"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// user.integration.test.js\r\nconst request = require('supertest');\r\nconst mongoose = require('mongoose');\r\nconst app = require('./app');\r\n\r\nbeforeAll(async () => {\r\n  await mongoose.connect('mongodb://localhost:27017/testdb');\r\n});\r\n\r\nafterAll(async () => {\r\n  await mongoose.connection.db.dropDatabase();\r\n  await mongoose.disconnect();\r\n});\r\n\r\ndescribe(\"POST /api/users\", () => {\r\n\r\n  it(\"should create a user in the database\", async () => {\r\n    const response = await request(app)\r\n      .post('/api/users')\r\n      .send({ name: \"Alice\", email: \"alice@test.com\" });\r\n\r\n    expect(response.statusCode).toBe(201);\r\n    expect(response.body.email).toBe(\"alice@test.com\");\r\n  });\r\n\r\n});\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);