"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[557],{7337(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"database-design/ACID Properties","title":"ACID Properties","description":"A transaction in a database is a single logical unit of work that can consist of one or multiple SQL operations (like INSERT, UPDATE, DELETE, SELECT). Transactions are crucial because they ensure data consistency and reliability, even in cases of system failures or concurrent access.","source":"@site/docs/database-design/17. ACID Properties.md","sourceDirName":"database-design","slug":"/database-design/ACID Properties","permalink":"/handbook/docs/database-design/ACID Properties","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"sidebar_position":18}}');var i=s(4848),a=s(8453);const r={sidebar_position:18},o=void 0,c={},l=[{value:"1. Atomicity (All or Nothing)",id:"1-atomicity-all-or-nothing",level:2},{value:"2. Consistency",id:"2-consistency",level:2},{value:"3. Isolation",id:"3-isolation",level:2},{value:"4. Durability",id:"4-durability",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["A transaction in a database is a single logical unit of work that can consist of one or multiple SQL operations (like ",(0,i.jsx)(n.code,{children:"INSERT"}),", ",(0,i.jsx)(n.code,{children:"UPDATE"}),", ",(0,i.jsx)(n.code,{children:"DELETE"}),", ",(0,i.jsx)(n.code,{children:"SELECT"}),"). Transactions are crucial because they ensure data consistency and reliability, even in cases of system failures or concurrent access."]}),"\n",(0,i.jsx)(n.p,{children:"The ACID acronym describes the key properties every reliable transaction must satisfy:"}),"\n",(0,i.jsx)(n.h2,{id:"1-atomicity-all-or-nothing",children:"1. Atomicity (All or Nothing)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Definition: A transaction must execute completely or not at all."}),"\n",(0,i.jsx)(n.li,{children:"If any operation in the transaction fails, the entire transaction is rolled back."}),"\n",(0,i.jsx)(n.li,{children:"Prevents partial updates that could corrupt data."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"BEGIN TRANSACTION;\r\n\r\nUPDATE accounts SET balance = balance - 500 WHERE account_id = 1;  -- Withdraw from A\r\nUPDATE accounts SET balance = balance + 500 WHERE account_id = 2;  -- Deposit to B\r\n\r\nCOMMIT;\n"})}),"\n",(0,i.jsx)(n.p,{children:"If the first update succeeds but the second fails (e.g., due to a crash), Atomicity ensures the whole transaction is rolled back, so account A is not debited without B being credited."}),"\n",(0,i.jsx)(n.h2,{id:"2-consistency",children:"2. Consistency"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Definition: A transaction should bring the database from one valid state to another valid state, preserving all defined rules, constraints, and relationships."}),"\n",(0,i.jsx)(n.li,{children:"Ensures that data integrity constraints (like foreign keys, unique constraints) are not violated."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If a transfer transaction tries to move money from account A (balance = 500) to B, and A doesn\u2019t have enough funds:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Withdraw 600 from A (only 500 available)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Consistency rules prevent A\u2019s balance from becoming -100 if negative balances are not allowed."}),"\n",(0,i.jsx)(n.h2,{id:"3-isolation",children:"3. Isolation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Definition: Transactions should execute independently without interference, even when run concurrently."}),"\n",(0,i.jsx)(n.li,{children:"Prevents problems like dirty reads, non-repeatable reads, and phantom reads."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.p,{children:"Two users perform operations simultaneously:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Transaction 1: Withdraws money from account A."}),"\n",(0,i.jsx)(n.li,{children:"Transaction 2: Reads account A\u2019s balance."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Depending on the isolation level (",(0,i.jsx)(n.code,{children:"READ COMMITTED"}),", ",(0,i.jsx)(n.code,{children:"REPEATABLE READ"}),", ",(0,i.jsx)(n.code,{children:"SERIALIZABLE"}),"), Transaction 2 may or may not see uncommitted changes.\r\nFor strong isolation, Transaction 2 only sees committed balances."]}),"\n",(0,i.jsx)(n.h2,{id:"4-durability",children:"4. Durability"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Definition: Once a transaction is committed, its changes are permanent, even if the system crashes afterward."}),"\n",(0,i.jsx)(n.li,{children:"Achieved by writing to persistent storage (transaction logs, database files)."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsxs)(n.p,{children:["If you successfully transfer money and the system crashes right after ",(0,i.jsx)(n.code,{children:"COMMIT"}),", the transaction log ensures that the change is still preserved when the system restarts."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>o});var t=s(6540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);