"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[91228],{28453(e,n,r){r.d(n,{R:()=>l,x:()=>t});var i=r(96540);const s={},d=i.createContext(s);function l(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(d.Provider,{value:n},e.children)}},40327(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"rest-api-design/Standard Error Format","title":"Standard Error Format","description":"What Is RFC 7807?","source":"@site/docs/rest-api-design/26. Standard Error Format.md","sourceDirName":"rest-api-design","slug":"/rest-api-design/Standard Error Format","permalink":"/handbook/docs/rest-api-design/Standard Error Format","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":27,"frontMatter":{"title":"Standard Error Format","sidebar_position":27},"sidebar":"restApiSidebar","previous":{"title":"Error Tracking","permalink":"/handbook/docs/rest-api-design/Error Tracking"},"next":{"title":"Swagger Specification","permalink":"/handbook/docs/rest-api-design/Swagger Specification"}}');var s=r(74848),d=r(28453);const l={title:"Standard Error Format",sidebar_position:27},t=void 0,a={},c=[{value:"What Is RFC 7807?",id:"what-is-rfc-7807",level:2},{value:"Why Use a Standard Error Format?",id:"why-use-a-standard-error-format",level:2},{value:"Core Fields Defined by RFC 7807",id:"core-fields-defined-by-rfc-7807",level:2},{value:"Meaning of Each Field (In Detail)",id:"meaning-of-each-field-in-detail",level:2},{value:"<code>type</code>",id:"type",level:3},{value:"<code>title</code>",id:"title",level:3},{value:"<code>status</code>",id:"status",level:3},{value:"<code>detail</code>",id:"detail",level:3},{value:"<code>instance</code>",id:"instance",level:3},{value:"Validation Error Example (RFC 7807)",id:"validation-error-example-rfc-7807",level:2},{value:"Extending RFC 7807 (Very Important)",id:"extending-rfc-7807-very-important",level:2},{value:"Authentication Error Example",id:"authentication-error-example",level:2},{value:"Resource Not Found Example",id:"resource-not-found-example",level:2},{value:"Client-Side Handling Example",id:"client-side-handling-example",level:2},{value:"RFC 7807 vs Custom Error Format",id:"rfc-7807-vs-custom-error-format",level:2}];function o(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"what-is-rfc-7807",children:"What Is RFC 7807?"}),"\n",(0,s.jsx)(n.p,{children:"RFC 7807 defines a standard, machine-readable format for HTTP API error responses."}),"\n",(0,s.jsx)(n.p,{children:"Instead of every API inventing its own error structure, RFC 7807 provides a consistent and interoperable way to describe problems that occur while processing requests."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Official Name:"})," Problem Details for HTTP APIs"]}),"\n",(0,s.jsx)(n.p,{children:"Media Type"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Content-Type: application/problem+json\n"})}),"\n",(0,s.jsx)(n.h2,{id:"why-use-a-standard-error-format",children:"Why Use a Standard Error Format?"}),"\n",(0,s.jsx)(n.p,{children:"Problems Without a Standard"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Every API returns errors differently"}),"\n",(0,s.jsx)(n.li,{children:"Clients must write custom parsing logic"}),"\n",(0,s.jsx)(n.li,{children:"Inconsistent error handling across services"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Benefits of RFC 7807"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Consistency across APIs"}),"\n",(0,s.jsx)(n.li,{children:"Machine-readable and human-readable"}),"\n",(0,s.jsx)(n.li,{children:"Standardized semantics"}),"\n",(0,s.jsx)(n.li,{children:"Extensible"}),"\n",(0,s.jsx)(n.li,{children:"Widely adopted (Spring, ASP.NET, FastAPI, etc.)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"core-fields-defined-by-rfc-7807",children:"Core Fields Defined by RFC 7807"}),"\n",(0,s.jsx)(n.p,{children:"RFC 7807 defines five standard fields."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Required"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"type"})}),(0,s.jsx)(n.td,{children:"URI"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Identifies the problem type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"title"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Short, human-readable summary"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"status"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"HTTP status code"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"detail"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Human-readable explanation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"instance"})}),(0,s.jsx)(n.td,{children:"URI"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Specific occurrence of the problem"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Minimal Valid Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "title": "Bad Request",\r\n  "status": 400\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"meaning-of-each-field-in-detail",children:"Meaning of Each Field (In Detail)"}),"\n",(0,s.jsx)(n.h3,{id:"type",children:(0,s.jsx)(n.code,{children:"type"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A URI identifier for the error category"}),"\n",(0,s.jsx)(n.li,{children:"Should be stable and documented"}),"\n",(0,s.jsxs)(n.li,{children:["Can be:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A URL pointing to documentation"}),"\n",(0,s.jsx)(n.li,{children:"A URN"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Defaults to ",(0,s.jsx)(n.code,{children:'"about:blank"'})," if omitted"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"type": "https://api.example.com/errors/validation-error"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Clients can use this field to programmatically identify errors."}),"\n",(0,s.jsx)(n.h3,{id:"title",children:(0,s.jsx)(n.code,{children:"title"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Short, generic summary"}),"\n",(0,s.jsx)(n.li,{children:"Should NOT change per occurrence"}),"\n",(0,s.jsx)(n.li,{children:"Similar to an exception name"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"title": "Validation Error"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"status",children:(0,s.jsx)(n.code,{children:"status"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"HTTP status code (duplicated in body for convenience)"}),"\n",(0,s.jsx)(n.li,{children:"Helps when response metadata is lost (e.g., logs)"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"status": 422\n'})}),"\n",(0,s.jsx)(n.h3,{id:"detail",children:(0,s.jsx)(n.code,{children:"detail"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Human-readable explanation of the specific issue"}),"\n",(0,s.jsx)(n.li,{children:"May vary per request"}),"\n",(0,s.jsx)(n.li,{children:"Should be safe (no internal details)"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"detail": "The email field must contain a valid email address."\n'})}),"\n",(0,s.jsx)(n.h3,{id:"instance",children:(0,s.jsx)(n.code,{children:"instance"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"URI identifying the specific error occurrence"}),"\n",(0,s.jsx)(n.li,{children:"Often maps to request path or request ID"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"instance": "/users/123"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"validation-error-example-rfc-7807",children:"Validation Error Example (RFC 7807)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scenario:"})," Client submits invalid data while creating a user."]}),"\n",(0,s.jsx)(n.p,{children:"Request"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"POST /users\r\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "username": "",\r\n  "email": "invalid-email",\r\n  "age": 15\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"HTTP/1.1 422 Unprocessable Entity\r\nContent-Type: application/problem+json\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "type": "https://api.example.com/problems/validation-error",\r\n  "title": "Validation Error",\r\n  "status": 422,\r\n  "detail": "One or more fields failed validation",\r\n  "instance": "/users",\r\n  "errors": [\r\n    {\r\n      "field": "username",\r\n      "message": "Must not be empty"\r\n    },\r\n    {\r\n      "field": "email",\r\n      "message": "Invalid email format"\r\n    },\r\n    {\r\n      "field": "age",\r\n      "message": "Must be at least 18"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Fields ",(0,s.jsx)(n.code,{children:"type"}),", ",(0,s.jsx)(n.code,{children:"title"}),", ",(0,s.jsx)(n.code,{children:"status"}),", ",(0,s.jsx)(n.code,{children:"detail"}),", ",(0,s.jsx)(n.code,{children:"instance"})," \u2192 RFC 7807 standard"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"errors"})," \u2192 custom extension"]}),"\n",(0,s.jsx)(n.li,{children:"Extensions are allowed as long as they don\u2019t conflict with standard fields"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"extending-rfc-7807-very-important",children:"Extending RFC 7807 (Very Important)"}),"\n",(0,s.jsx)(n.p,{children:"RFC 7807 is designed to be extended."}),"\n",(0,s.jsx)(n.p,{children:"Rules for Extensions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Field names must not conflict with standard fields"}),"\n",(0,s.jsx)(n.li,{children:"Extensions should be documented"}),"\n",(0,s.jsx)(n.li,{children:"Keep them consistent across API"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Common Extensions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "errors": [],\r\n  "timestamp": "2026-01-09T10:15:30Z",\r\n  "requestId": "abc-123",\r\n  "errorCode": "VALIDATION_ERROR"\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"authentication-error-example",children:"Authentication Error Example"}),"\n",(0,s.jsx)(n.p,{children:"Missing Token"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"HTTP/1.1 401 Unauthorized\r\nContent-Type: application/problem+json\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "type": "https://api.example.com/problems/authentication-required",\r\n  "title": "Authentication Required",\r\n  "status": 401,\r\n  "detail": "Authorization header is missing or invalid",\r\n  "instance": "/orders"\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clear semantic meaning"}),"\n",(0,s.jsx)(n.li,{children:"Safe error detail"}),"\n",(0,s.jsx)(n.li,{children:"Standard format reused"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resource-not-found-example",children:"Resource Not Found Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"HTTP/1.1 404 Not Found\r\nContent-Type: application/problem+json\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "type": "https://api.example.com/problems/resource-not-found",\r\n  "title": "Resource Not Found",\r\n  "status": 404,\r\n  "detail": "User with ID 9999 does not exist",\r\n  "instance": "/users/9999"\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"client-side-handling-example",children:"Client-Side Handling Example"}),"\n",(0,s.jsx)(n.p,{children:"Why Clients Love RFC 7807"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'if (response.status === 422) {\r\n  if (problem.type.endsWith("validation-error")) {\r\n    displayFieldErrors(problem.errors);\r\n  }\r\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Clients rely on ",(0,s.jsx)(n.code,{children:"type"}),", not message text"]}),"\n",(0,s.jsx)(n.li,{children:"Messages can be localized later"}),"\n",(0,s.jsx)(n.li,{children:"Less brittle error handling"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"rfc-7807-vs-custom-error-format",children:"RFC 7807 vs Custom Error Format"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Aspect"}),(0,s.jsx)(n.th,{children:"RFC 7807"}),(0,s.jsx)(n.th,{children:"Custom"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Standardized"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Interoperable"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Extensible"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Learning curve"}),(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"Medium"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tool support"}),(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"Low"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);