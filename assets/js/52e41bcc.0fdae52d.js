"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[6794],{20436(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"javascript/Browser Execution/Babel","title":"Babel","description":"Why Babel Is Needed","source":"@site/docs/javascript/Browser Execution/3. Babel.md","sourceDirName":"javascript/Browser Execution","slug":"/javascript/Browser Execution/Babel","permalink":"/handbook/docs/javascript/Browser Execution/Babel","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"javascriptSidebar","previous":{"title":"Script Handling","permalink":"/handbook/docs/javascript/Browser Execution/Script Handling"},"next":{"title":"Bundler","permalink":"/handbook/docs/javascript/Browser Execution/Bundler"}}');var i=r(74848),l=r(28453);const a={},t=void 0,o={},c=[{value:"Why Babel Is Needed",id:"why-babel-is-needed",level:2},{value:"Without Babel",id:"without-babel",level:3},{value:"With Babel (After Transpilation)",id:"with-babel-after-transpilation",level:3},{value:"What Is Babel",id:"what-is-babel",level:2},{value:"Installation",id:"installation",level:2},{value:"Babel Presets &amp; Plugins",id:"babel-presets--plugins",level:2},{value:"How Babel Works",id:"how-babel-works",level:2},{value:"1. Parsing (Code \u2192 AST)",id:"1-parsing-code--ast",level:3},{value:"1. Lexical Analysis (Tokenization)",id:"1-lexical-analysis-tokenization",level:4},{value:"2. Syntactic Analysis",id:"2-syntactic-analysis",level:4},{value:"2. Transforming (AST \u2192 Modified AST)",id:"2-transforming-ast--modified-ast",level:3},{value:"Example Transformation",id:"example-transformation",level:4},{value:"3. Code Generation (Modified AST \u2192 Code)",id:"3-code-generation-modified-ast--code",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"why-babel-is-needed",children:"Why Babel Is Needed"}),"\n",(0,i.jsx)(n.p,{children:"Imagine you're targeting both modern browsers and Internet Explorer (which doesn't support ES6 or modern features)"}),"\n",(0,i.jsx)(n.h3,{id:"without-babel",children:"Without Babel"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script>\r\n  const greet = (name) => `Hello, ${name}`;\r\n  console.log(greet("Alice"));\r\n<\/script>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Modern browsers: It will run just fine."}),"\n",(0,i.jsx)(n.li,{children:"IE 11: Throws an error because it doesn\u2019t recognize arrow functions."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"with-babel-after-transpilation",children:"With Babel (After Transpilation)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script>\r\n  var greet = function greet(name) {\r\n    return "Hello, " + name;\r\n  };\r\n  console.log(greet("Alice"));\r\n<\/script>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Modern browsers: It still works perfectly (Babel just ensures compatibility)."}),"\n",(0,i.jsx)(n.li,{children:"IE 11: It runs without errors because Babel has converted the arrow function into a regular function."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"what-is-babel",children:"What Is Babel"}),"\n",(0,i.jsx)(n.p,{children:"Babel is a JavaScript compiler (transpiler) that allows developers to write modern JavaScript (ES6+ or newer) and convert it into older versions (like ES5) so that it can run in environments (like older browsers or Node.js versions) that don\u2019t yet support the latest features."}),"\n",(0,i.jsx)(n.p,{children:'Think of Babel as a translator that takes your "new language" (modern JavaScript) and converts it into an "old language" (JavaScript that all browsers understand).'}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install Babel"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm init -y\r\nnpm install --save-dev @babel/core @babel/cli @babel/preset-env\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create Babel config file (",(0,i.jsx)(n.code,{children:"babel.config.json"}),")"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "presets": ["@babel/preset-env"]\r\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run Babel"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx babel js/src --out-dir js/dist\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This compiles all files from ",(0,i.jsx)(n.code,{children:"src/"})," to ",(0,i.jsx)(n.code,{children:"dist/"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"babel-presets--plugins",children:"Babel Presets & Plugins"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Presets = groups of plugins.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"@babel/preset-env \u2013 Transpile ES6+"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"@babel/preset-react \u2013 For JSX (React)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"@babel/preset-typescript \u2013 For TypeScript"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Plugins = individual transformations.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"@babel/plugin-proposal-optional-chaining"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"@babel/plugin-transform-arrow-functions"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"how-babel-works",children:"How Babel Works"}),"\n",(0,i.jsx)(n.p,{children:"When you run Babel on a file, it goes through three main phases:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Parsing (Code \u2192 AST)"}),"\n",(0,i.jsx)(n.li,{children:"Transforming (AST \u2192 Modified AST)"}),"\n",(0,i.jsx)(n.li,{children:"Code Generation (Modified AST \u2192 Code)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This pipeline is very similar to how compilers work, but Babel is a transpiler (source-to-source compiler)."}),"\n",(0,i.jsx)(n.h3,{id:"1-parsing-code--ast",children:"1. Parsing (Code \u2192 AST)"}),"\n",(0,i.jsx)(n.p,{children:"Parsing happens in two sub-steps:"}),"\n",(0,i.jsx)(n.h4,{id:"1-lexical-analysis-tokenization",children:"1. Lexical Analysis (Tokenization)"}),"\n",(0,i.jsxs)(n.p,{children:["The input JavaScript code is split into tokens (smallest units like ",(0,i.jsx)(n.code,{children:"const"}),", ",(0,i.jsx)(n.code,{children:"="}),", ",(0,i.jsx)(n.code,{children:"("}),", ",(0,i.jsx)(n.code,{children:")"}),", ",(0,i.jsx)(n.code,{children:"{"}),", ",(0,i.jsx)(n.code,{children:"}"}),")."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const firstName = "Masum";\r\nconst lastName = "Billah";\n'})}),"\n",(0,i.jsx)(n.p,{children:"Tokens might look like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'[\r\n  { type: "Keyword", value: "const" },\r\n  { type: "Identifier", value: "firstName" },\r\n  { type: "Punctuator", value: "=" },\r\n  { type: "String", value: "Masum" },\r\n  { type: "Punctuator", value: ";" },\r\n  { type: "Keyword", value: "const" },\r\n  { type: "Identifier", value: "lastName" },\r\n  { type: "Punctuator", value: "=" },\r\n  { type: "String", value: "Billah" },\r\n  { type: "Punctuator", value: ";" },\r\n];\n'})}),"\n",(0,i.jsx)(n.h4,{id:"2-syntactic-analysis",children:"2. Syntactic Analysis"}),"\n",(0,i.jsx)(n.p,{children:"Next, Babel transforms these tokens into an Abstract Syntax Tree (AST). The AST is a tree structure that represents the syntax of the code."}),"\n",(0,i.jsx)(n.p,{children:"For the two variable declarations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "type": "VariableDeclaration",\r\n  "kind": "const",\r\n  "declarations": [\r\n    {\r\n      "type": "VariableDeclarator",\r\n      "id": { "type": "Identifier", "name": "firstName" },\r\n      "init": { "type": "Literal", "value": "Masum" }\r\n    },\r\n    {\r\n      "type": "VariableDeclarator",\r\n      "id": { "type": "Identifier", "name": "lastName" },\r\n      "init": { "type": "Literal", "value": "Billah" }\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Babel uses ",(0,i.jsx)(n.code,{children:"@babel/parser"})," to do this job."]}),"\n",(0,i.jsx)(n.h3,{id:"2-transforming-ast--modified-ast",children:"2. Transforming (AST \u2192 Modified AST)"}),"\n",(0,i.jsx)(n.p,{children:"Now, Babel applies transformations based on the plugins and presets you have in your configuration. However, since there\u2019s no modern syntax to transform in this simple example, we\u2019re essentially working with no-op transformations."}),"\n",(0,i.jsx)(n.h4,{id:"example-transformation",children:"Example Transformation"}),"\n",(0,i.jsxs)(n.p,{children:["If there were transformations (like changing ",(0,i.jsx)(n.code,{children:"const"})," to ",(0,i.jsx)(n.code,{children:"var"}),", or converting arrow functions), Babel would modify the AST. For this case, no such transformation is needed, so the AST remains the same."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you had a transformation to convert ",(0,i.jsx)(n.code,{children:"const"})," to ",(0,i.jsx)(n.code,{children:"var"}),", Babel would modify the AST as follows:"]}),"\n",(0,i.jsx)(n.p,{children:"Original AST (simplified):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'\r\n{\r\n  "type": "VariableDeclaration",\r\n  "kind": "const",  // To be transformed to \'var\'\r\n  "declarations": [ ... ]\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Transformed AST:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "type": "VariableDeclaration",\r\n  "kind": "var",  // After transformation from \'const\' to \'var\'\r\n  "declarations": [ ... ]\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Used Tool"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This is where ",(0,i.jsx)(n.code,{children:"@babel/traverse"})," and plugins work:"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/plugin-transform-arrow-functions"})," sees ",(0,i.jsx)(n.code,{children:"ArrowFunctionExpression"})," nodes."]}),"\n",(0,i.jsxs)(n.li,{children:["Rewrites them as ",(0,i.jsx)(n.code,{children:"FunctionExpression"})," nodes."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-code-generation-modified-ast--code",children:"3. Code Generation (Modified AST \u2192 Code)"}),"\n",(0,i.jsx)(n.p,{children:"Finally, after Babel processes the AST and applies the necessary transformations, it generates the final JavaScript code."}),"\n",(0,i.jsx)(n.p,{children:"If there were no transformations, the output would look like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const firstName = "Masum";\r\nconst lastName = "Billah";\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If Babel had transformed the ",(0,i.jsx)(n.code,{children:"const"})," declarations into ",(0,i.jsx)(n.code,{children:"var"}),", the generated code would look like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'"use strict";\r\n\r\nvar firstName = "Masum";\r\nvar lastName = "Billah";\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"use strict"'})," is added automatically by Babel for better error handling."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"const"})," is converted to ",(0,i.jsx)(n.code,{children:"var"}),", which is supported by older browsers like Internet Explorer 11."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Used Tool"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/traverse"})," \u2192 Walks through AST nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/types"})," \u2192 Helpers for building/modifying AST nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/generator"})," \u2192 Turns AST back into code"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/core"})," \u2192 Orchestrates everything"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,n,r){r.d(n,{R:()=>a,x:()=>t});var s=r(96540);const i={},l=s.createContext(i);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);