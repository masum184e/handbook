"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[54087],{8308(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"golang/Scoping","title":"Scoping","description":"Scope is the region of the program where a variable, constant, function, or type is accessible.","source":"@site/docs/golang/10. Scoping.md","sourceDirName":"golang","slug":"/golang/Scoping","permalink":"/handbook/docs/golang/Scoping","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11},"sidebar":"golangSidebar","previous":{"title":"Package","permalink":"/handbook/docs/golang/Package"},"next":{"title":"Internal Memory","permalink":"/handbook/docs/golang/Internal Memory"}}');var s=i(74848),l=i(28453);const c={sidebar_position:11},a=void 0,o={},t=[{value:"Local Scope (Block Scope)",id:"local-scope-block-scope",level:2},{value:"Function Scope (Local to a Function)",id:"function-scope-local-to-a-function",level:2},{value:"Package Scope",id:"package-scope",level:2},{value:"File Scope (Imports, Unexported identifiers)",id:"file-scope-imports-unexported-identifiers",level:2},{value:"Global Scope (Exported Identifiers)",id:"global-scope-exported-identifiers",level:2},{value:"Lexical Scope (Nested Functions / Closures)",id:"lexical-scope-nested-functions--closures",level:2},{value:"Summary of Scopes and Memory",id:"summary-of-scopes-and-memory",level:2},{value:"Variable Shadowing",id:"variable-shadowing",level:2},{value:"Execution with Memory &amp; Scope",id:"execution-with-memory--scope",level:2},{value:"1. Program Load (before main() runs)",id:"1-program-load-before-main-runs",level:3},{value:"2. Run <code>init()</code> Function Automatically",id:"2-run-init-function-automatically",level:3},{value:"3. Start Execution (main function call)",id:"3-start-execution-main-function-call",level:3},{value:"4. Enter Block Scope <code>{ ... }</code> inside main",id:"4-enter-block-scope----inside-main",level:3},{value:"5. Back in main after block",id:"5-back-in-main-after-block",level:3},{value:"6. Call show(x)",id:"6-call-showx",level:3},{value:"7. Call <code>anotherShow(m)</code>",id:"7-call-anothershowm",level:3},{value:"8. Call <code>display(x)</code>",id:"8-call-displayx",level:3},{value:"9. Call <code>show(x)</code> again",id:"9-call-showx-again",level:3},{value:"10. Back to main",id:"10-back-to-main",level:3},{value:"Execution Summary",id:"execution-summary",level:3},{value:"Resource",id:"resource",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Scope is the region of the program where a variable, constant, function, or type is accessible."}),"\n",(0,s.jsx)(n.p,{children:"In Go, scope also impacts whether a value is stored on the stack (short-lived, inside function scope) or on the heap (long-lived, escaped variables)."}),"\n",(0,s.jsx)(n.h2,{id:"local-scope-block-scope",children:"Local Scope (Block Scope)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Variables declared inside a block ",(0,s.jsx)(n.code,{children:"{ ... }"})," exist only within that block."]}),"\n",(0,s.jsx)(n.li,{children:"Stored on the stack by default."}),"\n",(0,s.jsx)(n.li,{children:"Destroyed (memory reclaimed) when the function exits, unless the variable escapes (referenced outside)."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\r\nimport "fmt"\r\n\r\nfunc main() {\r\n    if true {\r\n        x := 10  // local to this if-block\r\n        fmt.Println("Inside block:", x)\r\n    }\r\n    // fmt.Println(x) // \u274c ERROR: x not in scope here\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"RAM Impact:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," lives on the stack."]}),"\n",(0,s.jsx)(n.li,{children:"When the block ends, stack memory is reclaimed."}),"\n",(0,s.jsx)(n.li,{children:"No heap allocation unless a pointer/reference escapes the block."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"function-scope-local-to-a-function",children:"Function Scope (Local to a Function)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Variables declared inside a function are visible only in that function."}),"\n",(0,s.jsx)(n.li,{children:"By default stored on the stack, unless escape analysis moves them to the heap."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\r\nimport "fmt"\r\n\r\nfunc add(a, b int) int {\r\n    result := a + b  // scoped to add()\r\n    return result\r\n}\r\n\r\nfunc main() {\r\n    fmt.Println(add(2, 3))\r\n    // fmt.Println(result) // \u274c ERROR: result not accessible here\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"RAM Impact:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"a"}),", ",(0,s.jsx)(n.code,{children:"b"}),", and ",(0,s.jsx)(n.code,{children:"result"})," are stack variables."]}),"\n",(0,s.jsxs)(n.li,{children:["When ",(0,s.jsx)(n.code,{children:"add()"})," finishes, stack memory is freed."]}),"\n",(0,s.jsxs)(n.li,{children:["If we return a pointer to ",(0,s.jsx)(n.code,{children:"result"}),", Go allocates it on the heap."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"package-scope",children:"Package Scope"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Variables declared outside any function are visible throughout the package."}),"\n",(0,s.jsx)(n.li,{children:"Stored in the global memory (data segment / heap)."}),"\n",(0,s.jsx)(n.li,{children:"Persist for the entire runtime of the program."}),"\n",(0,s.jsx)(n.li,{children:"If the variable name starts with a capital letter, it\u2019s exported and visible to other packages."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'var globalMessage = "I am global!" // package scope\r\n\r\nfunc printMessage() {\r\n    fmt.Println(globalMessage)\r\n}\r\n\r\nfunc main() {\r\n    printMessage() // \u2705 Works\r\n    fmt.Println(globalMessage) // \u2705 Works\r\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"globalMessage"})," is declared outside all functions, so any function in the same file (or package) can use it."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"greetings/greetings.go"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package greetings\r\n\r\nimport "fmt"\r\n\r\n// Exported variable (starts with Capital letter)\r\nvar Message = "Hello from Greetings package"\r\n\r\n// Unexported variable (starts with lowercase letter)\r\nvar secret = "This is hidden"\r\n\r\n// Exported function\r\nfunc SayHello(name string) {\r\n    fmt.Println(Message, name)\r\n}\r\n\r\n// Unexported function\r\nfunc whisper() {\r\n    fmt.Println(secret)\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"main.go"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\r\n\r\nimport (\r\n    "fmt"\r\n    "myproject/greetings"\r\n)\r\n\r\nfunc main() {\r\n    fmt.Println(greetings.Message) // \u2705 Allowed, exported\r\n    greetings.SayHello("Masum")    // \u2705 Allowed, exported function\r\n\r\n    // \u274c Not allowed (unexported)\r\n    // fmt.Println(greetings.secret)\r\n    // greetings.whisper()\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"file-scope-imports-unexported-identifiers",children:"File Scope (Imports, Unexported identifiers)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If an identifier starts with a lowercase letter, it is only visible inside the same package file."}),"\n",(0,s.jsx)(n.li,{children:'Works like "private" access modifier.'}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// file1.go\r\npackage main\r\nvar hidden = 42  // only inside this package\r\n\r\n// file2.go\r\npackage main\r\nimport "fmt"\r\n\r\nfunc main() {\r\n    fmt.Println(hidden) // \u2705 accessible within same package\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"RAM Impact:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Same as package scope \u2014 stored globally in heap, persists for program runtime."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"global-scope-exported-identifiers",children:"Global Scope (Exported Identifiers)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If a name starts with a capital letter, it\u2019s exported and visible to other packages."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// mylib/mylib.go\r\npackage mylib\r\nvar GlobalVar = 100  // Exported\r\n\r\n// main.go\r\npackage main\r\nimport (\r\n    "fmt"\r\n    "mylib"\r\n)\r\n\r\nfunc main() {\r\n    fmt.Println(mylib.GlobalVar) // \u2705 accessible globally\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"RAM Impact:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Same as package scope \u2014 stored in global heap memory, persists for full runtime."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"lexical-scope-nested-functions--closures",children:"Lexical Scope (Nested Functions / Closures)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Inner functions can access variables from outer functions."}),"\n",(0,s.jsx)(n.li,{children:"If captured, the variables are stored on the heap (escape analysis)."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\r\nimport "fmt"\r\n\r\nfunc outer() func() int {\r\n    x := 0\r\n    return func() int {\r\n        x++        // closure captures x\r\n        return x\r\n    }\r\n}\r\n\r\nfunc main() {\r\n    counter := outer()\r\n    fmt.Println(counter()) // 1\r\n    fmt.Println(counter()) // 2\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"RAM Impact:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," escapes to the heap because the inner function (",(0,s.jsx)(n.code,{children:"closure"}),") needs it after ",(0,s.jsx)(n.code,{children:"outer()"})," ends."]}),"\n",(0,s.jsxs)(n.li,{children:["Normally, ",(0,s.jsx)(n.code,{children:"x"})," would die with the stack frame of ",(0,s.jsx)(n.code,{children:"outer()"}),", but escape analysis moves it to heap."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"summary-of-scopes-and-memory",children:"Summary of Scopes and Memory"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scope Type"}),(0,s.jsx)(n.th,{children:"Lifetime"}),(0,s.jsx)(n.th,{children:"Memory Location"}),(0,s.jsx)(n.th,{children:"Example Use Case"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Block Scope"}),(0,s.jsx)(n.td,{children:"Until block ends"}),(0,s.jsx)(n.td,{children:"Stack (unless escapes)"}),(0,s.jsxs)(n.td,{children:["Temporary variables in ",(0,s.jsx)(n.code,{children:"if"}),", ",(0,s.jsx)(n.code,{children:"for"}),", ",(0,s.jsx)(n.code,{children:"{...}"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function Scope"}),(0,s.jsx)(n.td,{children:"Until function returns"}),(0,s.jsx)(n.td,{children:"Stack (or heap if escapes)"}),(0,s.jsx)(n.td,{children:"Function-local variables"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Package Scope"}),(0,s.jsx)(n.td,{children:"Entire program runtime"}),(0,s.jsx)(n.td,{children:"Heap (global data segment)"}),(0,s.jsx)(n.td,{children:"Shared state across package"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"File Scope"}),(0,s.jsx)(n.td,{children:"Entire program runtime"}),(0,s.jsx)(n.td,{children:"Heap"}),(0,s.jsx)(n.td,{children:"Package-private variables"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Global Scope"}),(0,s.jsx)(n.td,{children:"Entire program runtime"}),(0,s.jsx)(n.td,{children:"Heap"}),(0,s.jsx)(n.td,{children:"Exported vars/constants"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lexical Scope"}),(0,s.jsx)(n.td,{children:"As long as closure exists"}),(0,s.jsx)(n.td,{children:"Heap"}),(0,s.jsx)(n.td,{children:"Closures holding variables"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"variable-shadowing",children:"Variable Shadowing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"When a variable with the same name is declared in an inner scope, it hides the variable from the outer scope."}),"\n",(0,s.jsx)(n.li,{children:"The outer variable still exists, but is inaccessible in the shadowed area."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'var msg = "Global message"\r\n\r\nfunc main() {\r\n    fmt.Println(msg) // "Global message"\r\n\r\n    msg := "Local message" // shadows global msg\r\n    fmt.Println(msg)       // "Local message"\r\n\r\n    {\r\n        msg := "Block message" // shadows local msg\r\n        fmt.Println(msg)       // "Block message"\r\n    }\r\n\r\n    fmt.Println(msg) // "Local message" (block scope ended)\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"execution-with-memory--scope",children:"Execution with Memory & Scope"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\r\n\r\nimport ("fmt")\r\n\r\nvar first = 5\r\nvar second = 10\r\n\r\nfunc display(p int){\r\n  p = 15\r\n  first = 20\r\n  fmt.Println("Value of p is (In - Display) : ",p)\r\n  fmt.Println("Value of first is (In - Display) : ",first)\r\n}\r\n\r\nfunc anotherShow(m int){\r\n  fmt.Println("Value of a is (In - Another) : ",m)\r\n}\r\n\r\nfunc show(a int){\r\n  fmt.Println("Value of a is (In - Show) : ",a)\r\n  anotherShow((a))\r\n}\r\n\r\nfunc main(){\r\n  x := 5\r\n  fmt.Println("Value of x is (Pre - Main) : ",x)\r\n  {\r\n    fmt.Println("Value of x is (Pre - Local) : ",x)\r\n    x := 10\r\n    fmt.Println("Value of x is (Post - Local) : ",x)\r\n  }\r\n  fmt.Println("Value of x is (Post - Main) : ",x)\r\n\r\n  fmt.Println("Value of first is (Pre - Main) : ",first)\r\n  fmt.Println("Value of second is (Pre - Main) : ",second)\r\n  show(x)\r\n  display(x)\r\n  show(x)\r\n\r\n  fmt.Println("Value of first is (Pre - Main) : ",first)\r\n  fmt.Println("Value of second is (Pre - Main) : ",second)\r\n\r\n  fmt.Println("Value of x is (Last - Main) : ",x)\r\n}\r\n\r\nfunc init(){\r\n   fmt.Println("I\'m init function")\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"1-program-load-before-main-runs",children:"1. Program Load (before main() runs)"}),"\n",(0,s.jsx)(n.p,{children:"Go\u2019s runtime loads your package. It sets up package-scope variables and functions in global memory:"}),"\n",(0,s.jsx)(n.p,{children:"In RAM now (Global Context):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Global Variables in Data Segment","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"first = 5"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"second = 10"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Functions(code pointers, not variables) in Code Segment","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"display"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"anotherShow"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"show"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"main"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"These live for the entire program lifetime. These don\u2019t live on the stack, they live in the global memory region."}),"\n",(0,s.jsxs)(n.h3,{id:"2-run-init-function-automatically",children:["2. Run ",(0,s.jsx)(n.code,{children:"init()"})," Function Automatically"]}),"\n",(0,s.jsxs)(n.p,{children:["Before ",(0,s.jsx)(n.code,{children:"main()"}),", Go always executes ",(0,s.jsx)(n.code,{children:"init()"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A stack frame for ",(0,s.jsx)(n.code,{children:"init()"})," is created."]}),"\n",(0,s.jsx)(n.li,{children:"Inside it, no local variables (except temporary for string printing)."}),"\n",(0,s.jsx)(n.li,{children:"After printing, the stack frame is destroyed."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["RAM after ",(0,s.jsx)(n.code,{children:"init()"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Global still has ",(0,s.jsx)(n.code,{children:"first=5"}),", ",(0,s.jsx)(n.code,{children:"second=10"}),", functions intact."]}),"\n",(0,s.jsxs)(n.li,{children:["Stack for ",(0,s.jsx)(n.code,{children:"init()"})," is popped (freed)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-start-execution-main-function-call",children:"3. Start Execution (main function call)"}),"\n",(0,s.jsxs)(n.p,{children:["Go runtime looks for ",(0,s.jsx)(n.code,{children:"main.main()"})," and starts execution."]}),"\n",(0,s.jsxs)(n.p,{children:["A new stack frame for ",(0,s.jsx)(n.code,{children:"main()"})," is created."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Stack (main\u2019s frame)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["local variable ",(0,s.jsx)(n.code,{children:"x := 5"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"4-enter-block-scope----inside-main",children:["4. Enter Block Scope ",(0,s.jsx)(n.code,{children:"{ ... }"})," inside main"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Creates a new inner block context within ",(0,s.jsx)(n.code,{children:"main"}),"\u2019s stack frame."]}),"\n",(0,s.jsxs)(n.li,{children:["At entry: it sees the outer ",(0,s.jsx)(n.code,{children:"x = 5"})," and prints that."]}),"\n",(0,s.jsxs)(n.li,{children:["Then ",(0,s.jsx)(n.code,{children:"x := 10"})," \u2192 new variable shadows outer ",(0,s.jsx)(n.code,{children:"x"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"So now stack has:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"Outer x = 5 (main)\r\nInner x = 10 (block scope, shadows outer)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Prints ",(0,s.jsx)(n.code,{children:"10"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["When block ends \u2192 inner ",(0,s.jsx)(n.code,{children:"x"})," is destroyed, only outer ",(0,s.jsx)(n.code,{children:"x=5"})," remains."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-back-in-main-after-block",children:"5. Back in main after block"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Still has ",(0,s.jsx)(n.code,{children:"x=5"})," (outer one)."]}),"\n",(0,s.jsxs)(n.li,{children:["Prints ",(0,s.jsx)(n.code,{children:"5"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Then prints ",(0,s.jsx)(n.code,{children:"first=5"}),", ",(0,s.jsx)(n.code,{children:"second=10"})," from global scope."]}),"\n",(0,s.jsx)(n.h3,{id:"6-call-showx",children:"6. Call show(x)"}),"\n",(0,s.jsxs)(n.p,{children:["At this point ",(0,s.jsx)(n.code,{children:"x=5"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["So check weather ",(0,s.jsx)(n.code,{children:"show()"})," is exist in code segment or not, if exist ",(0,s.jsx)(n.code,{children:"show(5)"})," is called."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"New stack frame for show is created"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"7-call-anothershowm",children:["7. Call ",(0,s.jsx)(n.code,{children:"anotherShow(m)"})]}),"\n",(0,s.jsx)(n.p,{children:"New stack frame for anotherShow"}),"\n",(0,s.jsx)(n.p,{children:"Prints:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Value of a is (In - Another): 5\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Then returns \u2192 stack frame destroyed."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Back to ",(0,s.jsx)(n.code,{children:"show"}),", then return \u2192 ",(0,s.jsx)(n.code,{children:"show"})," frame destroyed."]}),"\n",(0,s.jsxs)(n.h3,{id:"8-call-displayx",children:["8. Call ",(0,s.jsx)(n.code,{children:"display(x)"})]}),"\n",(0,s.jsxs)(n.p,{children:["Now still ",(0,s.jsx)(n.code,{children:"x=5"})," in main."]}),"\n",(0,s.jsxs)(n.p,{children:["So ",(0,s.jsx)(n.code,{children:"display(5)"})," is called."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"New stack frame for display"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Inside display:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'p = 15         // local only, doesn\u2019t affect main\u2019s x\r\nfirst = 20     // modifies global "first"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now memory is:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Global: ",(0,s.jsx)(n.code,{children:"first=20"}),", ",(0,s.jsx)(n.code,{children:"second=10"})]}),"\n",(0,s.jsxs)(n.li,{children:["Stack (display): ",(0,s.jsx)(n.code,{children:"p=15"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["After return \u2192 ",(0,s.jsx)(n.code,{children:"p"})," destroyed, but global ",(0,s.jsx)(n.code,{children:"first=20"})," stays."]}),"\n",(0,s.jsxs)(n.h3,{id:"9-call-showx-again",children:["9. Call ",(0,s.jsx)(n.code,{children:"show(x)"})," again"]}),"\n",(0,s.jsxs)(n.p,{children:["Main\u2019s ",(0,s.jsx)(n.code,{children:"x"})," is still ",(0,s.jsx)(n.code,{children:"5"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["So again ",(0,s.jsx)(n.code,{children:"show(5)"})," \u2192 ",(0,s.jsx)(n.code,{children:"anotherShow(5)"})," like before."]}),"\n",(0,s.jsx)(n.h3,{id:"10-back-to-main",children:"10. Back to main"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Value of first is (Pre - Main): 20   // because display() changed it\r\nValue of second is (Pre - Main): 10\r\nValue of x is (Last - Main): 5\n"})}),"\n",(0,s.jsx)(n.h3,{id:"execution-summary",children:"Execution Summary"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Global Context (lives whole program):","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"first = 20 (modified during display)\r\nsecond = 10\r\ndisplay(), anotherShow(), show(), main(), init()\n"})}),"\n","\u2192 stored in global memory/heap."]}),"\n",(0,s.jsxs)(n.li,{children:["Stack during runtime:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"main()"})," creates ",(0,s.jsx)(n.code,{children:"x=5"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Inner block creates temporary ",(0,s.jsx)(n.code,{children:"x=10"})," (shadow), destroyed after block."]}),"\n",(0,s.jsxs)(n.li,{children:["Each function call (",(0,s.jsx)(n.code,{children:"show"}),", ",(0,s.jsx)(n.code,{children:"anotherShow"}),", ",(0,s.jsx)(n.code,{children:"display"}),") makes new stack frames."]}),"\n",(0,s.jsx)(n.li,{children:"On return, stack frames are freed."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Variable Lifetime:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"first"}),", ",(0,s.jsx)(n.code,{children:"second"})," \u2192 live till program ends."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," \u2192 lives till ",(0,s.jsx)(n.code,{children:"main"})," ends."]}),"\n",(0,s.jsxs)(n.li,{children:["Inner block ",(0,s.jsx)(n.code,{children:"x"})," \u2192 lives till block ends."]}),"\n",(0,s.jsxs)(n.li,{children:["Parameters like ",(0,s.jsx)(n.code,{children:"a"}),", ",(0,s.jsx)(n.code,{children:"m"}),", ",(0,s.jsx)(n.code,{children:"p"})," \u2192 live only during function calls."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resource",children:"Resource"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=tVw0g1wh0FI&list=PLpCqPSEm2Xe8sEY2haMDUVgwbkIs5NCJI&index=14&pp=iAQB",children:"What is Scope"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=nLN7KABxDFE&list=PLpCqPSEm2Xe8sEY2haMDUVgwbkIs5NCJI&index=22&pp=iAQB",children:"A Noob Function Expression"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453(e,n,i){i.d(n,{R:()=>c,x:()=>a});var r=i(96540);const s={},l=r.createContext(s);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);