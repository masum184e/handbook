"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[31566],{28453(e,n,i){i.d(n,{R:()=>a,x:()=>o});var r=i(96540);const s={},l=r.createContext(s);function a(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(l.Provider,{value:n},e.children)}},42509(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"oop/Polymorphism","title":"Polymorphism","description":"Polymorphism means:","source":"@site/docs/oop/11. Polymorphism.md","sourceDirName":"oop","slug":"/oop/Polymorphism","permalink":"/handbook/docs/oop/Polymorphism","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{},"sidebar":"oopSidebar","previous":{"title":"Inheritance","permalink":"/handbook/docs/oop/Inheritance"}}');var s=i(74848),l=i(28453);const a={},o=void 0,t={},c=[{value:"Subtyping Polymorphism",id:"subtyping-polymorphism",level:2},{value:"Core Idea",id:"core-idea",level:3},{value:"Example",id:"example",level:3},{value:"Connection to Encapsulation",id:"connection-to-encapsulation",level:3},{value:"Parametric Polymorphism",id:"parametric-polymorphism",level:2},{value:"Example in Java (Generics)",id:"example-in-java-generics",level:3},{value:"What\u2019s happening?",id:"whats-happening",level:3},{value:"Ad-hoc Polymorphism",id:"ad-hoc-polymorphism",level:2},{value:"Example: Method Overloading",id:"example-method-overloading",level:3},{value:"Example: Operator Overloading (C++)",id:"example-operator-overloading-c",level:3},{value:"Relation to Encapsulation",id:"relation-to-encapsulation",level:3},{value:"Side-by-Side Comparison",id:"side-by-side-comparison",level:2},{value:"Deep Conceptual Difference",id:"deep-conceptual-difference",level:2},{value:"Strong Encapsulation Perspective",id:"strong-encapsulation-perspective",level:2},{value:"One Unified Example",id:"one-unified-example",level:2},{value:"Final Insight",id:"final-insight",level:2},{value:"The Most Important Takeaway",id:"the-most-important-takeaway",level:2}];function d(e){const n={blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Polymorphism means:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u201cMany forms\u201d \u2014 the same interface, different behavior."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"But there are three fundamentally different kinds:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Subtyping polymorphism (inheritance-based)"}),"\n",(0,s.jsx)(n.li,{children:"Parametric polymorphism (generics)"}),"\n",(0,s.jsx)(n.li,{children:"Ad-hoc polymorphism (overloading / operator overloading)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"And we\u2019ll connect each one to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Encapsulation"}),"\n",(0,s.jsx)(n.li,{children:"Invariants"}),"\n",(0,s.jsx)(n.li,{children:"Contracts"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"subtyping-polymorphism",children:"Subtyping Polymorphism"}),"\n",(0,s.jsx)(n.p,{children:"Also called: inclusion polymorphism"}),"\n",(0,s.jsx)(n.p,{children:"This is classic OOP polymorphism."}),"\n",(0,s.jsx)(n.p,{children:"A subtype can be used wherever its supertype is expected."}),"\n",(0,s.jsx)(n.h3,{id:"core-idea",children:"Core Idea"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"Shape s = new Circle(5);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.code,{children:"Circle"})," is a ",(0,s.jsx)(n.code,{children:"Shape"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"The behavior depends on the runtime type."}),"\n",(0,s.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"abstract class Shape {\r\n    public abstract double getArea();\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Subtypes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Circle extends Shape {\r\n    private double radius;\r\n\r\n    public Circle(double radius) {\r\n        if (radius <= 0)\r\n            throw new IllegalArgumentException();\r\n        this.radius = radius;\r\n    }\r\n\r\n    public double getArea() {\r\n        return Math.PI * radius * radius;\r\n    }\r\n}\r\n\r\nclass Rectangle extends Shape {\r\n    private double width, height;\r\n\r\n    public Rectangle(double width, double height) {\r\n        if (width <= 0 || height <= 0)\r\n            throw new IllegalArgumentException();\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public double getArea() {\r\n        return width * height;\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Usage:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"Shape s1 = new Circle(5);\r\nShape s2 = new Rectangle(4, 6);\r\n\r\nSystem.out.println(s1.getArea());\r\nSystem.out.println(s2.getArea());\n"})}),"\n",(0,s.jsx)(n.p,{children:"Same method call \u2192 different behavior."}),"\n",(0,s.jsx)(n.p,{children:"That\u2019s polymorphism."}),"\n",(0,s.jsx)(n.h3,{id:"connection-to-encapsulation",children:"Connection to Encapsulation"}),"\n",(0,s.jsx)(n.p,{children:"Each subclass:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Encapsulates its own data (",(0,s.jsx)(n.code,{children:"radius"}),", ",(0,s.jsx)(n.code,{children:"width"}),", ",(0,s.jsx)(n.code,{children:"height"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Protects its own invariants"}),"\n",(0,s.jsxs)(n.li,{children:["Exposes only ",(0,s.jsx)(n.code,{children:"getArea()"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The abstraction (Shape) defines a contract:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Every shape must compute area."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Encapsulation ensures:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Each implementation maintains its internal correctness."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Subtyping only works safely if invariants are preserved (LSP)."}),"\n",(0,s.jsx)(n.p,{children:"If a subclass weakens the contract \u2192 polymorphism becomes unsafe."}),"\n",(0,s.jsx)(n.h2,{id:"parametric-polymorphism",children:"Parametric Polymorphism"}),"\n",(0,s.jsx)(n.p,{children:"Also called:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Generics"}),"\n",(0,s.jsx)(n.li,{children:"Templates"}),"\n",(0,s.jsx)(n.li,{children:"Universal polymorphism"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This means:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Code works uniformly for any type."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-in-java-generics",children:"Example in Java (Generics)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Box<T> {\r\n    private T value;\r\n\r\n    public Box(T value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public T getValue() {\r\n        return value;\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Usage:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Box<Integer> intBox = new Box<>(10);\r\nBox<String> strBox = new Box<>("Hello");\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Same code.",(0,s.jsx)(n.br,{}),"\n","Different types."]}),"\n",(0,s.jsx)(n.p,{children:"No inheritance involved."}),"\n",(0,s.jsx)(n.h3,{id:"whats-happening",children:"What\u2019s happening?"}),"\n",(0,s.jsxs)(n.p,{children:["The type parameter ",(0,s.jsx)(n.code,{children:"T"})," is abstract."]}),"\n",(0,s.jsx)(n.p,{children:"The code does not care whether:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T is Integer"}),"\n",(0,s.jsx)(n.li,{children:"T is String"}),"\n",(0,s.jsx)(n.li,{children:"T is User"}),"\n",(0,s.jsx)(n.li,{children:"T is anything"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The behavior does not change."}),"\n",(0,s.jsx)(n.p,{children:"This is uniform behavior across types."}),"\n",(0,s.jsx)(n.p,{children:"How It Relates to Encapsulation"}),"\n",(0,s.jsx)(n.p,{children:"Encapsulation ensures:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The internal state (",(0,s.jsx)(n.code,{children:"value"}),") is protected."]}),"\n",(0,s.jsx)(n.li,{children:"Type safety is maintained."}),"\n",(0,s.jsx)(n.li,{children:"The invariant \u201cBox always contains a T\u201d is preserved."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Parametric polymorphism:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Does NOT change behavior based on type."}),"\n",(0,s.jsx)(n.li,{children:"It guarantees uniform treatment."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example invariant:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"Box<T>"})," stores a ",(0,s.jsx)(n.code,{children:"T"}),", it will only ever return a ",(0,s.jsx)(n.code,{children:"T"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"That invariant is enforced by the type system."}),"\n",(0,s.jsx)(n.h2,{id:"ad-hoc-polymorphism",children:"Ad-hoc Polymorphism"}),"\n",(0,s.jsx)(n.p,{children:"This means:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Same function name, different implementations depending on types."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Two common forms:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Method overloading"}),"\n",(0,s.jsx)(n.li,{children:"Operator overloading"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-method-overloading",children:"Example: Method Overloading"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Calculator {\r\n\r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n\r\n    public double add(double a, double b) {\r\n        return a + b;\r\n    }\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Same method name ",(0,s.jsx)(n.code,{children:"add"}),(0,s.jsx)(n.br,{}),"\n","Different parameter types",(0,s.jsx)(n.br,{}),"\n","Different behavior"]}),"\n",(0,s.jsx)(n.p,{children:"The compiler chooses the correct one at compile time."}),"\n",(0,s.jsx)(n.h3,{id:"example-operator-overloading-c",children:"Example: Operator Overloading (C++)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class Vector {\r\npublic:\r\n    int x, y;\r\n\r\n    Vector(int x, int y) : x(x), y(y) {}\r\n\r\n    Vector operator+(const Vector& other) {\r\n        return Vector(x + other.x, y + other.y);\r\n    }\r\n};\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"Vector v1(1,2);\r\nVector v2(3,4);\r\nVector v3 = v1 + v2;\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"+"})," behaves differently for:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"integers"}),"\n",(0,s.jsx)(n.li,{children:"floating numbers"}),"\n",(0,s.jsx)(n.li,{children:"vectors"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"That\u2019s ad-hoc polymorphism."}),"\n",(0,s.jsx)(n.h3,{id:"relation-to-encapsulation",children:"Relation to Encapsulation"}),"\n",(0,s.jsx)(n.p,{children:"Encapsulation ensures:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Internal representation of Vector is hidden."}),"\n",(0,s.jsx)(n.li,{children:"Addition preserves invariants (e.g., valid coordinates)."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ad-hoc polymorphism does NOT rely on subtype relationships.\r\nIt relies on:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Multiple function definitions"}),"\n",(0,s.jsx)(n.li,{children:"Compiler resolution"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"side-by-side-comparison",children:"Side-by-Side Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Mechanism"}),(0,s.jsx)(n.th,{children:"Behavior Changes?"}),(0,s.jsx)(n.th,{children:"When Resolved"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Subtyping"}),(0,s.jsx)(n.td,{children:"Inheritance / Interfaces"}),(0,s.jsx)(n.td,{children:"Yes (runtime)"}),(0,s.jsx)(n.td,{children:"Runtime"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Parametric"}),(0,s.jsx)(n.td,{children:"Generics / Templates"}),(0,s.jsx)(n.td,{children:"No (uniform)"}),(0,s.jsx)(n.td,{children:"Compile-time"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ad-hoc"}),(0,s.jsx)(n.td,{children:"Overloading"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Compile-time"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"deep-conceptual-difference",children:"Deep Conceptual Difference"}),"\n",(0,s.jsx)(n.p,{children:"Subtyping:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u201cYou can replace me with my subtype.\u201d"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Parametric:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u201cI work for any type.\u201d"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ad-hoc:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u201cI behave differently depending on argument types.\u201d"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"strong-encapsulation-perspective",children:"Strong Encapsulation Perspective"}),"\n",(0,s.jsx)(n.p,{children:"Polymorphism relies on encapsulation to be safe."}),"\n",(0,s.jsx)(n.p,{children:"Without encapsulation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Subtypes could break invariants."}),"\n",(0,s.jsx)(n.li,{children:"Generics could expose unsafe casts."}),"\n",(0,s.jsx)(n.li,{children:"Overloading could rely on shared mutable state."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Encapsulation ensures:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Internal correctness."}),"\n",(0,s.jsx)(n.li,{children:"Invariants preserved regardless of polymorphic behavior."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"one-unified-example",children:"One Unified Example"}),"\n",(0,s.jsx)(n.p,{children:"Imagine a system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"interface Printer {\r\n    void print();\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Subtyping polymorphism:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class PDFPrinter implements Printer { ... }\r\nclass TextPrinter implements Printer { ... }\n"})}),"\n",(0,s.jsx)(n.p,{children:"Parametric polymorphism:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"class PrinterQueue<T extends Printer> { ... }\n"})}),"\n",(0,s.jsx)(n.p,{children:"Ad-hoc polymorphism:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"void print(String message)\r\nvoid print(int number)\n"})}),"\n",(0,s.jsx)(n.p,{children:"All three forms coexist in real systems."}),"\n",(0,s.jsx)(n.h2,{id:"final-insight",children:"Final Insight"}),"\n",(0,s.jsx)(n.p,{children:"Polymorphism is about flexibility of behavior."}),"\n",(0,s.jsx)(n.p,{children:"Encapsulation is about protection of correctness."}),"\n",(0,s.jsxs)(n.p,{children:["Abstraction defines contracts.",(0,s.jsx)(n.br,{}),"\n","Inheritance enables subtyping.",(0,s.jsx)(n.br,{}),"\n","Generics enable uniformity.",(0,s.jsx)(n.br,{}),"\n","Overloading enables convenience."]}),"\n",(0,s.jsx)(n.p,{children:"But none of them are safe without invariants being protected."}),"\n",(0,s.jsx)(n.h2,{id:"the-most-important-takeaway",children:"The Most Important Takeaway"}),"\n",(0,s.jsxs)(n.p,{children:["Subtyping polymorphism is the most powerful \u2014",(0,s.jsx)(n.br,{}),"\n","and the most dangerous \u2014",(0,s.jsx)(n.br,{}),"\n","because it can violate invariants if misused."]}),"\n",(0,s.jsxs)(n.p,{children:["Parametric polymorphism is the safest \u2014",(0,s.jsx)(n.br,{}),"\n","because behavior is uniform."]}),"\n",(0,s.jsxs)(n.p,{children:["Ad-hoc polymorphism is the simplest \u2014",(0,s.jsx)(n.br,{}),"\n","but limited."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);