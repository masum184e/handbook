"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[5958],{28453(e,n,r){r.d(n,{R:()=>t,x:()=>l});var i=r(96540);const s={},c=i.createContext(s);function t(e){const n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(c.Provider,{value:n},e.children)}},91299(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"nginx/NGINX vs Apache","title":"NGINX vs Apache","description":"Both NGINX and Apache HTTP Server are the most popular web servers used to deliver websites and web applications to users.","source":"@site/docs/nginx/2. NGINX vs Apache.md","sourceDirName":"nginx","slug":"/nginx/NGINX vs Apache","permalink":"/handbook/docs/nginx/NGINX vs Apache","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"nginxApiSidebar","previous":{"title":"Introduction","permalink":"/handbook/docs/nginx/"},"next":{"title":"Installation","permalink":"/handbook/docs/nginx/Installation"}}');var s=r(74848),c=r(28453);const t={},l=void 0,d={},a=[{value:"Architecture (Key Difference)",id:"architecture-key-difference",level:2},{value:"Apache Architecture (Process-Based)",id:"apache-architecture-process-based",level:3},{value:"NGINX Architecture (Event-Driven)",id:"nginx-architecture-event-driven",level:3},{value:"Architecture Comparison",id:"architecture-comparison",level:3},{value:"Performance Comparison",id:"performance-comparison",level:2},{value:"Serving a Static Website",id:"serving-a-static-website",level:2},{value:"Apache Configuration Example",id:"apache-configuration-example",level:3},{value:"NGINX Configuration Example",id:"nginx-configuration-example",level:3},{value:"Handling Dynamic Content (PHP)",id:"handling-dynamic-content-php",level:2},{value:"Apache (Direct PHP Processing)",id:"apache-direct-php-processing",level:3},{value:"NGINX (Via PHP-FPM)",id:"nginx-via-php-fpm",level:3},{value:"Configuration Style",id:"configuration-style",level:2},{value:"Apache (<code>.htaccess</code> Based)",id:"apache-htaccess-based",level:3},{value:"NGINX (Centralized Configuration)",id:"nginx-centralized-configuration",level:3},{value:"Configuration Comparison",id:"configuration-comparison",level:3},{value:"Security Comparison",id:"security-comparison",level:3}];function h(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Both NGINX and Apache HTTP Server are the most popular web servers used to deliver websites and web applications to users."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Server"}),(0,s.jsx)(n.th,{children:"First Released"}),(0,s.jsx)(n.th,{children:"Developed By"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Apache"}),(0,s.jsx)(n.td,{children:"1995"}),(0,s.jsx)(n.td,{children:"Apache Software Foundation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"NGINX"}),(0,s.jsx)(n.td,{children:"2004"}),(0,s.jsx)(n.td,{children:"Igor Sysoev"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Despite serving the same purpose, their internal architecture and performance characteristics are very different."}),"\n",(0,s.jsx)(n.h2,{id:"architecture-key-difference",children:"Architecture (Key Difference)"}),"\n",(0,s.jsx)(n.h3,{id:"apache-architecture-process-based",children:"Apache Architecture (Process-Based)"}),"\n",(0,s.jsx)(n.p,{children:"Apache uses:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"One process or thread per request"}),"\n",(0,s.jsx)(n.li,{children:"Different Multi-Processing Modules (MPMs)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Common Apache MPMs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Prefork \u2013 One process per request (high memory usage)"}),"\n",(0,s.jsx)(n.li,{children:"Worker \u2013 Multi-threaded"}),"\n",(0,s.jsx)(n.li,{children:"Event \u2013 Improved concurrency"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udd34 Problem: High traffic = many processes = high memory consumption"}),"\n",(0,s.jsx)(n.h3,{id:"nginx-architecture-event-driven",children:"NGINX Architecture (Event-Driven)"}),"\n",(0,s.jsx)(n.p,{children:"NGINX uses:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Single master process"}),"\n",(0,s.jsx)(n.li,{children:"Few worker processes"}),"\n",(0,s.jsx)(n.li,{children:"Asynchronous, non-blocking I/O"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udfe2 Benefit: One worker can handle thousands of concurrent connections"}),"\n",(0,s.jsx)(n.h3,{id:"architecture-comparison",children:"Architecture Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Apache"}),(0,s.jsx)(n.th,{children:"NGINX"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Request handling"}),(0,s.jsx)(n.td,{children:"Process/Thread"}),(0,s.jsx)(n.td,{children:"Event-driven"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Concurrency"}),(0,s.jsx)(n.td,{children:"Limited"}),(0,s.jsx)(n.td,{children:"Very high"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Memory usage"}),(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"Low"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"performance-comparison",children:"Performance Comparison"}),"\n",(0,s.jsx)(n.p,{children:"Static Content (HTML, CSS, Images)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"NGINX is much faster"}),"\n",(0,s.jsx)(n.li,{children:"Apache serves static files well, but uses more memory"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Dynamic Content (PHP, Python)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Apache can process dynamic content directly"}),"\n",(0,s.jsx)(n.li,{children:"NGINX passes dynamic requests to external processors (PHP-FPM)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"serving-a-static-website",children:"Serving a Static Website"}),"\n",(0,s.jsx)(n.h3,{id:"apache-configuration-example",children:"Apache Configuration Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-apache",children:"<VirtualHost *:80>\r\n    ServerName example.com\r\n    DocumentRoot /var/www/html\r\n</VirtualHost>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"nginx-configuration-example",children:"NGINX Configuration Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-apache",children:"server {\r\n    listen 80;\r\n    server_name example.com;\r\n    root /var/www/html;\r\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Both configurations serve static files"}),"\n",(0,s.jsx)(n.li,{children:"NGINX uses fewer resources"}),"\n",(0,s.jsx)(n.li,{children:"Apache is easier for beginners"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"handling-dynamic-content-php",children:"Handling Dynamic Content (PHP)"}),"\n",(0,s.jsx)(n.h3,{id:"apache-direct-php-processing",children:"Apache (Direct PHP Processing)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-apache",children:"<FilesMatch \\.php$>\r\n    SetHandler application/x-httpd-php\r\n</FilesMatch>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u2714 Apache can process PHP internally",(0,s.jsx)(n.br,{}),"\n","\u274c Higher memory usage"]}),"\n",(0,s.jsx)(n.h3,{id:"nginx-via-php-fpm",children:"NGINX (Via PHP-FPM)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nginx",children:"location ~ \\.php$ {\r\n    fastcgi_pass unix:/run/php/php-fpm.sock;\r\n    include fastcgi_params;\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u2714 Better performance",(0,s.jsx)(n.br,{}),"\n","\u2714 More scalable",(0,s.jsx)(n.br,{}),"\n","\u274c Slightly more complex setup"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-style",children:"Configuration Style"}),"\n",(0,s.jsxs)(n.h3,{id:"apache-htaccess-based",children:["Apache (",(0,s.jsx)(n.code,{children:".htaccess"})," Based)"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Supports ",(0,s.jsx)(n.code,{children:".htaccess"})]}),"\n",(0,s.jsx)(n.li,{children:"Changes apply without restart"}),"\n",(0,s.jsx)(n.li,{children:"Useful for shared hosting"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"RewriteEngine On\r\nRewriteRule ^old$ new [R=301,L]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"nginx-centralized-configuration",children:"NGINX (Centralized Configuration)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["No ",(0,s.jsx)(n.code,{children:".htaccess"})]}),"\n",(0,s.jsx)(n.li,{children:"Configuration in one place"}),"\n",(0,s.jsx)(n.li,{children:"Faster and more secure"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nginx",children:"rewrite ^/old$ /new permanent;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-comparison",children:"Configuration Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Apache"}),(0,s.jsx)(n.th,{children:"NGINX"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".htaccess"})}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Reload required"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Performance"}),(0,s.jsx)(n.td,{children:"Slower"}),(0,s.jsx)(n.td,{children:"Faster"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"security-comparison",children:"Security Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Apache"}),(0,s.jsx)(n.th,{children:"NGINX"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Attack surface"}),(0,s.jsx)(n.td,{children:"Larger"}),(0,s.jsx)(n.td,{children:"Smaller"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DDoS handling"}),(0,s.jsx)(n.td,{children:"Moderate"}),(0,s.jsx)(n.td,{children:"Better"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SSL handling"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"Excellent"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"NGINX handles SSL/TLS termination more efficiently."})]})}function o(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);