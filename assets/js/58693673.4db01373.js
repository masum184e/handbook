"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[4750],{28453(e,n,t){t.d(n,{R:()=>c,x:()=>l});var s=t(96540);const r={},i=s.createContext(r);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:n},e.children)}},41354(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"system-design/Security/VPN","title":"VPN","description":"A VPN (Virtual Private Network) is a secure, encrypted connection between a user and a private network over the public internet. It allows users to access network resources as if they were directly connected to a private network, while hiding their traffic from eavesdroppers.","source":"@site/docs/system-design/21. Security/9. VPN.md","sourceDirName":"system-design/21. Security","slug":"/system-design/Security/VPN","permalink":"/handbook/docs/system-design/Security/VPN","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{},"sidebar":"systemDesignSidebar","previous":{"title":"Digital Certificate","permalink":"/handbook/docs/system-design/Security/Digital Certificate"},"next":{"title":"Firewall","permalink":"/handbook/docs/system-design/Security/Firewall"}}');var r=t(74848),i=t(28453);const c={},l=void 0,d={},o=[{value:"Why Use a VPN",id:"why-use-a-vpn",level:2},{value:"How VPN Work",id:"how-vpn-work",level:2},{value:"VPN Workflow",id:"vpn-workflow",level:2},{value:"VPN Types",id:"vpn-types",level:2},{value:"VPN Tunneling Protocols",id:"vpn-tunneling-protocols",level:2},{value:"Example of VPN",id:"example-of-vpn",level:2},{value:"Steps",id:"steps",level:3},{value:"VPN Authentication Methods",id:"vpn-authentication-methods",level:2},{value:"Network Security and VPN Integration",id:"network-security-and-vpn-integration",level:2}];function h(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"A VPN (Virtual Private Network) is a secure, encrypted connection between a user and a private network over the public internet. It allows users to access network resources as if they were directly connected to a private network, while hiding their traffic from eavesdroppers."}),"\n",(0,r.jsx)(n.h2,{id:"why-use-a-vpn",children:"Why Use a VPN"}),"\n",(0,r.jsx)(n.p,{children:"From a system design perspective, VPNs are used to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Secure data transmission over untrusted networks (like public Wi-Fi)"}),"\n",(0,r.jsx)(n.li,{children:"Enable remote access to private corporate networks"}),"\n",(0,r.jsx)(n.li,{children:"Protect sensitive services (e.g., internal APIs, databases)"}),"\n",(0,r.jsx)(n.li,{children:"Mask IP addresses and protect user privacy"}),"\n",(0,r.jsx)(n.li,{children:"Segment networks for better access control"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"how-vpn-work",children:"How VPN Work"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Role"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Client Device"})}),(0,r.jsx)(n.td,{children:"The user's laptop/phone that connects to the VPN"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"VPN Server"})}),(0,r.jsx)(n.td,{children:"The endpoint that authenticates, encrypts, and forwards traffic"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Tunneling Protocol"})}),(0,r.jsx)(n.td,{children:"Defines how data is encapsulated (e.g., OpenVPN, IPSec, WireGuard)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Encryption"})}),(0,r.jsx)(n.td,{children:"Protects data inside the tunnel (e.g., AES-256)"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"vpn-workflow",children:"VPN Workflow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"VPN Client initiates a connection to the VPN Server."}),"\n",(0,r.jsx)(n.li,{children:"Authentication is performed (using username/password or digital certificates)."}),"\n",(0,r.jsx)(n.li,{children:"A secure tunnel is established (using SSL/TLS or IPSec)."}),"\n",(0,r.jsx)(n.li,{children:"All traffic from the client is encrypted and routed through the VPN server."}),"\n",(0,r.jsx)(n.li,{children:"The VPN server forwards the traffic to its destination (e.g., internal app, internet)."}),"\n",(0,r.jsx)(n.li,{children:"Responses are encrypted back through the tunnel to the client."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"vpn-types",children:"VPN Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Remote Access VPN"})}),(0,r.jsx)(n.td,{children:"Connects individual users to a private network from anywhere"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Site-to-Site VPN"})}),(0,r.jsx)(n.td,{children:"Connects entire networks (e.g., branch offices) across the internet"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"SSL VPN"})}),(0,r.jsx)(n.td,{children:"Uses SSL/TLS, often through a browser"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Split Tunneling"})}),(0,r.jsx)(n.td,{children:"Some traffic goes through VPN; rest goes directly to the internet"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"vpn-tunneling-protocols",children:"VPN Tunneling Protocols"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Protocol"}),(0,r.jsx)(n.th,{children:"Encryption"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OpenVPN"})}),(0,r.jsx)(n.td,{children:"SSL/TLS"}),(0,r.jsx)(n.td,{children:"Very secure, widely used"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"IPSec"})}),(0,r.jsx)(n.td,{children:"AES"}),(0,r.jsx)(n.td,{children:"Used in site-to-site VPNs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"WireGuard"})}),(0,r.jsx)(n.td,{children:"ChaCha20"}),(0,r.jsx)(n.td,{children:"Modern, lightweight, fast"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"L2TP"})}),(0,r.jsx)(n.td,{children:"With IPSec"}),(0,r.jsx)(n.td,{children:"Older, less secure without IPSec"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"example-of-vpn",children:"Example of VPN"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario:"})," A company has internal tools (like ",(0,r.jsx)(n.code,{children:"admin.internal-corp.com"}),") that should only be accessed by employees."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Remote employees need secure access to internal systems."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"+--------------------+        Encrypted VPN Tunnel        +-----------------------+\r\n|  Remote Employee   | <-------------------------------\x3e |    VPN Server         |\r\n|  (VPN Client)      |                                    | (Inside Corp Network) |\r\n+--------------------+                                    +-----------+-----------+\r\n                                                                      |\r\n                                                                      v\r\n                                                   +----------------------------+\r\n                                                   |  Internal Web App (Admin)  |\r\n                                                   +----------------------------+\n"})}),"\n",(0,r.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Employee opens VPN client \u2192 connects to VPN server."}),"\n",(0,r.jsx)(n.li,{children:"VPN server authenticates the user using username + certificate."}),"\n",(0,r.jsx)(n.li,{children:"A secure tunnel is created."}),"\n",(0,r.jsx)(n.li,{children:"The employee accesses admin.internal-corp.com via internal IP."}),"\n",(0,r.jsx)(n.li,{children:"External users cannot access the internal service, even if they know the domain."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"vpn-authentication-methods",children:"VPN Authentication Methods"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Username + Password"}),(0,r.jsx)(n.td,{children:"Basic auth, usually combined with MFA"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Certificates"}),(0,r.jsx)(n.td,{children:"Client certificates issued by a CA"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Token-based"}),(0,r.jsx)(n.td,{children:"Integrated with SSO providers like Okta, Azure"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MFA (TOTP/SMS)"}),(0,r.jsx)(n.td,{children:"Enhances security"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"network-security-and-vpn-integration",children:"Network Security and VPN Integration"}),"\n",(0,r.jsx)(n.p,{children:"VPN often works with other system components:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Firewall:"})," Only allow traffic from VPN IPs to sensitive systems"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access Control:"})," Users get access based on roles after VPN login"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring/Logging:"})," Track who accessed what and when"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);