"use strict";(globalThis.webpackChunkhandbook=globalThis.webpackChunkhandbook||[]).push([[1726],{28453(s,e,n){n.d(e,{R:()=>i,x:()=>a});var r=n(96540);const t={},l=r.createContext(t);function i(s){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function a(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(t):s.components||t:i(s.components),r.createElement(l.Provider,{value:e},s.children)}},34464(s,e,n){n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"system-design/Throughput","title":"Throughput","description":"Throughput refers to the number of requests or operations a system can handle within a specific period of time, typically measured in requests per second (RPS) or transactions per second (TPS).","source":"@site/docs/system-design/13. Throughput.md","sourceDirName":"system-design","slug":"/system-design/Throughput","permalink":"/handbook/docs/system-design/Throughput","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":14,"frontMatter":{"sidebar_position":14},"sidebar":"systemDesignSidebar","previous":{"title":"Disk Access Latency","permalink":"/handbook/docs/system-design/Latency/Disk Access Latency"},"next":{"title":"TCP","permalink":"/handbook/docs/system-design/TCP"}}');var t=n(74848),l=n(28453);const i={sidebar_position:14},a=void 0,c={},h=[{value:"Key Concepts of Throughput",id:"key-concepts-of-throughput",level:2},{value:"Why Throughput Matters in System Design",id:"why-throughput-matters-in-system-design",level:2},{value:"Throughput vs Latency",id:"throughput-vs-latency",level:2},{value:"How to Improve Throughput in Node.js",id:"how-to-improve-throughput-in-nodejs",level:2},{value:"Measure Throughput",id:"measure-throughput",level:2},{value:"Example of Throughput",id:"example-of-throughput",level:2}];function d(s){const e={annotation:"annotation",code:"code",h2:"h2",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"Throughput refers to the number of requests or operations a system can handle within a specific period of time, typically measured in requests per second (RPS) or transactions per second (TPS)."}),"\n",(0,t.jsx)(e.h2,{id:"key-concepts-of-throughput",children:"Key Concepts of Throughput"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Term"}),(0,t.jsx)(e.th,{children:"Description"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Throughput"})}),(0,t.jsx)(e.td,{children:"The number of successful requests handled by the system per second/minute/hour."})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Latency"})}),(0,t.jsx)(e.td,{children:"The time it takes to process a single request."})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Concurrency"})}),(0,t.jsx)(e.td,{children:"The number of requests being processed at the same time."})]})]})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"High throughput with low latency is ideal for performance."})}),"\n",(0,t.jsx)(e.span,{className:"katex-display",children:(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"T"}),(0,t.jsx)(e.mi,{children:"h"}),(0,t.jsx)(e.mi,{children:"r"}),(0,t.jsx)(e.mi,{children:"o"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"g"}),(0,t.jsx)(e.mi,{children:"h"}),(0,t.jsx)(e.mi,{children:"p"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"t"}),(0,t.jsx)(e.mo,{children:"="}),(0,t.jsxs)(e.mfrac,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"N"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"m"}),(0,t.jsx)(e.mi,{children:"b"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"r"}),(0,t.jsx)(e.mi,{children:"o"}),(0,t.jsx)(e.mi,{children:"f"}),(0,t.jsx)(e.mi,{children:"r"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"q"}),(0,t.jsx)(e.mi,{children:"u"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"s"}),(0,t.jsx)(e.mi,{children:"t"}),(0,t.jsx)(e.mi,{children:"s"}),(0,t.jsx)(e.mi,{children:"c"}),(0,t.jsx)(e.mi,{children:"o"}),(0,t.jsx)(e.mi,{children:"m"}),(0,t.jsx)(e.mi,{children:"p"}),(0,t.jsx)(e.mi,{children:"l"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"t"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"d"})]}),(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"T"}),(0,t.jsx)(e.mi,{children:"i"}),(0,t.jsx)(e.mi,{children:"m"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"t"}),(0,t.jsx)(e.mi,{children:"a"}),(0,t.jsx)(e.mi,{children:"k"}),(0,t.jsx)(e.mi,{children:"e"}),(0,t.jsx)(e.mi,{children:"n"})]})]})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"Throughput = \\frac{Number of requests completed}{Time taken}"})]})})}),(0,t.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"T"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"ro"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"ug"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"p"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:"="}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"2.0574em",verticalAlign:"-0.686em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,t.jsx)(e.span,{className:"mfrac",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,t.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"T"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"im"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"ak"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})]}),(0,t.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,t.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"mb"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"ero"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"re"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"es"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"sco"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"pl"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"d"})]})]})]}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.686em"},children:(0,t.jsx)(e.span,{})})})]})}),(0,t.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,t.jsx)(e.h2,{id:"why-throughput-matters-in-system-design",children:"Why Throughput Matters in System Design"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"It shows how well your system scales under load."}),"\n",(0,t.jsx)(e.li,{children:"It helps you determine resource needs (CPU, memory)."}),"\n",(0,t.jsx)(e.li,{children:"It affects your user capacity and SLA performance."}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"throughput-vs-latency",children:"Throughput vs Latency"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Metric"}),(0,t.jsx)(e.th,{children:"Focus"}),(0,t.jsx)(e.th,{children:"Measured In"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Latency"}),(0,t.jsx)(e.td,{children:"Time per request"}),(0,t.jsx)(e.td,{children:"Milliseconds (ms)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Throughput"}),(0,t.jsx)(e.td,{children:"Requests handled per second"}),(0,t.jsx)(e.td,{children:"RPS (req/sec)"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"how-to-improve-throughput-in-nodejs",children:"How to Improve Throughput in Node.js"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Method"}),(0,t.jsx)(e.th,{children:"Description"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Use Clustering"})}),(0,t.jsxs)(e.td,{children:["Utilize multiple CPU cores using Node.js ",(0,t.jsx)(e.code,{children:"cluster"})," module"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Offload Work"})}),(0,t.jsx)(e.td,{children:"Delegate work to background workers or queues (e.g., RabbitMQ, Bull)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Use Caching"})}),(0,t.jsx)(e.td,{children:"Cache DB/API responses to avoid repeated expensive processing"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Use Load Balancer"})}),(0,t.jsx)(e.td,{children:"Distribute load across multiple Node.js instances"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Use Asynchronous Code"})}),(0,t.jsx)(e.td,{children:"Avoid blocking the event loop with CPU-intensive tasks"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"measure-throughput",children:"Measure Throughput"}),"\n",(0,t.jsx)(e.p,{children:"Install tool:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm install -g autocannon\n"})}),"\n",(0,t.jsx)(e.p,{children:"Run test:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"autocannon -d 10 -c 50 http://localhost:3000/heavy\n"})}),"\n",(0,t.jsx)(e.p,{children:"Explanation:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"-d 10"})," = duration: 10 seconds"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"-c 50"})," = concurrency: 50 clients sending requests\r\nOutput (example):"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"Requests/sec: 18\r\nLatency: 51 ms\n"})}),"\n",(0,t.jsx)(e.p,{children:"This confirms our estimate. Each request takes ~50ms \u2192 throughput ~20 RPS."}),"\n",(0,t.jsx)(e.h2,{id:"example-of-throughput",children:"Example of Throughput"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'const cluster = require("cluster");\r\nconst http = require("http");\r\nconst os = require("os");\r\n\r\nif (cluster.isMaster) {\r\n  const cpuCount = os.cpus().length;\r\n  console.log(`Master PID: ${process.pid}, forking ${cpuCount} workers...`);\r\n  for (let i = 0; i < cpuCount; i++) {\r\n    cluster.fork();\r\n  }\r\n} else {\r\n  const app = require("express")();\r\n  app.get("/", (req, res) => {\r\n    const start = Date.now();\r\n    while (Date.now() - start < 50) {}\r\n    res.send(`Handled by PID: ${process.pid}`);\r\n  });\r\n\r\n  app.listen(3000, () => {\r\n    console.log(`Worker PID: ${process.pid} running...`);\r\n  });\r\n}\n'})})]})}function o(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(d,{...s})}):d(s)}}}]);