---
sidebar_position: 5
---

Refactoring refers to the process of restructuring or rewriting existing code without changing its external behavior. The goal of refactoring is to improve the internal structure of the code, making it more efficient, readable, and maintainable. This process often involves cleaning up code, optimizing algorithms, removing redundancies, and adhering to best practices.
## Why Refactor Code?
1. __Improved Readability__: Clean and well-structured code is easier for developers to understand and maintain.
2. __Simplified __Maintenance: Well-organized code makes it easier to identify bugs, add new features, and apply fixes.
3. __Enhanced Performance__: By optimizing inefficient code or algorithms, you can improve the overall performance of the application.
4. __Reduce Complexity__: Refactoring reduces code complexity by removing unnecessary structures or duplications.

## Common Refactoring Techniques
1. __Renaming Variables or Functions__: Improve clarity by using descriptive names for variables and functions.
2. __Extract Method__: Split a large method into smaller, more focused methods to improve modularity.
3. __Remove Duplicated Code__: Consolidate repeated code into reusable functions or methods.
4. __Replace Magic Numbers with Constants__: Use named constants instead of hardcoded values to improve understanding.
5. __Simplify Conditional Statements__: Refactor complex if-else or switch statements into more readable alternatives.
## Original Code
__Original Code:__
```java
public class DiscountCalculator {

    public double calculateDiscount(double price, String customerType) {
        double discount = 0;

        if (customerType.equals("regular")) {
            discount = price * 0.05;
        } else if (customerType.equals("member")) {
            discount = price * 0.1;
        } else if (customerType.equals("vip")) {
            discount = price * 0.2;
        }

        return price - discount;
    }

    public static void main(String[] args) {
        DiscountCalculator calculator = new DiscountCalculator();
        System.out.println("Final Price: " + calculator.calculateDiscount(100.0, "vip"));
    }
}
```
__Refactored Code:__
```java
public class DiscountCalculator {

    // Step 1: Define an enum for customer types with discount rates.
    public enum CustomerType {
        REGULAR(0.05),
        MEMBER(0.1),
        VIP(0.2);

        private final double discountRate;

        CustomerType(double discountRate) {
            this.discountRate = discountRate;
        }

        public double getDiscountRate() {
            return discountRate;
        }
    }

    // Step 2: Use the enum in the discount calculation.
    public double calculateDiscount(double price, CustomerType customerType) {
        double discount = price * customerType.getDiscountRate();
        return price - discount;
    }

    public static void main(String[] args) {
        DiscountCalculator calculator = new DiscountCalculator();
        // Step 3: Pass the CustomerType enum instead of a string.
        System.out.println("Final Price: " + calculator.calculateDiscount(100.0, CustomerType.VIP));
    }
}
```
