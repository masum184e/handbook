---
title: Internationalization
sidebar_position: 16
---

Next.js provides built-in i18n routing support, but you’ll often combine it with either translation libraries (like `next-intl` or `next-i18next`) or custom dictionaries. With the App Router, you don’t rely on `_app.tsx` anymore — instead, you structure translations around layouts, server components, and data fetching.

## Configure i18n

Next.js has built-in locale routing, so you declare your supported locales here:

```ts
// next.config.ts
/** @type {import('next').NextConfig} */
const nextConfig = {
  i18n: {
    locales: ["en", "fr", "bn"], // English, French, Bangla
    defaultLocale: "en",
  },
};

module.exports = nextConfig;
```

- This enables URLs like: `/en/products`, `/fr/products`, `/bn/products`
- The locale will be available on both the server and client via `params` or `useParams()`

## Organize Translation Dictionaries

Instead of a library, we’ll use simple JSON dictionaries for each language.

```json
// messages/en.json
{
  "welcome": "Welcome to our store",
  "products": "Products"
}

// messages/fr.json
{
  "welcome": "Bienvenue dans notre magasin",
  "products": "Produits"
}

// messages/bn.json
{
  "welcome": "আমাদের দোকানে স্বাগতম",
  "products": "পণ্যসমূহ"
}
```

## Create a Translation Loader

We’ll load dictionary files dynamically based on the locale.

```ts
// lib/get-dictionary.ts
export type Locale = "en" | "fr" | "bn";

export async function getDictionary(locale: Locale) {
  const dictionaries = {
    en: () => import("../messages/en.json").then((m) => m.default),
    fr: () => import("../messages/fr.json").then((m) => m.default),
    bn: () => import("../messages/bn.json").then((m) => m.default),
  };

  return dictionaries[locale]?.() ?? dictionaries.en();
}
```

## Define Locale-Specific Routes

With the App Router, you can scope everything under `[locale]`.

```
app/
 ├─ [locale]/
 │   ├─ layout.tsx
 │   ├─ page.tsx
 │   └─ products/
 │       └─ page.tsx
 └─ globals.css
```

## Use Translations in Layout

```tsx
// app/[locale]/layout.tsx
import { ReactNode } from "react";
import { getDictionary, Locale } from "@/utils/get-dictionary";

export async function generateStaticParams() {
  return [{ locale: "en" }, { locale: "fr" }, { locale: "bn" }];
}

export default async function LocaleLayout({
  children,
  params,
}: {
  children: ReactNode;
  params: { locale: Locale };
}) {
  const { locale } = await params;
  const dict = await getDictionary(locale);

  return (
    <html lang={locale}>
      <body>
        <header className="p-4 bg-gray-200">
          <h1>{dict.welcome}</h1>
        </header>
        <main>{children}</main>
      </body>
    </html>
  );
}
```

## Example with Data Fetching

Let’s fetch product data and localize UI labels.

```tsx
// app/[locale]/page.tsx
import { getDictionary, Locale } from "@/utils/get-dictionary";

type Product = {
  id: number;
  name: string;
};

async function getProducts(): Promise<Product[]> {
  // Example: server-side fetching (e.g., from an API or DB)
  return [
    { id: 1, name: "Laptop" },
    { id: 2, name: "Phone" },
  ];
}

export default async function ProductsPage({
  params,
}: {
  params: { locale: Locale };
}) {
  const { locale } = await params;
  const dict = await getDictionary(locale);
  const products = await getProducts();

  return (
    <section className="p-4">
      <h2 className="text-xl font-bold">{dict.products}</h2>
      <ul>
        {products.map((p) => (
          <li key={p.id}>{p.name}</li>
        ))}
      </ul>
    </section>
  );
}
```

## How Internationalization Works

1. **Routing**
   - `/en/products` → loads English dictionary
   - `/fr/products` → loads French dictionary
   - `/bn/products` → loads Bangla dictionary
2. **Data Fetching**
   - `getProducts()` runs on the server.
   - Dictionary is also fetched on the server.
   - Both are merged in the server component before rendering.
3. **Scalability**
   - You can fetch dictionaries from APIs instead of JSON files.
   - You can add middleware to redirect users based on `Accept-Language` header.
