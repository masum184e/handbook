## `util.promisify`
`util.promisify` converts a function that uses an error-first callback into a function that returns a Promise.

Benefits:

- Enables `async/await` usage on older callback APIs.
- Makes code cleaner and easier to read.
- Avoids manually wrapping callbacks in new Promises.

### Converting `fs.readFile` (callback) to Promise
#### Callback Version (Old Style)
```js
const fs = require('fs');

fs.readFile('example.txt', 'utf-8', (err, data) => {
  if (err) {
    console.error("Error reading file:", err);
  } else {
    console.log("File content:", data);
  }
});
```
- Here, `readFile` is callback-based.
- Error handling is done inside the callback.
- Harder to chain with multiple async operations.

#### Promisified Version with `util.promisify`
```js
const fs = require('fs');
const util = require('util');

// Convert callback-based readFile into a Promise-based version
const readFileAsync = util.promisify(fs.readFile);

readFileAsync('example.txt', 'utf-8')
  .then(data => console.log("File content:", data))
  .catch(err => console.error("Error reading file:", err));
```
- `util.promisify(fs.readFile)` returns a Promise-based function `readFileAsync`.
- `.then()` handles success, `.catch()` handles errors.
- Can now easily use `async/await`.


### Using `async/await` with `promisify`
```js
const fs = require('fs');
const util = require('util');

const readFileAsync = util.promisify(fs.readFile);

async function readMyFile() {
  try {
    const data = await readFileAsync('example.txt', 'utf-8');
    console.log("File content:", data);
  } catch (err) {
    console.error("Error reading file:", err);
  }
}

readMyFile();
```
- Cleaner and easier to read than nested callbacks.
- Error handling is straightforward with `try...catch`.

## Promisifying Your Own Callback Functions

You can promisify your own functions too:
```js
const util = require('util');

function doTask(x, callback) {
  setTimeout(() => {
    if (x < 0) callback(new Error("Negative value"));
    else callback(null, x * 2);
  }, 500);
}

const doTaskAsync = util.promisify(doTask);

async function runTask() {
  try {
    const result = await doTaskAsync(5);
    console.log("Result:", result); // 10
  } catch (err) {
    console.error("Error:", err.message);
  }
}

runTask();
```
- Original `doTask` uses a Node-style callback `(err, result)`.
- `util.promisify(doTask)` creates `doTaskAsync`, which returns a Promise.
- Can now use `async/await` cleanly.
