The `os` module is a core Node.js module that provides operating system–related information and utility methods.

What it is used for

- Detecting OS type (Windows, Linux, macOS)
- Getting CPU, memory, and system load info
- Finding system directories (home, temp)
- Monitoring system health
- Writing cross-platform Node.js apps

The `os` module is read-only — it does not modify system settings.

## Why the `os` Module Matters

In real applications, you may need to:

- Adjust behavior based on OS
- Log system diagnostics
- Optimize performance
- Show system stats in admin dashboards
- Debug memory or CPU issues

## Basic System Information

### OS Platform

```
os.platform();
```

Example output:

```
win32   // Windows
linux
darwin  // macOS
```

Use case

```
if (os.platform() === "win32") {
  console.log("Running on Windows");
}
```

### OS Type

```
os.type();
```

Example output:

```
Windows_NT
Linux
Darwin
```

### OS Release (Version)

```
os.release();
```

Example: `10.0.22621`

## CPU Information

### CPU Details

```
const cpus = os.cpus();
console.log(cpus);
```

What it returns

- Array of CPU cores
- Each core contains: Model, Speed (MHz), Time spent in modes (user, sys, idle)

```
cpus.length; // number of logical cores
```

### CPU Architecture

```
os.arch();
```

Example:

```
x64
arm64
```

## Memory Information

- Total System Memory: `os.totalmem(); // bytes`
- Free Memory: `os.freemem(); // bytes`

Example: Human-Readable Memory

```
function formatMB(bytes) {
  return (bytes / 1024 / 1024).toFixed(2) + " MB";
}

console.log("Total:", formatMB(os.totalmem()));
console.log("Free:", formatMB(os.freemem()));
```

## System Load & Uptime

- System Uptime: `os.uptime(); // seconds`
  - Example: `54231`
- Load Average (Unix Only): `os.loadavg();`
  - Example: `[ 1.23, 0.98, 0.75 ]`
    - 1-minute
    - 5-minute
    - 15-minute load average

    - On Windows, returns [0, 0, 0]

## Network Information

### Network Interfaces

```
const nets = os.networkInterfaces();
console.log(nets);

Example output (simplified)
{
  Ethernet: [
    {
      address: '192.168.1.10',
      family: 'IPv4',
      internal: false
    }
  ]
}
```

Use case

- Finding local IP address
- Debugging network configs

## User & Home Directory

- Current User Info: `os.userInfo();`
- Example:
  ```
  {
    username: 'john',
    homedir: '/Users/john',
    shell: '/bin/zsh'
  }
  ```
- Home Directory: `os.homedir();`
- Temporary Directory: `os.tmpdir();`
  - Use case
    - Temporary files
    - Caching
    - Upload processing

## End-of-Line Marker (Cross-Platform)

```
os.EOL;
```

- Windows → `\r\n`
- Linux/macOS → `\n`

Example

```
const fs = require("fs");
fs.writeFileSync("log.txt", `Line1${os.EOL}Line2`);
```

## Constants from `os.constants`

```
os.constants;
```

Includes:

- Error codes
- Signals
- Priority values

Example:

```
os.constants.signals.SIGTERM;
```

## Real-World Example: System Monitor Script

```
const os = require("os");

function systemStats() {
  return {
    os: os.type(),
    platform: os.platform(),
    arch: os.arch(),
    cpuCores: os.cpus().length,
    totalMemoryMB: (os.totalmem() / 1024 / 1024).toFixed(2),
    freeMemoryMB: (os.freemem() / 1024 / 1024).toFixed(2),
    uptimeHours: (os.uptime() / 3600).toFixed(2)
  };
}

console.log(systemStats());
```

## Using os with HTTP Server (Practical Example)

```
const http = require("http");
const os = require("os");

http.createServer((req, res) => {
  res.writeHead(200, { "Content-Type": "application/json" });

  res.end(JSON.stringify({
    hostname: os.hostname(),
    platform: os.platform(),
    cpuCores: os.cpus().length,
    freeMemory: os.freemem()
  }));
}).listen(3000);
```

Now visiting http://localhost:3000 shows system info.

## What the `os` Module Cannot Do

- Modify system settings
- Control processes
- Manage files

It is informational only.

## Summary Cheat Sheet

| Method                   | Purpose          |
| ------------------------ | ---------------- |
| `os.platform()`          | OS platform      |
| `os.type()`              | OS name          |
| `os.arch()`              | CPU architecture |
| `os.cpus()`              | CPU info         |
| `os.totalmem()`          | Total memory     |
| `os.freemem()`           | Free memory      |
| `os.uptime()`            | System uptime    |
| `os.networkInterfaces()` | Network details  |
| `os.homedir()`           | Home directory   |
| `os.tmpdir()`            | Temp directory   |
| `os.EOL`                 | Line ending      |
