The `path` module is a core Node.js module used to work with file and directory paths in a safe, cross-platform way.

## Why `path` exists (very important)

Different operating systems use different path formats:

| OS            | Example Path             |
| ------------- | ------------------------ |
| Windows       | `C:\Users\John\file.txt` |
| Linux / macOS | `/home/john/file.txt`    |

If you hardcode paths using `/` or `\`, your code will break on other systems.

`path` solves this by generating correct paths automatically.

## Common Path Problems (Without `path`)

### Bad practice:

```js
const filePath = __dirname + "/files/data.txt";
```

- Breaks on Windows
- Can cause double slashes or missing separators

### Correct

```
const filePath = path.join(__dirname, "files", "data.txt");
```

## Key path Properties

## `__dirname` and `__filename`

```
console.log(__dirname);   // Directory of current file
console.log(__filename);  // Full file path
```

Example output:

```
/Users/app/projects/demo
/Users/app/projects/demo/index.js
```

These are not from path, but are commonly used with it.

## `path.join()` – Build Paths (MOST USED)

```
const path = require("path");

const filePath = path.join("folder", "subfolder", "file.txt");

console.log(filePath);
```

Output

- Windows → `folder\subfolder\file.txt`
- macOS/Linux → `folder/subfolder/file.txt`

Why it’s great

- Automatically inserts correct separators
- Cleans up extra slashes

```
path.join("folder//", "file.txt");
// folder/file.txt
```

## `path.resolve()` – Get Absolute Paths

```
const absolutePath = path.resolve("files", "data.txt");
console.log(absolutePath);
```

- Resolves path from current working directory
- Returns an absolute path
- Handles `..` and `.` automatically

```
path.resolve("a", "..", "b");
// /current/working/dir/b
```

### `join` vs `resolve`

| join                | resolve                |
| ------------------- | ---------------------- |
| Joins segments      | Resolves absolute path |
| Can return relative | Always absolute        |

## `path.basename()` – Get File Name

```
path.basename("/users/app/file.txt");
// file.txt
```

Remove extension:

```
path.basename("/users/app/file.txt", ".txt");
// file
```

## `path.dirname()` – Get Directory Name

```
path.dirname("/users/app/file.txt");
// /users/app
```

## `path.extname()` – Get File Extension

```
path.extname("image.png");
// .png
```

If no extension:

```
path.extname("README");
// ""
```

## `path.parse()` – Break Path into Parts

```
const parsed = path.parse("/users/app/file.txt");

console.log(parsed);
```

Output

```
{
  root: '/',
  dir: '/users/app',
  base: 'file.txt',
  ext: '.txt',
  name: 'file'
}
```

Useful when

- Renaming files
- Changing extensions
- File uploads

## `path.format()` – Build Path from Object

```
path.format({
  dir: "/users/app",
  name: "file",
  ext: ".txt"
});
```

Output

```
/users/app/file.txt
```

## `path.isAbsolute()` – Check Absolute Path

```
path.isAbsolute("/users/app");
// true

path.isAbsolute("app/file.txt");
// false
```

## `path.normalize()` – Clean Up Paths

```
path.normalize("/users//app///file.txt");
// /users/app/file.txt
```

Handles weird paths:

```
path.normalize("a/b/../c");
// a/c
```

## Real-World Example (fs + path together)

Reading a file safely

```
const fs = require("fs/promises");
const path = require("path");

async function readData() {
  const filePath = path.join(__dirname, "data", "info.txt");
  const data = await fs.readFile(filePath, "utf8");
  console.log(data);
}

readData();
```

Why this is best practice

- Works on all OS
- Clean & readable
- Prevents path bugs

## Path in Web Servers (Security Tip)

Avoid this:

```
fs.readFile(req.url);
```

Instead:

```
const safePath = path.join(__dirname, "public", req.url);
```

This prevents directory traversal attacks.

## Summary Cheat Sheet

| Method              | Purpose            |
| ------------------- | ------------------ |
| `path.join()`       | Join path segments |
| `path.resolve()`    | Get absolute path  |
| `path.basename()`   | File name          |
| `path.dirname()`    | Folder name        |
| `path.extname()`    | File extension     |
| `path.parse()`      | Path → object      |
| `path.format()`     | Object → path      |
| `path.normalize()`  | Clean path         |
| `path.isAbsolute()` | Check absolute     |
