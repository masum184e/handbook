## Node.js Inspector

Run your app with:

```sh
node --inspect app.js
```

Or with auto-break on first line:

```sh
node --inspect-brk app.js
```

Then open:

```sh
chrome://inspect
```

You can:

- Set breakpoints
- Step through code line by line
- Inspect variables in real time
- Watch call stacks

**Example with Breakpoints**

```js
function calculateTotal(price, quantity) {
  const subtotal = price * quantity;
  const tax = subtotal * 0.1;
  return subtotal + tax;
}

const total = calculateTotal(100, 2);
console.log(total);
```

Set a breakpoint on:

```js
const subtotal = price * quantity;
```

Step through and observe: `price`, `quantity`, `subtotal`, `tax`

## Debugging with VS Code

VS Code integrates with Nodeâ€™s debugger.

Example `launch.json`:

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Launch App",
      "program": "${workspaceFolder}/app.js"
    }
  ]
}
```

Now you can:

- Click breakpoints
- Step into functions
- Inspect variables
- View call stacks


## Using the `debug` Module
1. Install: `npm install debug`
2. Usage:
    ```js
    const debug = require("debug")("app:server");
    debug("Server is starting...");
    ```
3. Run with: `DEBUG=app:* node app.js`
    This allows:
    - Selective logging by namespace
    - Clean production logs
    - No logs unless enabled

**Buggy Code**

```js
app.post("/api/order", (req, res) => {
  const { price, quantity } = req.body;
  const total = price * quantity;
  res.json({ total: total.toFixed(2) });
});
```
If `price` or `quantity` is missing, the app crashes.
