---
title: Response
sidebar_position: 5
---

## Redirection

- `res.redirect()` tells the client (browser or HTTP client) to make a new request to a different URL.
- It sends an HTTP 3xx status code along with the `Location` header.
- Express automatically sets 302 Found by default if no status code is provided.

**Syntax:**

```ts
res.redirect([statusCode], path);
```

- `statusCode` → Optional. The HTTP status code for the redirect (default: 302).
- `path` → The URL or route to redirect to.

### Common Status Codes for Redirects

| Code | Meaning                                   |
| ---- | ----------------------------------------- |
| 301  | Moved Permanently                         |
| 302  | Found (temporary, default)                |
| 307  | Temporary Redirect (preserve HTTP method) |
| 308  | Permanent Redirect (preserve HTTP method) |

#### 301 – Moved Permanently

**Meaning:** The resource has been moved permanently to a new URL.

**Browser behavior:**

- Search engines update their index to the new URL.
- Browsers may cache the redirection aggressively.

**HTTP Method handling:**

- Some clients may change non-GET methods (like `POST`) to `GET` when following a 301 (this is not strictly correct but is common).

**Use case:** When a page or resource has a permanent new home (e.g., changing domain name).

#### 302 – Found (Temporary Redirect, old default)

**Meaning:** The resource is temporarily at another URL.

**Browser behavior:**

- Search engines generally do not update their index (they keep the old URL).
- Browsers treat it as temporary.

**HTTP Method handling:**

- Historically, many clients convert `POST` → `GET`, which is not ideal.

**Use case:** Short-term redirects (e.g., A/B testing, maintenance).

#### 307 – Temporary Redirect (method preserved)

**Meaning:** Resource temporarily resides at a different URL, but…

**HTTP Method handling:**

- Unlike 302, it guarantees the same HTTP method and body are preserved.
- Example: A `POST` request remains a `POST` request after redirection.

**Use case:** When the redirect is temporary, but you want to make sure the request method and data are not lost (e.g., login `POST` requests).

#### 308 – Permanent Redirect (method preserved)

**Meaning:** Resource has been permanently moved, like 301.

**HTTP Method handling:**

- Like 307, it preserves the HTTP method and body.
- Example: A `PUT` or `POST` request stays the same after redirection.

**Use case:** Permanent changes where the request method must be preserved (e.g., moving an API endpoint to a new path).

## Setting Headers

- `res.set()` allows you to manually set HTTP headers on the response.
- Headers provide metadata about the response (e.g., content type, caching, authentication).

```ts
res.set(field: string | object, value?: string | string[]): this
```

- `field` → Name of the header (or an object with multiple headers).
- `value` → Value of the header (optional if using object).
- Returns: the response object so you can chain methods like `.status()` and `.send()`.

**Example**

```ts
res.set({
  "X-App-Version": "1.0.0",
  "Cache-Control": "no-store",
  "X-Powered-By": "Express",
});
```

**Common Use Cases**

- Setting `Content-Type` (text, JSON(`res.set("Content-Type", "application/json");`), HTML)
- Adding security headers (custom or for CORS)
- Controlling caching (`Cache-Control`)
- Setting custom headers for APIs (like `X-Rate-Limit`)
