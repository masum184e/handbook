<!-- MIME (Multipurpose Internet Mail Extensions) types tell the client (browser) what kind of content is being sent, so the client knows how to handle or render it.

Format:

type/subtype

Examples
MIME Type	Meaning
text/html	HTML page
text/css	CSS
application/javascript	JavaScript
image/png	PNG image
application/pdf	PDF file
2. Why MIME Types Matter in NGINX

Correct MIME types ensure:

Proper rendering in browsers

Correct file downloads

Security (avoid content sniffing)

Compatibility with clients and APIs

Wrong MIME types can cause:
❌ Files downloading instead of rendering
❌ Broken web pages
❌ Security warnings

3. How NGINX Determines MIME Types

NGINX determines the Content-Type header using this order:

Explicit types mapping

Included mime.types file

default_type fallback

4. Core Directives for MIME Types
Directive	Context	Purpose
types	http, server, location	Map extensions → MIME types
include mime.types	http	Load standard mappings
default_type	http, server, location	Fallback MIME type
5. Standard MIME Configuration (Recommended)
http {
    include mime.types;
    default_type application/octet-stream;
}

Explanation

mime.types contains hundreds of standard mappings

application/octet-stream forces download for unknown files

6. The mime.types File Explained
Typical Location
/etc/nginx/mime.types

Example Content
types {
    text/html html;
    text/css css;
    application/javascript js;
    image/jpeg jpg jpeg;
    image/png png;
    application/json json;
}

Explanation

Multiple extensions can map to one MIME type

NGINX matches by file extension

7. MIME Type Resolution Example
Config
root /var/www/html;

Files
/var/www/html/
├── index.html
├── style.css
├── app.js
├── logo.png
├── data.json

Client Receives
File	Content-Type
index.html	text/html
style.css	text/css
app.js	application/javascript
logo.png	image/png
data.json	application/json
8. default_type Directive
Syntax
default_type mime-type;

Example
default_type text/plain;

Explanation

Used when no MIME match exists

Overrides default behavior if defined in lower context

9. Overriding MIME Types (Custom Mapping)
Example: Force .log Files to Download
types {
    text/plain log;
}

Example: Force File Download
location /downloads/ {
    default_type application/octet-stream;
}

10. MIME Types Per Location
location /media/ {
    types {
        video/mp4 mp4;
    }
}

Explanation

Overrides MIME handling only for /media/

11. Disabling MIME Type Detection
types { }
default_type application/octet-stream;

Explanation

All files downloaded

Useful for secure file servers

12. Security Best Practices
12.1 Prevent MIME Sniffing
add_header X-Content-Type-Options nosniff;


Prevents browsers from guessing content type.

12.2 Correct JavaScript MIME Type
application/javascript js;


Avoids browser console warnings.

13. Common MIME-Related Issues
Problem	Cause
CSS not loading	Wrong MIME type
JS blocked	text/plain instead of JS
Images download	Incorrect mapping
Browser warnings	Missing nosniff
14. Debugging MIME Types
Check Headers
curl -I http://example.com/style.css


Expected:

Content-Type: text/css

15. Real-World Production Example
http {
    include mime.types;
    default_type application/octet-stream;

    server {
        listen 80;
        root /var/www/app;

        location / {
            try_files $uri $uri/ =404;
        }

        add_header X-Content-Type-Options nosniff;
    }
}

16. Common Mistakes

❌ Not including mime.types
❌ Wrong JS MIME (text/javascript in strict setups)
❌ Overriding default_type globally
❌ Relying on browser sniffing -->