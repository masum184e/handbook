---
sidebar_position: 3
---

Both NGINX and Apache HTTP Server are the most popular web servers used to deliver websites and web applications to users.

| Server | First Released | Developed By               |
| ------ | -------------- | -------------------------- |
| Apache | 1995           | Apache Software Foundation |
| NGINX  | 2004           | Igor Sysoev                |

Despite serving the same purpose, their internal architecture and performance characteristics are very different.

## Architecture (Key Difference)

### Apache Architecture (Process-Based)

Apache uses:

- One process or thread per request
- Different Multi-Processing Modules (MPMs)

Common Apache MPMs:

- Prefork ‚Äì One process per request (high memory usage)
- Worker ‚Äì Multi-threaded
- Event ‚Äì Improved concurrency

üî¥ Problem: High traffic = many processes = high memory consumption

### NGINX Architecture (Event-Driven)

NGINX uses:

- Single master process
- Few worker processes
- Asynchronous, non-blocking I/O

üü¢ Benefit: One worker can handle thousands of concurrent connections

### Architecture Comparison

| Feature          | Apache         | NGINX        |
| ---------------- | -------------- | ------------ |
| Request handling | Process/Thread | Event-driven |
| Concurrency      | Limited        | Very high    |
| Memory usage     | High           | Low          |

## Performance Comparison

Static Content (HTML, CSS, Images)

- NGINX is much faster
- Apache serves static files well, but uses more memory

Dynamic Content (PHP, Python)

- Apache can process dynamic content directly
- NGINX passes dynamic requests to external processors (PHP-FPM)

## Serving a Static Website

### Apache Configuration Example

```apache
<VirtualHost *:80>
    ServerName example.com
    DocumentRoot /var/www/html
</VirtualHost>
```

### NGINX Configuration Example

```apache
server {
    listen 80;
    server_name example.com;
    root /var/www/html;
}
```

- Both configurations serve static files
- NGINX uses fewer resources
- Apache is easier for beginners

## Handling Dynamic Content (PHP)

### Apache (Direct PHP Processing)

```apache
<FilesMatch \.php$>
    SetHandler application/x-httpd-php
</FilesMatch>
```

‚úî Apache can process PHP internally  
‚ùå Higher memory usage

### NGINX (Via PHP-FPM)

```nginx
location ~ \.php$ {
    fastcgi_pass unix:/run/php/php-fpm.sock;
    include fastcgi_params;
}
```

‚úî Better performance  
‚úî More scalable  
‚ùå Slightly more complex setup

## Configuration Style

### Apache (`.htaccess` Based)

- Supports `.htaccess`
- Changes apply without restart
- Useful for shared hosting

```
RewriteEngine On
RewriteRule ^old$ new [R=301,L]
```

### NGINX (Centralized Configuration)

- No `.htaccess`
- Configuration in one place
- Faster and more secure

```nginx
rewrite ^/old$ /new permanent;
```

### Configuration Comparison
| Feature         | Apache | NGINX  |
| --------------- | ------ | ------ |
| `.htaccess`     | Yes    | No     |
| Reload required | No     | Yes    |
| Performance     | Slower | Faster |

### Security Comparison
| Feature        | Apache   | NGINX     |
| -------------- | -------- | --------- |
| Attack surface | Larger   | Smaller   |
| DDoS handling  | Moderate | Better    |
| SSL handling   | Good     | Excellent |

NGINX handles SSL/TLS termination more efficiently.
