

Redis is single-threaded (for command execution), so any blocking operation stops the server from processing other commands.
This leads to:

- High latency
- Timeouts in applications
- Replication lag
- Slow clients
- Stuck transactions
- Load imbalance

Understanding and debugging blocking operations is crucial for Redis performance and stability.

## Common Blocking Commands

A blocking operation is any Redis command that waits for something instead of responding immediately.

| Command                            | Blocking Reason                                           |
| ---------------------------------- | --------------------------------------------------------- |
| `BLPOP`, `BRPOP`, `BRPOPLPUSH`     | Waits for elements in a list                              |
| `XREAD BLOCK`                      | Waits for new messages in a stream                        |
| `XREADGROUP BLOCK`                 | Waits for pending stream entries                          |
| `WAIT`                             | Waits for replication                                     |
| `DEBUG SLEEP`                      | Explicitly blocks Redis execution                         |
| Long Lua scripts                   | Redis cannot process other commands until script finishes |
| Slow commands scheduled by clients | Eg. `KEYS *`, `LRANGE biglist 0 -1`, `HGETALL huge_hash`  |

## To debug blocking

| Tool             | Purpose                      |
| ---------------- | ---------------------------- |
| `CLIENT LIST`    | Find blocked clients         |
| `SLOWLOG`        | Find slow/expensive commands |
| `MONITOR`        | Live command stream          |
| `INFO clients`   | Count blocked clients        |
| `LATENCY DOCTOR` | Analyze latency spikes       |

